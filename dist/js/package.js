(function(r,Dr){typeof exports=="object"&&typeof module<"u"?module.exports=Dr(require("vue")):typeof define=="function"&&define.amd?define(["vue"],Dr):(r=typeof globalThis<"u"?globalThis:r||self,r.package=Dr(r.Vue))})(this,function(r){"use strict";var Dr=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Xo;const oi=o=>Xo=o,Ko=Symbol();function va(o){return o&&typeof o=="object"&&Object.prototype.toString.call(o)==="[object Object]"&&typeof o.toJSON!="function"}var Nr;(function(o){o.direct="direct",o.patchObject="patch object",o.patchFunction="patch function"})(Nr||(Nr={}));function Sc(){const o=r.effectScope(!0),h=o.run(()=>r.ref({}));let a=[],p=[];const S=r.markRaw({install(H){oi(S),S._a=H,H.provide(Ko,S),H.config.globalProperties.$pinia=S,p.forEach(R=>a.push(R)),p=[]},use(H){return!this._a&&!Dr?p.push(H):a.push(H),this},_p:a,_a:null,_e:o,_s:new Map,state:h});return S}const Zo=()=>{};function Qo(o,h,a,p=Zo){o.push(h);const S=()=>{const H=o.indexOf(h);H>-1&&(o.splice(H,1),p())};return!a&&r.getCurrentScope()&&r.onScopeDispose(S),S}function rr(o,...h){o.slice().forEach(a=>{a(...h)})}function _a(o,h){o instanceof Map&&h instanceof Map&&h.forEach((a,p)=>o.set(p,a)),o instanceof Set&&h instanceof Set&&h.forEach(o.add,o);for(const a in h){if(!h.hasOwnProperty(a))continue;const p=h[a],S=o[a];va(S)&&va(p)&&o.hasOwnProperty(a)&&!r.isRef(p)&&!r.isReactive(p)?o[a]=_a(S,p):o[a]=p}return o}const Dc=Symbol();function Nc(o){return!va(o)||!o.hasOwnProperty(Dc)}const{assign:_n}=Object;function Oc(o){return!!(r.isRef(o)&&o.effect)}function Bc(o,h,a,p){const{state:S,actions:H,getters:R}=h,L=a.state.value[o];let K;function U(){L||(a.state.value[o]=S?S():{});const F=r.toRefs(a.state.value[o]);return _n(F,H,Object.keys(R||{}).reduce((z,ee)=>(z[ee]=r.markRaw(r.computed(()=>{oi(a);const Y=a._s.get(o);return R[ee].call(Y,Y)})),z),{}))}return K=Jo(o,U,h,a,p,!0),K}function Jo(o,h,a={},p,S,H){let R;const L=_n({actions:{}},a),K={deep:!0};let U,F,z=r.markRaw([]),ee=r.markRaw([]),Y;const _=p.state.value[o];!H&&!_&&(p.state.value[o]={}),r.ref({});let N;function M(re){let Z;U=F=!1,typeof re=="function"?(re(p.state.value[o]),Z={type:Nr.patchFunction,storeId:o,events:Y}):(_a(p.state.value[o],re),Z={type:Nr.patchObject,payload:re,storeId:o,events:Y});const ie=N=Symbol();r.nextTick().then(()=>{N===ie&&(U=!0)}),F=!0,rr(z,Z,p.state.value[o])}const C=H?function(){const{state:Z}=a,ie=Z?Z():{};this.$patch(fe=>{_n(fe,ie)})}:Zo;function y(){R.stop(),z=[],ee=[],p._s.delete(o)}function te(re,Z){return function(){oi(p);const ie=Array.from(arguments),fe=[],Me=[];function Ye(Fe){fe.push(Fe)}function Ze(Fe){Me.push(Fe)}rr(ee,{args:ie,name:re,store:q,after:Ye,onError:Ze});let ze;try{ze=Z.apply(this&&this.$id===o?this:q,ie)}catch(Fe){throw rr(Me,Fe),Fe}return ze instanceof Promise?ze.then(Fe=>(rr(fe,Fe),Fe)).catch(Fe=>(rr(Me,Fe),Promise.reject(Fe))):(rr(fe,ze),ze)}}const $={_p:p,$id:o,$onAction:Qo.bind(null,ee),$patch:M,$reset:C,$subscribe(re,Z={}){const ie=Qo(z,re,Z.detached,()=>fe()),fe=R.run(()=>r.watch(()=>p.state.value[o],Me=>{(Z.flush==="sync"?F:U)&&re({storeId:o,type:Nr.direct,events:Y},Me)},_n({},K,Z)));return ie},$dispose:y},q=r.reactive($);p._s.set(o,q);const le=p._e.run(()=>(R=r.effectScope(),R.run(()=>h())));for(const re in le){const Z=le[re];if(r.isRef(Z)&&!Oc(Z)||r.isReactive(Z))H||(_&&Nc(Z)&&(r.isRef(Z)?Z.value=_[re]:_a(Z,_[re])),p.state.value[o][re]=Z);else if(typeof Z=="function"){const ie=te(re,Z);le[re]=ie,L.actions[re]=Z}}return _n(q,le),_n(r.toRaw(q),le),Object.defineProperty(q,"$state",{get:()=>p.state.value[o],set:re=>{M(Z=>{_n(Z,re)})}}),p._p.forEach(re=>{_n(q,R.run(()=>re({store:q,app:p._a,pinia:p,options:L})))}),_&&H&&a.hydrate&&a.hydrate(q.$state,_),U=!0,F=!0,q}function Tc(o,h,a){let p,S;const H=typeof h=="function";typeof o=="string"?(p=o,S=H?a:h):(S=o,p=o.id);function R(L,K){const U=r.getCurrentInstance();return L=L||U&&r.inject(Ko,null),L&&oi(L),L=Xo,L._s.has(p)||(H?Jo(p,h,S,L):Bc(p,S,L)),L._s.get(p)}return R.$id=p,R}function qo(o){{o=r.toRaw(o);const h={};for(const a in o){const p=o[a];(r.isRef(p)||r.isReactive(p))&&(h[a]=r.toRef(o,a))}return h}}const by="";var ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $o(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var si={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */si.exports,function(o,h){(function(){var a,p="4.17.21",S=200,H="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",R="Expected a function",L="Invalid `variable` option passed into `_.template`",K="__lodash_hash_undefined__",U=500,F="__lodash_placeholder__",z=1,ee=2,Y=4,_=1,N=2,M=1,C=2,y=4,te=8,$=16,q=32,le=64,re=128,Z=256,ie=512,fe=30,Me="...",Ye=800,Ze=16,ze=1,Fe=2,Kt=3,Oe=1/0,me=9007199254740991,In=17976931348623157e292,lr=0/0,ct=4294967295,Tr=ct-1,Pn=ct>>>1,cr=[["ary",re],["bind",M],["bindKey",C],["curry",te],["curryRight",$],["flip",ie],["partial",q],["partialRight",le],["rearg",Z]],Zt="[object Arguments]",Ln="[object Array]",di="[object AsyncFunction]",tn="[object Boolean]",nn="[object Date]",Ar="[object DOMException]",bn="[object Error]",Fn="[object Function]",hi="[object GeneratorFunction]",bt="[object Map]",Vn="[object Number]",gi="[object Null]",Ot="[object Object]",Rr="[object Promise]",mi="[object Proxy]",wn="[object RegExp]",ht="[object Set]",rn="[object String]",Un="[object Symbol]",ka="[object Undefined]",zn="[object WeakMap]",xa="[object WeakSet]",Wn="[object ArrayBuffer]",an="[object DataView]",ur="[object Float32Array]",fr="[object Float64Array]",Mr="[object Int8Array]",Ir="[object Int16Array]",de="[object Int32Array]",pr="[object Uint8Array]",Hn="[object Uint8ClampedArray]",zt="[object Uint16Array]",Pr="[object Uint32Array]",kn=/\b__p \+= '';/g,rt=/\b(__p \+=) '' \+/g,Ea=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Lr=/&(?:amp|lt|gt|quot|#39);/g,Ie=/[&<>"']/g,Ae=RegExp(Lr.source),Ca=RegExp(Ie.source),xn=/<%-([\s\S]+?)%>/g,Sa=/<%([\s\S]+?)%>/g,Wt=/<%=([\s\S]+?)%>/g,Da=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xe=/^\w*$/,Bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qt=/[\\^$.*+?()[\]{}|]/g,Na=RegExp(Qt.source),Gn=/^\s+/,Fr=/\s/,jn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Oa=/\{\n\/\* \[wrapped with (.+)\] \*/,vi=/,? & /,_i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wt=/[()=,{}\[\]\/\s]/,gt=/\\(\\)?/g,En=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vr=/\w*$/,Ur=/^[-+]0x[0-9a-f]+$/i,Ba=/^0b[01]+$/i,yi=/^\[object .+?Constructor\]$/,bi=/^0o[0-7]+$/i,Yn=/^(?:0|[1-9]\d*)$/,Ta=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,on=/($^)/,Aa=/['\n\r\u2028\u2029\\]/g,kt="\\ud800-\\udfff",Ra="\\u0300-\\u036f",Ma="\\ufe20-\\ufe2f",wi="\\u20d0-\\u20ff",ki=Ra+Ma+wi,xi="\\u2700-\\u27bf",Ei="a-z\\xdf-\\xf6\\xf8-\\xff",Ia="\\xac\\xb1\\xd7\\xf7",Pa="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",La="\\u2000-\\u206f",Fa=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ci="A-Z\\xc0-\\xd6\\xd8-\\xde",Si="\\ufe0e\\ufe0f",Di=Ia+Pa+La+Fa,zr="['’]",Va="["+kt+"]",Ni="["+Di+"]",Xn="["+ki+"]",g="\\d+",s="["+xi+"]",u="["+Ei+"]",c="[^"+kt+Di+g+xi+Ei+Ci+"]",w="\\ud83c[\\udffb-\\udfff]",v="(?:"+Xn+"|"+w+")",k="[^"+kt+"]",O="(?:\\ud83c[\\udde6-\\uddff]){2}",j="[\\ud800-\\udbff][\\udc00-\\udfff]",V="["+Ci+"]",B="\\u200d",T="(?:"+u+"|"+c+")",G="(?:"+V+"|"+c+")",ye="(?:"+zr+"(?:d|ll|m|re|s|t|ve))?",_e="(?:"+zr+"(?:D|LL|M|RE|S|T|VE))?",Be=v+"?",Ee="["+Si+"]?",We="(?:"+B+"(?:"+[k,O,j].join("|")+")"+Ee+Be+")*",Ke="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ve="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Tt=Ee+Be+We,ut="(?:"+[s,O,j].join("|")+")"+Tt,X="(?:"+[k+Xn+"?",Xn,O,j,Va].join("|")+")",Ce=RegExp(zr,"g"),He=RegExp(Xn,"g"),it=RegExp(w+"(?="+w+")|"+X+Tt,"g"),Ht=RegExp([V+"?"+u+"+"+ye+"(?="+[Ni,V,"$"].join("|")+")",G+"+"+_e+"(?="+[Ni,V+T,"$"].join("|")+")",V+"?"+T+"+"+ye,V+"+"+_e,Ve,Ke,g,ut].join("|"),"g"),sn=RegExp("["+B+kt+ki+Si+"]"),ln=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Jt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],At=-1,he={};he[ur]=he[fr]=he[Mr]=he[Ir]=he[de]=he[pr]=he[Hn]=he[zt]=he[Pr]=!0,he[Zt]=he[Ln]=he[Wn]=he[tn]=he[an]=he[nn]=he[bn]=he[Fn]=he[bt]=he[Vn]=he[Ot]=he[wn]=he[ht]=he[rn]=he[zn]=!1;var xe={};xe[Zt]=xe[Ln]=xe[Wn]=xe[an]=xe[tn]=xe[nn]=xe[ur]=xe[fr]=xe[Mr]=xe[Ir]=xe[de]=xe[bt]=xe[Vn]=xe[Ot]=xe[wn]=xe[ht]=xe[rn]=xe[Un]=xe[pr]=xe[Hn]=xe[zt]=xe[Pr]=!0,xe[bn]=xe[Fn]=xe[zn]=!1;var dr={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Wr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Oi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bi=parseFloat,Ti=parseInt,Gr=typeof ir=="object"&&ir&&ir.Object===Object&&ir,Ua=typeof self=="object"&&self&&self.Object===Object&&self,Qe=Gr||Ua||Function("return this")(),za=h&&!h.nodeType&&h,Kn=za&&!0&&o&&!o.nodeType&&o,bs=Kn&&Kn.exports===za,Wa=bs&&Gr.process,Rt=function(){try{var x=Kn&&Kn.require&&Kn.require("util").types;return x||Wa&&Wa.binding&&Wa.binding("util")}catch{}}(),ws=Rt&&Rt.isArrayBuffer,ks=Rt&&Rt.isDate,xs=Rt&&Rt.isMap,Es=Rt&&Rt.isRegExp,Cs=Rt&&Rt.isSet,Ss=Rt&&Rt.isTypedArray;function xt(x,A,D){switch(D.length){case 0:return x.call(A);case 1:return x.call(A,D[0]);case 2:return x.call(A,D[0],D[1]);case 3:return x.call(A,D[0],D[1],D[2])}return x.apply(A,D)}function Hp(x,A,D,J){for(var ce=-1,Se=x==null?0:x.length;++ce<Se;){var Je=x[ce];A(J,Je,D(Je),x)}return J}function Mt(x,A){for(var D=-1,J=x==null?0:x.length;++D<J&&A(x[D],D,x)!==!1;);return x}function Gp(x,A){for(var D=x==null?0:x.length;D--&&A(x[D],D,x)!==!1;);return x}function Ds(x,A){for(var D=-1,J=x==null?0:x.length;++D<J;)if(!A(x[D],D,x))return!1;return!0}function Cn(x,A){for(var D=-1,J=x==null?0:x.length,ce=0,Se=[];++D<J;){var Je=x[D];A(Je,D,x)&&(Se[ce++]=Je)}return Se}function Ai(x,A){var D=x==null?0:x.length;return!!D&&hr(x,A,0)>-1}function Ha(x,A,D){for(var J=-1,ce=x==null?0:x.length;++J<ce;)if(D(A,x[J]))return!0;return!1}function Re(x,A){for(var D=-1,J=x==null?0:x.length,ce=Array(J);++D<J;)ce[D]=A(x[D],D,x);return ce}function Sn(x,A){for(var D=-1,J=A.length,ce=x.length;++D<J;)x[ce+D]=A[D];return x}function Ga(x,A,D,J){var ce=-1,Se=x==null?0:x.length;for(J&&Se&&(D=x[++ce]);++ce<Se;)D=A(D,x[ce],ce,x);return D}function jp(x,A,D,J){var ce=x==null?0:x.length;for(J&&ce&&(D=x[--ce]);ce--;)D=A(D,x[ce],ce,x);return D}function ja(x,A){for(var D=-1,J=x==null?0:x.length;++D<J;)if(A(x[D],D,x))return!0;return!1}var Yp=Ya("length");function Xp(x){return x.split("")}function Kp(x){return x.match(_i)||[]}function Ns(x,A,D){var J;return D(x,function(ce,Se,Je){if(A(ce,Se,Je))return J=Se,!1}),J}function Ri(x,A,D,J){for(var ce=x.length,Se=D+(J?1:-1);J?Se--:++Se<ce;)if(A(x[Se],Se,x))return Se;return-1}function hr(x,A,D){return A===A?od(x,A,D):Ri(x,Os,D)}function Zp(x,A,D,J){for(var ce=D-1,Se=x.length;++ce<Se;)if(J(x[ce],A))return ce;return-1}function Os(x){return x!==x}function Bs(x,A){var D=x==null?0:x.length;return D?Ka(x,A)/D:lr}function Ya(x){return function(A){return A==null?a:A[x]}}function Xa(x){return function(A){return x==null?a:x[A]}}function Ts(x,A,D,J,ce){return ce(x,function(Se,Je,Te){D=J?(J=!1,Se):A(D,Se,Je,Te)}),D}function Qp(x,A){var D=x.length;for(x.sort(A);D--;)x[D]=x[D].value;return x}function Ka(x,A){for(var D,J=-1,ce=x.length;++J<ce;){var Se=A(x[J]);Se!==a&&(D=D===a?Se:D+Se)}return D}function Za(x,A){for(var D=-1,J=Array(x);++D<x;)J[D]=A(D);return J}function Jp(x,A){return Re(A,function(D){return[D,x[D]]})}function As(x){return x&&x.slice(0,Ps(x)+1).replace(Gn,"")}function Et(x){return function(A){return x(A)}}function Qa(x,A){return Re(A,function(D){return x[D]})}function jr(x,A){return x.has(A)}function Rs(x,A){for(var D=-1,J=x.length;++D<J&&hr(A,x[D],0)>-1;);return D}function Ms(x,A){for(var D=x.length;D--&&hr(A,x[D],0)>-1;);return D}function qp(x,A){for(var D=x.length,J=0;D--;)x[D]===A&&++J;return J}var $p=Xa(dr),ed=Xa(Wr);function td(x){return"\\"+Oi[x]}function nd(x,A){return x==null?a:x[A]}function gr(x){return sn.test(x)}function rd(x){return ln.test(x)}function id(x){for(var A,D=[];!(A=x.next()).done;)D.push(A.value);return D}function Ja(x){var A=-1,D=Array(x.size);return x.forEach(function(J,ce){D[++A]=[ce,J]}),D}function Is(x,A){return function(D){return x(A(D))}}function Dn(x,A){for(var D=-1,J=x.length,ce=0,Se=[];++D<J;){var Je=x[D];(Je===A||Je===F)&&(x[D]=F,Se[ce++]=D)}return Se}function Mi(x){var A=-1,D=Array(x.size);return x.forEach(function(J){D[++A]=J}),D}function ad(x){var A=-1,D=Array(x.size);return x.forEach(function(J){D[++A]=[J,J]}),D}function od(x,A,D){for(var J=D-1,ce=x.length;++J<ce;)if(x[J]===A)return J;return-1}function sd(x,A,D){for(var J=D+1;J--;)if(x[J]===A)return J;return J}function mr(x){return gr(x)?cd(x):Yp(x)}function Gt(x){return gr(x)?ud(x):Xp(x)}function Ps(x){for(var A=x.length;A--&&Fr.test(x.charAt(A)););return A}var ld=Xa(Hr);function cd(x){for(var A=it.lastIndex=0;it.test(x);)++A;return A}function ud(x){return x.match(it)||[]}function fd(x){return x.match(Ht)||[]}var pd=function x(A){A=A==null?Qe:vr.defaults(Qe.Object(),A,vr.pick(Qe,Jt));var D=A.Array,J=A.Date,ce=A.Error,Se=A.Function,Je=A.Math,Te=A.Object,qa=A.RegExp,dd=A.String,It=A.TypeError,Ii=D.prototype,hd=Se.prototype,_r=Te.prototype,Pi=A["__core-js_shared__"],Li=hd.toString,Ne=_r.hasOwnProperty,gd=0,Ls=function(){var e=/[^.]+$/.exec(Pi&&Pi.keys&&Pi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fi=_r.toString,md=Li.call(Te),vd=Qe._,_d=qa("^"+Li.call(Ne).replace(Qt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vi=bs?A.Buffer:a,Nn=A.Symbol,Ui=A.Uint8Array,Fs=Vi?Vi.allocUnsafe:a,zi=Is(Te.getPrototypeOf,Te),Vs=Te.create,Us=_r.propertyIsEnumerable,Wi=Ii.splice,zs=Nn?Nn.isConcatSpreadable:a,Yr=Nn?Nn.iterator:a,Zn=Nn?Nn.toStringTag:a,Hi=function(){try{var e=er(Te,"defineProperty");return e({},"",{}),e}catch{}}(),yd=A.clearTimeout!==Qe.clearTimeout&&A.clearTimeout,bd=J&&J.now!==Qe.Date.now&&J.now,wd=A.setTimeout!==Qe.setTimeout&&A.setTimeout,Gi=Je.ceil,ji=Je.floor,$a=Te.getOwnPropertySymbols,kd=Vi?Vi.isBuffer:a,Ws=A.isFinite,xd=Ii.join,Ed=Is(Te.keys,Te),qe=Je.max,at=Je.min,Cd=J.now,Sd=A.parseInt,Hs=Je.random,Dd=Ii.reverse,eo=er(A,"DataView"),Xr=er(A,"Map"),to=er(A,"Promise"),yr=er(A,"Set"),Kr=er(A,"WeakMap"),Zr=er(Te,"create"),Yi=Kr&&new Kr,br={},Nd=tr(eo),Od=tr(Xr),Bd=tr(to),Td=tr(yr),Ad=tr(Kr),Xi=Nn?Nn.prototype:a,Qr=Xi?Xi.valueOf:a,Gs=Xi?Xi.toString:a;function f(e){if(Ue(e)&&!ue(e)&&!(e instanceof we)){if(e instanceof Pt)return e;if(Ne.call(e,"__wrapped__"))return jl(e)}return new Pt(e)}var wr=function(){function e(){}return function(t){if(!Pe(t))return{};if(Vs)return Vs(t);e.prototype=t;var n=new e;return e.prototype=a,n}}();function Ki(){}function Pt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}f.templateSettings={escape:xn,evaluate:Sa,interpolate:Wt,variable:"",imports:{_:f}},f.prototype=Ki.prototype,f.prototype.constructor=f,Pt.prototype=wr(Ki.prototype),Pt.prototype.constructor=Pt;function we(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ct,this.__views__=[]}function Rd(){var e=new we(this.__wrapped__);return e.__actions__=mt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=mt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=mt(this.__views__),e}function Md(){if(this.__filtered__){var e=new we(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Id(){var e=this.__wrapped__.value(),t=this.__dir__,n=ue(e),i=t<0,l=n?e.length:0,d=Xh(0,l,this.__views__),m=d.start,b=d.end,E=b-m,I=i?b:m-1,P=this.__iteratees__,W=P.length,Q=0,ne=at(E,this.__takeCount__);if(!n||!i&&l==E&&ne==E)return hl(e,this.__actions__);var oe=[];e:for(;E--&&Q<ne;){I+=t;for(var ge=-1,se=e[I];++ge<W;){var be=P[ge],ke=be.iteratee,Dt=be.type,dt=ke(se);if(Dt==Fe)se=dt;else if(!dt){if(Dt==ze)continue e;break e}}oe[Q++]=se}return oe}we.prototype=wr(Ki.prototype),we.prototype.constructor=we;function Qn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Pd(){this.__data__=Zr?Zr(null):{},this.size=0}function Ld(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Fd(e){var t=this.__data__;if(Zr){var n=t[e];return n===K?a:n}return Ne.call(t,e)?t[e]:a}function Vd(e){var t=this.__data__;return Zr?t[e]!==a:Ne.call(t,e)}function Ud(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Zr&&t===a?K:t,this}Qn.prototype.clear=Pd,Qn.prototype.delete=Ld,Qn.prototype.get=Fd,Qn.prototype.has=Vd,Qn.prototype.set=Ud;function cn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function zd(){this.__data__=[],this.size=0}function Wd(e){var t=this.__data__,n=Zi(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Wi.call(t,n,1),--this.size,!0}function Hd(e){var t=this.__data__,n=Zi(t,e);return n<0?a:t[n][1]}function Gd(e){return Zi(this.__data__,e)>-1}function jd(e,t){var n=this.__data__,i=Zi(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}cn.prototype.clear=zd,cn.prototype.delete=Wd,cn.prototype.get=Hd,cn.prototype.has=Gd,cn.prototype.set=jd;function un(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Yd(){this.size=0,this.__data__={hash:new Qn,map:new(Xr||cn),string:new Qn}}function Xd(e){var t=sa(this,e).delete(e);return this.size-=t?1:0,t}function Kd(e){return sa(this,e).get(e)}function Zd(e){return sa(this,e).has(e)}function Qd(e,t){var n=sa(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}un.prototype.clear=Yd,un.prototype.delete=Xd,un.prototype.get=Kd,un.prototype.has=Zd,un.prototype.set=Qd;function Jn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new un;++t<n;)this.add(e[t])}function Jd(e){return this.__data__.set(e,K),this}function qd(e){return this.__data__.has(e)}Jn.prototype.add=Jn.prototype.push=Jd,Jn.prototype.has=qd;function jt(e){var t=this.__data__=new cn(e);this.size=t.size}function $d(){this.__data__=new cn,this.size=0}function eh(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function th(e){return this.__data__.get(e)}function nh(e){return this.__data__.has(e)}function rh(e,t){var n=this.__data__;if(n instanceof cn){var i=n.__data__;if(!Xr||i.length<S-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new un(i)}return n.set(e,t),this.size=n.size,this}jt.prototype.clear=$d,jt.prototype.delete=eh,jt.prototype.get=th,jt.prototype.has=nh,jt.prototype.set=rh;function js(e,t){var n=ue(e),i=!n&&nr(e),l=!n&&!i&&Rn(e),d=!n&&!i&&!l&&Cr(e),m=n||i||l||d,b=m?Za(e.length,dd):[],E=b.length;for(var I in e)(t||Ne.call(e,I))&&!(m&&(I=="length"||l&&(I=="offset"||I=="parent")||d&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||hn(I,E)))&&b.push(I);return b}function Ys(e){var t=e.length;return t?e[po(0,t-1)]:a}function ih(e,t){return la(mt(e),qn(t,0,e.length))}function ah(e){return la(mt(e))}function no(e,t,n){(n!==a&&!Yt(e[t],n)||n===a&&!(t in e))&&fn(e,t,n)}function Jr(e,t,n){var i=e[t];(!(Ne.call(e,t)&&Yt(i,n))||n===a&&!(t in e))&&fn(e,t,n)}function Zi(e,t){for(var n=e.length;n--;)if(Yt(e[n][0],t))return n;return-1}function oh(e,t,n,i){return On(e,function(l,d,m){t(i,l,n(l),m)}),i}function Xs(e,t){return e&&$t(t,$e(t),e)}function sh(e,t){return e&&$t(t,_t(t),e)}function fn(e,t,n){t=="__proto__"&&Hi?Hi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ro(e,t){for(var n=-1,i=t.length,l=D(i),d=e==null;++n<i;)l[n]=d?a:Fo(e,t[n]);return l}function qn(e,t,n){return e===e&&(n!==a&&(e=e<=n?e:n),t!==a&&(e=e>=t?e:t)),e}function Lt(e,t,n,i,l,d){var m,b=t&z,E=t&ee,I=t&Y;if(n&&(m=l?n(e,i,l,d):n(e)),m!==a)return m;if(!Pe(e))return e;var P=ue(e);if(P){if(m=Zh(e),!b)return mt(e,m)}else{var W=ot(e),Q=W==Fn||W==hi;if(Rn(e))return vl(e,b);if(W==Ot||W==Zt||Q&&!l){if(m=E||Q?{}:Pl(e),!b)return E?Fh(e,sh(m,e)):Lh(e,Xs(m,e))}else{if(!xe[W])return l?e:{};m=Qh(e,W,b)}}d||(d=new jt);var ne=d.get(e);if(ne)return ne;d.set(e,m),fc(e)?e.forEach(function(se){m.add(Lt(se,t,n,se,e,d))}):cc(e)&&e.forEach(function(se,be){m.set(be,Lt(se,t,n,be,e,d))});var oe=I?E?Eo:xo:E?_t:$e,ge=P?a:oe(e);return Mt(ge||e,function(se,be){ge&&(be=se,se=e[be]),Jr(m,be,Lt(se,t,n,be,e,d))}),m}function lh(e){var t=$e(e);return function(n){return Ks(n,e,t)}}function Ks(e,t,n){var i=n.length;if(e==null)return!i;for(e=Te(e);i--;){var l=n[i],d=t[l],m=e[l];if(m===a&&!(l in e)||!d(m))return!1}return!0}function Zs(e,t,n){if(typeof e!="function")throw new It(R);return ii(function(){e.apply(a,n)},t)}function qr(e,t,n,i){var l=-1,d=Ai,m=!0,b=e.length,E=[],I=t.length;if(!b)return E;n&&(t=Re(t,Et(n))),i?(d=Ha,m=!1):t.length>=S&&(d=jr,m=!1,t=new Jn(t));e:for(;++l<b;){var P=e[l],W=n==null?P:n(P);if(P=i||P!==0?P:0,m&&W===W){for(var Q=I;Q--;)if(t[Q]===W)continue e;E.push(P)}else d(t,W,i)||E.push(P)}return E}var On=kl(qt),Qs=kl(ao,!0);function ch(e,t){var n=!0;return On(e,function(i,l,d){return n=!!t(i,l,d),n}),n}function Qi(e,t,n){for(var i=-1,l=e.length;++i<l;){var d=e[i],m=t(d);if(m!=null&&(b===a?m===m&&!St(m):n(m,b)))var b=m,E=d}return E}function uh(e,t,n,i){var l=e.length;for(n=pe(n),n<0&&(n=-n>l?0:l+n),i=i===a||i>l?l:pe(i),i<0&&(i+=l),i=n>i?0:dc(i);n<i;)e[n++]=t;return e}function Js(e,t){var n=[];return On(e,function(i,l,d){t(i,l,d)&&n.push(i)}),n}function tt(e,t,n,i,l){var d=-1,m=e.length;for(n||(n=qh),l||(l=[]);++d<m;){var b=e[d];t>0&&n(b)?t>1?tt(b,t-1,n,i,l):Sn(l,b):i||(l[l.length]=b)}return l}var io=xl(),qs=xl(!0);function qt(e,t){return e&&io(e,t,$e)}function ao(e,t){return e&&qs(e,t,$e)}function Ji(e,t){return Cn(t,function(n){return gn(e[n])})}function $n(e,t){t=Tn(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[en(t[n++])];return n&&n==i?e:a}function $s(e,t,n){var i=t(e);return ue(e)?i:Sn(i,n(e))}function ft(e){return e==null?e===a?ka:gi:Zn&&Zn in Te(e)?Yh(e):ag(e)}function oo(e,t){return e>t}function fh(e,t){return e!=null&&Ne.call(e,t)}function ph(e,t){return e!=null&&t in Te(e)}function dh(e,t,n){return e>=at(t,n)&&e<qe(t,n)}function so(e,t,n){for(var i=n?Ha:Ai,l=e[0].length,d=e.length,m=d,b=D(d),E=1/0,I=[];m--;){var P=e[m];m&&t&&(P=Re(P,Et(t))),E=at(P.length,E),b[m]=!n&&(t||l>=120&&P.length>=120)?new Jn(m&&P):a}P=e[0];var W=-1,Q=b[0];e:for(;++W<l&&I.length<E;){var ne=P[W],oe=t?t(ne):ne;if(ne=n||ne!==0?ne:0,!(Q?jr(Q,oe):i(I,oe,n))){for(m=d;--m;){var ge=b[m];if(!(ge?jr(ge,oe):i(e[m],oe,n)))continue e}Q&&Q.push(oe),I.push(ne)}}return I}function hh(e,t,n,i){return qt(e,function(l,d,m){t(i,n(l),d,m)}),i}function $r(e,t,n){t=Tn(t,e),e=Ul(e,t);var i=e==null?e:e[en(Vt(t))];return i==null?a:xt(i,e,n)}function el(e){return Ue(e)&&ft(e)==Zt}function gh(e){return Ue(e)&&ft(e)==Wn}function mh(e){return Ue(e)&&ft(e)==nn}function ei(e,t,n,i,l){return e===t?!0:e==null||t==null||!Ue(e)&&!Ue(t)?e!==e&&t!==t:vh(e,t,n,i,ei,l)}function vh(e,t,n,i,l,d){var m=ue(e),b=ue(t),E=m?Ln:ot(e),I=b?Ln:ot(t);E=E==Zt?Ot:E,I=I==Zt?Ot:I;var P=E==Ot,W=I==Ot,Q=E==I;if(Q&&Rn(e)){if(!Rn(t))return!1;m=!0,P=!1}if(Q&&!P)return d||(d=new jt),m||Cr(e)?Rl(e,t,n,i,l,d):Gh(e,t,E,n,i,l,d);if(!(n&_)){var ne=P&&Ne.call(e,"__wrapped__"),oe=W&&Ne.call(t,"__wrapped__");if(ne||oe){var ge=ne?e.value():e,se=oe?t.value():t;return d||(d=new jt),l(ge,se,n,i,d)}}return Q?(d||(d=new jt),jh(e,t,n,i,l,d)):!1}function _h(e){return Ue(e)&&ot(e)==bt}function lo(e,t,n,i){var l=n.length,d=l,m=!i;if(e==null)return!d;for(e=Te(e);l--;){var b=n[l];if(m&&b[2]?b[1]!==e[b[0]]:!(b[0]in e))return!1}for(;++l<d;){b=n[l];var E=b[0],I=e[E],P=b[1];if(m&&b[2]){if(I===a&&!(E in e))return!1}else{var W=new jt;if(i)var Q=i(I,P,E,e,t,W);if(!(Q===a?ei(P,I,_|N,i,W):Q))return!1}}return!0}function tl(e){if(!Pe(e)||eg(e))return!1;var t=gn(e)?_d:yi;return t.test(tr(e))}function yh(e){return Ue(e)&&ft(e)==wn}function bh(e){return Ue(e)&&ot(e)==ht}function wh(e){return Ue(e)&&ha(e.length)&&!!he[ft(e)]}function nl(e){return typeof e=="function"?e:e==null?yt:typeof e=="object"?ue(e)?al(e[0],e[1]):il(e):Ec(e)}function co(e){if(!ri(e))return Ed(e);var t=[];for(var n in Te(e))Ne.call(e,n)&&n!="constructor"&&t.push(n);return t}function kh(e){if(!Pe(e))return ig(e);var t=ri(e),n=[];for(var i in e)i=="constructor"&&(t||!Ne.call(e,i))||n.push(i);return n}function uo(e,t){return e<t}function rl(e,t){var n=-1,i=vt(e)?D(e.length):[];return On(e,function(l,d,m){i[++n]=t(l,d,m)}),i}function il(e){var t=So(e);return t.length==1&&t[0][2]?Fl(t[0][0],t[0][1]):function(n){return n===e||lo(n,e,t)}}function al(e,t){return No(e)&&Ll(t)?Fl(en(e),t):function(n){var i=Fo(n,e);return i===a&&i===t?Vo(n,e):ei(t,i,_|N)}}function qi(e,t,n,i,l){e!==t&&io(t,function(d,m){if(l||(l=new jt),Pe(d))xh(e,t,m,n,qi,i,l);else{var b=i?i(Bo(e,m),d,m+"",e,t,l):a;b===a&&(b=d),no(e,m,b)}},_t)}function xh(e,t,n,i,l,d,m){var b=Bo(e,n),E=Bo(t,n),I=m.get(E);if(I){no(e,n,I);return}var P=d?d(b,E,n+"",e,t,m):a,W=P===a;if(W){var Q=ue(E),ne=!Q&&Rn(E),oe=!Q&&!ne&&Cr(E);P=E,Q||ne||oe?ue(b)?P=b:Ge(b)?P=mt(b):ne?(W=!1,P=vl(E,!0)):oe?(W=!1,P=_l(E,!0)):P=[]:ai(E)||nr(E)?(P=b,nr(b)?P=hc(b):(!Pe(b)||gn(b))&&(P=Pl(E))):W=!1}W&&(m.set(E,P),l(P,E,i,d,m),m.delete(E)),no(e,n,P)}function ol(e,t){var n=e.length;if(n)return t+=t<0?n:0,hn(t,n)?e[t]:a}function sl(e,t,n){t.length?t=Re(t,function(d){return ue(d)?function(m){return $n(m,d.length===1?d[0]:d)}:d}):t=[yt];var i=-1;t=Re(t,Et(ae()));var l=rl(e,function(d,m,b){var E=Re(t,function(I){return I(d)});return{criteria:E,index:++i,value:d}});return Qp(l,function(d,m){return Ph(d,m,n)})}function Eh(e,t){return ll(e,t,function(n,i){return Vo(e,i)})}function ll(e,t,n){for(var i=-1,l=t.length,d={};++i<l;){var m=t[i],b=$n(e,m);n(b,m)&&ti(d,Tn(m,e),b)}return d}function Ch(e){return function(t){return $n(t,e)}}function fo(e,t,n,i){var l=i?Zp:hr,d=-1,m=t.length,b=e;for(e===t&&(t=mt(t)),n&&(b=Re(e,Et(n)));++d<m;)for(var E=0,I=t[d],P=n?n(I):I;(E=l(b,P,E,i))>-1;)b!==e&&Wi.call(b,E,1),Wi.call(e,E,1);return e}function cl(e,t){for(var n=e?t.length:0,i=n-1;n--;){var l=t[n];if(n==i||l!==d){var d=l;hn(l)?Wi.call(e,l,1):mo(e,l)}}return e}function po(e,t){return e+ji(Hs()*(t-e+1))}function Sh(e,t,n,i){for(var l=-1,d=qe(Gi((t-e)/(n||1)),0),m=D(d);d--;)m[i?d:++l]=e,e+=n;return m}function ho(e,t){var n="";if(!e||t<1||t>me)return n;do t%2&&(n+=e),t=ji(t/2),t&&(e+=e);while(t);return n}function ve(e,t){return To(Vl(e,t,yt),e+"")}function Dh(e){return Ys(Sr(e))}function Nh(e,t){var n=Sr(e);return la(n,qn(t,0,n.length))}function ti(e,t,n,i){if(!Pe(e))return e;t=Tn(t,e);for(var l=-1,d=t.length,m=d-1,b=e;b!=null&&++l<d;){var E=en(t[l]),I=n;if(E==="__proto__"||E==="constructor"||E==="prototype")return e;if(l!=m){var P=b[E];I=i?i(P,E,b):a,I===a&&(I=Pe(P)?P:hn(t[l+1])?[]:{})}Jr(b,E,I),b=b[E]}return e}var ul=Yi?function(e,t){return Yi.set(e,t),e}:yt,Oh=Hi?function(e,t){return Hi(e,"toString",{configurable:!0,enumerable:!1,value:zo(t),writable:!0})}:yt;function Bh(e){return la(Sr(e))}function Ft(e,t,n){var i=-1,l=e.length;t<0&&(t=-t>l?0:l+t),n=n>l?l:n,n<0&&(n+=l),l=t>n?0:n-t>>>0,t>>>=0;for(var d=D(l);++i<l;)d[i]=e[i+t];return d}function Th(e,t){var n;return On(e,function(i,l,d){return n=t(i,l,d),!n}),!!n}function $i(e,t,n){var i=0,l=e==null?i:e.length;if(typeof t=="number"&&t===t&&l<=Pn){for(;i<l;){var d=i+l>>>1,m=e[d];m!==null&&!St(m)&&(n?m<=t:m<t)?i=d+1:l=d}return l}return go(e,t,yt,n)}function go(e,t,n,i){var l=0,d=e==null?0:e.length;if(d===0)return 0;t=n(t);for(var m=t!==t,b=t===null,E=St(t),I=t===a;l<d;){var P=ji((l+d)/2),W=n(e[P]),Q=W!==a,ne=W===null,oe=W===W,ge=St(W);if(m)var se=i||oe;else I?se=oe&&(i||Q):b?se=oe&&Q&&(i||!ne):E?se=oe&&Q&&!ne&&(i||!ge):ne||ge?se=!1:se=i?W<=t:W<t;se?l=P+1:d=P}return at(d,Tr)}function fl(e,t){for(var n=-1,i=e.length,l=0,d=[];++n<i;){var m=e[n],b=t?t(m):m;if(!n||!Yt(b,E)){var E=b;d[l++]=m===0?0:m}}return d}function pl(e){return typeof e=="number"?e:St(e)?lr:+e}function Ct(e){if(typeof e=="string")return e;if(ue(e))return Re(e,Ct)+"";if(St(e))return Gs?Gs.call(e):"";var t=e+"";return t=="0"&&1/e==-Oe?"-0":t}function Bn(e,t,n){var i=-1,l=Ai,d=e.length,m=!0,b=[],E=b;if(n)m=!1,l=Ha;else if(d>=S){var I=t?null:Wh(e);if(I)return Mi(I);m=!1,l=jr,E=new Jn}else E=t?[]:b;e:for(;++i<d;){var P=e[i],W=t?t(P):P;if(P=n||P!==0?P:0,m&&W===W){for(var Q=E.length;Q--;)if(E[Q]===W)continue e;t&&E.push(W),b.push(P)}else l(E,W,n)||(E!==b&&E.push(W),b.push(P))}return b}function mo(e,t){return t=Tn(t,e),e=Ul(e,t),e==null||delete e[en(Vt(t))]}function dl(e,t,n,i){return ti(e,t,n($n(e,t)),i)}function ea(e,t,n,i){for(var l=e.length,d=i?l:-1;(i?d--:++d<l)&&t(e[d],d,e););return n?Ft(e,i?0:d,i?d+1:l):Ft(e,i?d+1:0,i?l:d)}function hl(e,t){var n=e;return n instanceof we&&(n=n.value()),Ga(t,function(i,l){return l.func.apply(l.thisArg,Sn([i],l.args))},n)}function vo(e,t,n){var i=e.length;if(i<2)return i?Bn(e[0]):[];for(var l=-1,d=D(i);++l<i;)for(var m=e[l],b=-1;++b<i;)b!=l&&(d[l]=qr(d[l]||m,e[b],t,n));return Bn(tt(d,1),t,n)}function gl(e,t,n){for(var i=-1,l=e.length,d=t.length,m={};++i<l;){var b=i<d?t[i]:a;n(m,e[i],b)}return m}function _o(e){return Ge(e)?e:[]}function yo(e){return typeof e=="function"?e:yt}function Tn(e,t){return ue(e)?e:No(e,t)?[e]:Gl(De(e))}var Ah=ve;function An(e,t,n){var i=e.length;return n=n===a?i:n,!t&&n>=i?e:Ft(e,t,n)}var ml=yd||function(e){return Qe.clearTimeout(e)};function vl(e,t){if(t)return e.slice();var n=e.length,i=Fs?Fs(n):new e.constructor(n);return e.copy(i),i}function bo(e){var t=new e.constructor(e.byteLength);return new Ui(t).set(new Ui(e)),t}function Rh(e,t){var n=t?bo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Mh(e){var t=new e.constructor(e.source,Vr.exec(e));return t.lastIndex=e.lastIndex,t}function Ih(e){return Qr?Te(Qr.call(e)):{}}function _l(e,t){var n=t?bo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function yl(e,t){if(e!==t){var n=e!==a,i=e===null,l=e===e,d=St(e),m=t!==a,b=t===null,E=t===t,I=St(t);if(!b&&!I&&!d&&e>t||d&&m&&E&&!b&&!I||i&&m&&E||!n&&E||!l)return 1;if(!i&&!d&&!I&&e<t||I&&n&&l&&!i&&!d||b&&n&&l||!m&&l||!E)return-1}return 0}function Ph(e,t,n){for(var i=-1,l=e.criteria,d=t.criteria,m=l.length,b=n.length;++i<m;){var E=yl(l[i],d[i]);if(E){if(i>=b)return E;var I=n[i];return E*(I=="desc"?-1:1)}}return e.index-t.index}function bl(e,t,n,i){for(var l=-1,d=e.length,m=n.length,b=-1,E=t.length,I=qe(d-m,0),P=D(E+I),W=!i;++b<E;)P[b]=t[b];for(;++l<m;)(W||l<d)&&(P[n[l]]=e[l]);for(;I--;)P[b++]=e[l++];return P}function wl(e,t,n,i){for(var l=-1,d=e.length,m=-1,b=n.length,E=-1,I=t.length,P=qe(d-b,0),W=D(P+I),Q=!i;++l<P;)W[l]=e[l];for(var ne=l;++E<I;)W[ne+E]=t[E];for(;++m<b;)(Q||l<d)&&(W[ne+n[m]]=e[l++]);return W}function mt(e,t){var n=-1,i=e.length;for(t||(t=D(i));++n<i;)t[n]=e[n];return t}function $t(e,t,n,i){var l=!n;n||(n={});for(var d=-1,m=t.length;++d<m;){var b=t[d],E=i?i(n[b],e[b],b,n,e):a;E===a&&(E=e[b]),l?fn(n,b,E):Jr(n,b,E)}return n}function Lh(e,t){return $t(e,Do(e),t)}function Fh(e,t){return $t(e,Ml(e),t)}function ta(e,t){return function(n,i){var l=ue(n)?Hp:oh,d=t?t():{};return l(n,e,ae(i,2),d)}}function kr(e){return ve(function(t,n){var i=-1,l=n.length,d=l>1?n[l-1]:a,m=l>2?n[2]:a;for(d=e.length>3&&typeof d=="function"?(l--,d):a,m&&pt(n[0],n[1],m)&&(d=l<3?a:d,l=1),t=Te(t);++i<l;){var b=n[i];b&&e(t,b,i,d)}return t})}function kl(e,t){return function(n,i){if(n==null)return n;if(!vt(n))return e(n,i);for(var l=n.length,d=t?l:-1,m=Te(n);(t?d--:++d<l)&&i(m[d],d,m)!==!1;);return n}}function xl(e){return function(t,n,i){for(var l=-1,d=Te(t),m=i(t),b=m.length;b--;){var E=m[e?b:++l];if(n(d[E],E,d)===!1)break}return t}}function Vh(e,t,n){var i=t&M,l=ni(e);function d(){var m=this&&this!==Qe&&this instanceof d?l:e;return m.apply(i?n:this,arguments)}return d}function El(e){return function(t){t=De(t);var n=gr(t)?Gt(t):a,i=n?n[0]:t.charAt(0),l=n?An(n,1).join(""):t.slice(1);return i[e]()+l}}function xr(e){return function(t){return Ga(kc(wc(t).replace(Ce,"")),e,"")}}function ni(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=wr(e.prototype),i=e.apply(n,t);return Pe(i)?i:n}}function Uh(e,t,n){var i=ni(e);function l(){for(var d=arguments.length,m=D(d),b=d,E=Er(l);b--;)m[b]=arguments[b];var I=d<3&&m[0]!==E&&m[d-1]!==E?[]:Dn(m,E);if(d-=I.length,d<n)return Ol(e,t,na,l.placeholder,a,m,I,a,a,n-d);var P=this&&this!==Qe&&this instanceof l?i:e;return xt(P,this,m)}return l}function Cl(e){return function(t,n,i){var l=Te(t);if(!vt(t)){var d=ae(n,3);t=$e(t),n=function(b){return d(l[b],b,l)}}var m=e(t,n,i);return m>-1?l[d?t[m]:m]:a}}function Sl(e){return dn(function(t){var n=t.length,i=n,l=Pt.prototype.thru;for(e&&t.reverse();i--;){var d=t[i];if(typeof d!="function")throw new It(R);if(l&&!m&&oa(d)=="wrapper")var m=new Pt([],!0)}for(i=m?i:n;++i<n;){d=t[i];var b=oa(d),E=b=="wrapper"?Co(d):a;E&&Oo(E[0])&&E[1]==(re|te|q|Z)&&!E[4].length&&E[9]==1?m=m[oa(E[0])].apply(m,E[3]):m=d.length==1&&Oo(d)?m[b]():m.thru(d)}return function(){var I=arguments,P=I[0];if(m&&I.length==1&&ue(P))return m.plant(P).value();for(var W=0,Q=n?t[W].apply(this,I):P;++W<n;)Q=t[W].call(this,Q);return Q}})}function na(e,t,n,i,l,d,m,b,E,I){var P=t&re,W=t&M,Q=t&C,ne=t&(te|$),oe=t&ie,ge=Q?a:ni(e);function se(){for(var be=arguments.length,ke=D(be),Dt=be;Dt--;)ke[Dt]=arguments[Dt];if(ne)var dt=Er(se),Nt=qp(ke,dt);if(i&&(ke=bl(ke,i,l,ne)),d&&(ke=wl(ke,d,m,ne)),be-=Nt,ne&&be<I){var je=Dn(ke,dt);return Ol(e,t,na,se.placeholder,n,ke,je,b,E,I-be)}var Xt=W?n:this,vn=Q?Xt[e]:e;return be=ke.length,b?ke=og(ke,b):oe&&be>1&&ke.reverse(),P&&E<be&&(ke.length=E),this&&this!==Qe&&this instanceof se&&(vn=ge||ni(vn)),vn.apply(Xt,ke)}return se}function Dl(e,t){return function(n,i){return hh(n,e,t(i),{})}}function ra(e,t){return function(n,i){var l;if(n===a&&i===a)return t;if(n!==a&&(l=n),i!==a){if(l===a)return i;typeof n=="string"||typeof i=="string"?(n=Ct(n),i=Ct(i)):(n=pl(n),i=pl(i)),l=e(n,i)}return l}}function wo(e){return dn(function(t){return t=Re(t,Et(ae())),ve(function(n){var i=this;return e(t,function(l){return xt(l,i,n)})})})}function ia(e,t){t=t===a?" ":Ct(t);var n=t.length;if(n<2)return n?ho(t,e):t;var i=ho(t,Gi(e/mr(t)));return gr(t)?An(Gt(i),0,e).join(""):i.slice(0,e)}function zh(e,t,n,i){var l=t&M,d=ni(e);function m(){for(var b=-1,E=arguments.length,I=-1,P=i.length,W=D(P+E),Q=this&&this!==Qe&&this instanceof m?d:e;++I<P;)W[I]=i[I];for(;E--;)W[I++]=arguments[++b];return xt(Q,l?n:this,W)}return m}function Nl(e){return function(t,n,i){return i&&typeof i!="number"&&pt(t,n,i)&&(n=i=a),t=mn(t),n===a?(n=t,t=0):n=mn(n),i=i===a?t<n?1:-1:mn(i),Sh(t,n,i,e)}}function aa(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Ut(t),n=Ut(n)),e(t,n)}}function Ol(e,t,n,i,l,d,m,b,E,I){var P=t&te,W=P?m:a,Q=P?a:m,ne=P?d:a,oe=P?a:d;t|=P?q:le,t&=~(P?le:q),t&y||(t&=~(M|C));var ge=[e,t,l,ne,W,oe,Q,b,E,I],se=n.apply(a,ge);return Oo(e)&&zl(se,ge),se.placeholder=i,Wl(se,e,t)}function ko(e){var t=Je[e];return function(n,i){if(n=Ut(n),i=i==null?0:at(pe(i),292),i&&Ws(n)){var l=(De(n)+"e").split("e"),d=t(l[0]+"e"+(+l[1]+i));return l=(De(d)+"e").split("e"),+(l[0]+"e"+(+l[1]-i))}return t(n)}}var Wh=yr&&1/Mi(new yr([,-0]))[1]==Oe?function(e){return new yr(e)}:Go;function Bl(e){return function(t){var n=ot(t);return n==bt?Ja(t):n==ht?ad(t):Jp(t,e(t))}}function pn(e,t,n,i,l,d,m,b){var E=t&C;if(!E&&typeof e!="function")throw new It(R);var I=i?i.length:0;if(I||(t&=~(q|le),i=l=a),m=m===a?m:qe(pe(m),0),b=b===a?b:pe(b),I-=l?l.length:0,t&le){var P=i,W=l;i=l=a}var Q=E?a:Co(e),ne=[e,t,n,i,l,P,W,d,m,b];if(Q&&rg(ne,Q),e=ne[0],t=ne[1],n=ne[2],i=ne[3],l=ne[4],b=ne[9]=ne[9]===a?E?0:e.length:qe(ne[9]-I,0),!b&&t&(te|$)&&(t&=~(te|$)),!t||t==M)var oe=Vh(e,t,n);else t==te||t==$?oe=Uh(e,t,b):(t==q||t==(M|q))&&!l.length?oe=zh(e,t,n,i):oe=na.apply(a,ne);var ge=Q?ul:zl;return Wl(ge(oe,ne),e,t)}function Tl(e,t,n,i){return e===a||Yt(e,_r[n])&&!Ne.call(i,n)?t:e}function Al(e,t,n,i,l,d){return Pe(e)&&Pe(t)&&(d.set(t,e),qi(e,t,a,Al,d),d.delete(t)),e}function Hh(e){return ai(e)?a:e}function Rl(e,t,n,i,l,d){var m=n&_,b=e.length,E=t.length;if(b!=E&&!(m&&E>b))return!1;var I=d.get(e),P=d.get(t);if(I&&P)return I==t&&P==e;var W=-1,Q=!0,ne=n&N?new Jn:a;for(d.set(e,t),d.set(t,e);++W<b;){var oe=e[W],ge=t[W];if(i)var se=m?i(ge,oe,W,t,e,d):i(oe,ge,W,e,t,d);if(se!==a){if(se)continue;Q=!1;break}if(ne){if(!ja(t,function(be,ke){if(!jr(ne,ke)&&(oe===be||l(oe,be,n,i,d)))return ne.push(ke)})){Q=!1;break}}else if(!(oe===ge||l(oe,ge,n,i,d))){Q=!1;break}}return d.delete(e),d.delete(t),Q}function Gh(e,t,n,i,l,d,m){switch(n){case an:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Wn:return!(e.byteLength!=t.byteLength||!d(new Ui(e),new Ui(t)));case tn:case nn:case Vn:return Yt(+e,+t);case bn:return e.name==t.name&&e.message==t.message;case wn:case rn:return e==t+"";case bt:var b=Ja;case ht:var E=i&_;if(b||(b=Mi),e.size!=t.size&&!E)return!1;var I=m.get(e);if(I)return I==t;i|=N,m.set(e,t);var P=Rl(b(e),b(t),i,l,d,m);return m.delete(e),P;case Un:if(Qr)return Qr.call(e)==Qr.call(t)}return!1}function jh(e,t,n,i,l,d){var m=n&_,b=xo(e),E=b.length,I=xo(t),P=I.length;if(E!=P&&!m)return!1;for(var W=E;W--;){var Q=b[W];if(!(m?Q in t:Ne.call(t,Q)))return!1}var ne=d.get(e),oe=d.get(t);if(ne&&oe)return ne==t&&oe==e;var ge=!0;d.set(e,t),d.set(t,e);for(var se=m;++W<E;){Q=b[W];var be=e[Q],ke=t[Q];if(i)var Dt=m?i(ke,be,Q,t,e,d):i(be,ke,Q,e,t,d);if(!(Dt===a?be===ke||l(be,ke,n,i,d):Dt)){ge=!1;break}se||(se=Q=="constructor")}if(ge&&!se){var dt=e.constructor,Nt=t.constructor;dt!=Nt&&"constructor"in e&&"constructor"in t&&!(typeof dt=="function"&&dt instanceof dt&&typeof Nt=="function"&&Nt instanceof Nt)&&(ge=!1)}return d.delete(e),d.delete(t),ge}function dn(e){return To(Vl(e,a,Kl),e+"")}function xo(e){return $s(e,$e,Do)}function Eo(e){return $s(e,_t,Ml)}var Co=Yi?function(e){return Yi.get(e)}:Go;function oa(e){for(var t=e.name+"",n=br[t],i=Ne.call(br,t)?n.length:0;i--;){var l=n[i],d=l.func;if(d==null||d==e)return l.name}return t}function Er(e){var t=Ne.call(f,"placeholder")?f:e;return t.placeholder}function ae(){var e=f.iteratee||Wo;return e=e===Wo?nl:e,arguments.length?e(arguments[0],arguments[1]):e}function sa(e,t){var n=e.__data__;return $h(t)?n[typeof t=="string"?"string":"hash"]:n.map}function So(e){for(var t=$e(e),n=t.length;n--;){var i=t[n],l=e[i];t[n]=[i,l,Ll(l)]}return t}function er(e,t){var n=nd(e,t);return tl(n)?n:a}function Yh(e){var t=Ne.call(e,Zn),n=e[Zn];try{e[Zn]=a;var i=!0}catch{}var l=Fi.call(e);return i&&(t?e[Zn]=n:delete e[Zn]),l}var Do=$a?function(e){return e==null?[]:(e=Te(e),Cn($a(e),function(t){return Us.call(e,t)}))}:jo,Ml=$a?function(e){for(var t=[];e;)Sn(t,Do(e)),e=zi(e);return t}:jo,ot=ft;(eo&&ot(new eo(new ArrayBuffer(1)))!=an||Xr&&ot(new Xr)!=bt||to&&ot(to.resolve())!=Rr||yr&&ot(new yr)!=ht||Kr&&ot(new Kr)!=zn)&&(ot=function(e){var t=ft(e),n=t==Ot?e.constructor:a,i=n?tr(n):"";if(i)switch(i){case Nd:return an;case Od:return bt;case Bd:return Rr;case Td:return ht;case Ad:return zn}return t});function Xh(e,t,n){for(var i=-1,l=n.length;++i<l;){var d=n[i],m=d.size;switch(d.type){case"drop":e+=m;break;case"dropRight":t-=m;break;case"take":t=at(t,e+m);break;case"takeRight":e=qe(e,t-m);break}}return{start:e,end:t}}function Kh(e){var t=e.match(Oa);return t?t[1].split(vi):[]}function Il(e,t,n){t=Tn(t,e);for(var i=-1,l=t.length,d=!1;++i<l;){var m=en(t[i]);if(!(d=e!=null&&n(e,m)))break;e=e[m]}return d||++i!=l?d:(l=e==null?0:e.length,!!l&&ha(l)&&hn(m,l)&&(ue(e)||nr(e)))}function Zh(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Ne.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Pl(e){return typeof e.constructor=="function"&&!ri(e)?wr(zi(e)):{}}function Qh(e,t,n){var i=e.constructor;switch(t){case Wn:return bo(e);case tn:case nn:return new i(+e);case an:return Rh(e,n);case ur:case fr:case Mr:case Ir:case de:case pr:case Hn:case zt:case Pr:return _l(e,n);case bt:return new i;case Vn:case rn:return new i(e);case wn:return Mh(e);case ht:return new i;case Un:return Ih(e)}}function Jh(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(jn,`{
/* [wrapped with `+t+`] */
`)}function qh(e){return ue(e)||nr(e)||!!(zs&&e&&e[zs])}function hn(e,t){var n=typeof e;return t=t??me,!!t&&(n=="number"||n!="symbol"&&Yn.test(e))&&e>-1&&e%1==0&&e<t}function pt(e,t,n){if(!Pe(n))return!1;var i=typeof t;return(i=="number"?vt(n)&&hn(t,n.length):i=="string"&&t in n)?Yt(n[t],e):!1}function No(e,t){if(ue(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||St(e)?!0:Xe.test(e)||!Da.test(e)||t!=null&&e in Te(t)}function $h(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Oo(e){var t=oa(e),n=f[t];if(typeof n!="function"||!(t in we.prototype))return!1;if(e===n)return!0;var i=Co(n);return!!i&&e===i[0]}function eg(e){return!!Ls&&Ls in e}var tg=Pi?gn:Yo;function ri(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||_r;return e===n}function Ll(e){return e===e&&!Pe(e)}function Fl(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==a||e in Te(n))}}function ng(e){var t=pa(e,function(i){return n.size===U&&n.clear(),i}),n=t.cache;return t}function rg(e,t){var n=e[1],i=t[1],l=n|i,d=l<(M|C|re),m=i==re&&n==te||i==re&&n==Z&&e[7].length<=t[8]||i==(re|Z)&&t[7].length<=t[8]&&n==te;if(!(d||m))return e;i&M&&(e[2]=t[2],l|=n&M?0:y);var b=t[3];if(b){var E=e[3];e[3]=E?bl(E,b,t[4]):b,e[4]=E?Dn(e[3],F):t[4]}return b=t[5],b&&(E=e[5],e[5]=E?wl(E,b,t[6]):b,e[6]=E?Dn(e[5],F):t[6]),b=t[7],b&&(e[7]=b),i&re&&(e[8]=e[8]==null?t[8]:at(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}function ig(e){var t=[];if(e!=null)for(var n in Te(e))t.push(n);return t}function ag(e){return Fi.call(e)}function Vl(e,t,n){return t=qe(t===a?e.length-1:t,0),function(){for(var i=arguments,l=-1,d=qe(i.length-t,0),m=D(d);++l<d;)m[l]=i[t+l];l=-1;for(var b=D(t+1);++l<t;)b[l]=i[l];return b[t]=n(m),xt(e,this,b)}}function Ul(e,t){return t.length<2?e:$n(e,Ft(t,0,-1))}function og(e,t){for(var n=e.length,i=at(t.length,n),l=mt(e);i--;){var d=t[i];e[i]=hn(d,n)?l[d]:a}return e}function Bo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var zl=Hl(ul),ii=wd||function(e,t){return Qe.setTimeout(e,t)},To=Hl(Oh);function Wl(e,t,n){var i=t+"";return To(e,Jh(i,sg(Kh(i),n)))}function Hl(e){var t=0,n=0;return function(){var i=Cd(),l=Ze-(i-n);if(n=i,l>0){if(++t>=Ye)return arguments[0]}else t=0;return e.apply(a,arguments)}}function la(e,t){var n=-1,i=e.length,l=i-1;for(t=t===a?i:t;++n<t;){var d=po(n,l),m=e[d];e[d]=e[n],e[n]=m}return e.length=t,e}var Gl=ng(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Bt,function(n,i,l,d){t.push(l?d.replace(gt,"$1"):i||n)}),t});function en(e){if(typeof e=="string"||St(e))return e;var t=e+"";return t=="0"&&1/e==-Oe?"-0":t}function tr(e){if(e!=null){try{return Li.call(e)}catch{}try{return e+""}catch{}}return""}function sg(e,t){return Mt(cr,function(n){var i="_."+n[0];t&n[1]&&!Ai(e,i)&&e.push(i)}),e.sort()}function jl(e){if(e instanceof we)return e.clone();var t=new Pt(e.__wrapped__,e.__chain__);return t.__actions__=mt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function lg(e,t,n){(n?pt(e,t,n):t===a)?t=1:t=qe(pe(t),0);var i=e==null?0:e.length;if(!i||t<1)return[];for(var l=0,d=0,m=D(Gi(i/t));l<i;)m[d++]=Ft(e,l,l+=t);return m}function cg(e){for(var t=-1,n=e==null?0:e.length,i=0,l=[];++t<n;){var d=e[t];d&&(l[i++]=d)}return l}function ug(){var e=arguments.length;if(!e)return[];for(var t=D(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Sn(ue(n)?mt(n):[n],tt(t,1))}var fg=ve(function(e,t){return Ge(e)?qr(e,tt(t,1,Ge,!0)):[]}),pg=ve(function(e,t){var n=Vt(t);return Ge(n)&&(n=a),Ge(e)?qr(e,tt(t,1,Ge,!0),ae(n,2)):[]}),dg=ve(function(e,t){var n=Vt(t);return Ge(n)&&(n=a),Ge(e)?qr(e,tt(t,1,Ge,!0),a,n):[]});function hg(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===a?1:pe(t),Ft(e,t<0?0:t,i)):[]}function gg(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===a?1:pe(t),t=i-t,Ft(e,0,t<0?0:t)):[]}function mg(e,t){return e&&e.length?ea(e,ae(t,3),!0,!0):[]}function vg(e,t){return e&&e.length?ea(e,ae(t,3),!0):[]}function _g(e,t,n,i){var l=e==null?0:e.length;return l?(n&&typeof n!="number"&&pt(e,t,n)&&(n=0,i=l),uh(e,t,n,i)):[]}function Yl(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var l=n==null?0:pe(n);return l<0&&(l=qe(i+l,0)),Ri(e,ae(t,3),l)}function Xl(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var l=i-1;return n!==a&&(l=pe(n),l=n<0?qe(i+l,0):at(l,i-1)),Ri(e,ae(t,3),l,!0)}function Kl(e){var t=e==null?0:e.length;return t?tt(e,1):[]}function yg(e){var t=e==null?0:e.length;return t?tt(e,Oe):[]}function bg(e,t){var n=e==null?0:e.length;return n?(t=t===a?1:pe(t),tt(e,t)):[]}function wg(e){for(var t=-1,n=e==null?0:e.length,i={};++t<n;){var l=e[t];i[l[0]]=l[1]}return i}function Zl(e){return e&&e.length?e[0]:a}function kg(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var l=n==null?0:pe(n);return l<0&&(l=qe(i+l,0)),hr(e,t,l)}function xg(e){var t=e==null?0:e.length;return t?Ft(e,0,-1):[]}var Eg=ve(function(e){var t=Re(e,_o);return t.length&&t[0]===e[0]?so(t):[]}),Cg=ve(function(e){var t=Vt(e),n=Re(e,_o);return t===Vt(n)?t=a:n.pop(),n.length&&n[0]===e[0]?so(n,ae(t,2)):[]}),Sg=ve(function(e){var t=Vt(e),n=Re(e,_o);return t=typeof t=="function"?t:a,t&&n.pop(),n.length&&n[0]===e[0]?so(n,a,t):[]});function Dg(e,t){return e==null?"":xd.call(e,t)}function Vt(e){var t=e==null?0:e.length;return t?e[t-1]:a}function Ng(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var l=i;return n!==a&&(l=pe(n),l=l<0?qe(i+l,0):at(l,i-1)),t===t?sd(e,t,l):Ri(e,Os,l,!0)}function Og(e,t){return e&&e.length?ol(e,pe(t)):a}var Bg=ve(Ql);function Ql(e,t){return e&&e.length&&t&&t.length?fo(e,t):e}function Tg(e,t,n){return e&&e.length&&t&&t.length?fo(e,t,ae(n,2)):e}function Ag(e,t,n){return e&&e.length&&t&&t.length?fo(e,t,a,n):e}var Rg=dn(function(e,t){var n=e==null?0:e.length,i=ro(e,t);return cl(e,Re(t,function(l){return hn(l,n)?+l:l}).sort(yl)),i});function Mg(e,t){var n=[];if(!(e&&e.length))return n;var i=-1,l=[],d=e.length;for(t=ae(t,3);++i<d;){var m=e[i];t(m,i,e)&&(n.push(m),l.push(i))}return cl(e,l),n}function Ao(e){return e==null?e:Dd.call(e)}function Ig(e,t,n){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&pt(e,t,n)?(t=0,n=i):(t=t==null?0:pe(t),n=n===a?i:pe(n)),Ft(e,t,n)):[]}function Pg(e,t){return $i(e,t)}function Lg(e,t,n){return go(e,t,ae(n,2))}function Fg(e,t){var n=e==null?0:e.length;if(n){var i=$i(e,t);if(i<n&&Yt(e[i],t))return i}return-1}function Vg(e,t){return $i(e,t,!0)}function Ug(e,t,n){return go(e,t,ae(n,2),!0)}function zg(e,t){var n=e==null?0:e.length;if(n){var i=$i(e,t,!0)-1;if(Yt(e[i],t))return i}return-1}function Wg(e){return e&&e.length?fl(e):[]}function Hg(e,t){return e&&e.length?fl(e,ae(t,2)):[]}function Gg(e){var t=e==null?0:e.length;return t?Ft(e,1,t):[]}function jg(e,t,n){return e&&e.length?(t=n||t===a?1:pe(t),Ft(e,0,t<0?0:t)):[]}function Yg(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===a?1:pe(t),t=i-t,Ft(e,t<0?0:t,i)):[]}function Xg(e,t){return e&&e.length?ea(e,ae(t,3),!1,!0):[]}function Kg(e,t){return e&&e.length?ea(e,ae(t,3)):[]}var Zg=ve(function(e){return Bn(tt(e,1,Ge,!0))}),Qg=ve(function(e){var t=Vt(e);return Ge(t)&&(t=a),Bn(tt(e,1,Ge,!0),ae(t,2))}),Jg=ve(function(e){var t=Vt(e);return t=typeof t=="function"?t:a,Bn(tt(e,1,Ge,!0),a,t)});function qg(e){return e&&e.length?Bn(e):[]}function $g(e,t){return e&&e.length?Bn(e,ae(t,2)):[]}function em(e,t){return t=typeof t=="function"?t:a,e&&e.length?Bn(e,a,t):[]}function Ro(e){if(!(e&&e.length))return[];var t=0;return e=Cn(e,function(n){if(Ge(n))return t=qe(n.length,t),!0}),Za(t,function(n){return Re(e,Ya(n))})}function Jl(e,t){if(!(e&&e.length))return[];var n=Ro(e);return t==null?n:Re(n,function(i){return xt(t,a,i)})}var tm=ve(function(e,t){return Ge(e)?qr(e,t):[]}),nm=ve(function(e){return vo(Cn(e,Ge))}),rm=ve(function(e){var t=Vt(e);return Ge(t)&&(t=a),vo(Cn(e,Ge),ae(t,2))}),im=ve(function(e){var t=Vt(e);return t=typeof t=="function"?t:a,vo(Cn(e,Ge),a,t)}),am=ve(Ro);function om(e,t){return gl(e||[],t||[],Jr)}function sm(e,t){return gl(e||[],t||[],ti)}var lm=ve(function(e){var t=e.length,n=t>1?e[t-1]:a;return n=typeof n=="function"?(e.pop(),n):a,Jl(e,n)});function ql(e){var t=f(e);return t.__chain__=!0,t}function cm(e,t){return t(e),e}function ca(e,t){return t(e)}var um=dn(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,l=function(d){return ro(d,e)};return t>1||this.__actions__.length||!(i instanceof we)||!hn(n)?this.thru(l):(i=i.slice(n,+n+(t?1:0)),i.__actions__.push({func:ca,args:[l],thisArg:a}),new Pt(i,this.__chain__).thru(function(d){return t&&!d.length&&d.push(a),d}))});function fm(){return ql(this)}function pm(){return new Pt(this.value(),this.__chain__)}function dm(){this.__values__===a&&(this.__values__=pc(this.value()));var e=this.__index__>=this.__values__.length,t=e?a:this.__values__[this.__index__++];return{done:e,value:t}}function hm(){return this}function gm(e){for(var t,n=this;n instanceof Ki;){var i=jl(n);i.__index__=0,i.__values__=a,t?l.__wrapped__=i:t=i;var l=i;n=n.__wrapped__}return l.__wrapped__=e,t}function mm(){var e=this.__wrapped__;if(e instanceof we){var t=e;return this.__actions__.length&&(t=new we(this)),t=t.reverse(),t.__actions__.push({func:ca,args:[Ao],thisArg:a}),new Pt(t,this.__chain__)}return this.thru(Ao)}function vm(){return hl(this.__wrapped__,this.__actions__)}var _m=ta(function(e,t,n){Ne.call(e,n)?++e[n]:fn(e,n,1)});function ym(e,t,n){var i=ue(e)?Ds:ch;return n&&pt(e,t,n)&&(t=a),i(e,ae(t,3))}function bm(e,t){var n=ue(e)?Cn:Js;return n(e,ae(t,3))}var wm=Cl(Yl),km=Cl(Xl);function xm(e,t){return tt(ua(e,t),1)}function Em(e,t){return tt(ua(e,t),Oe)}function Cm(e,t,n){return n=n===a?1:pe(n),tt(ua(e,t),n)}function $l(e,t){var n=ue(e)?Mt:On;return n(e,ae(t,3))}function ec(e,t){var n=ue(e)?Gp:Qs;return n(e,ae(t,3))}var Sm=ta(function(e,t,n){Ne.call(e,n)?e[n].push(t):fn(e,n,[t])});function Dm(e,t,n,i){e=vt(e)?e:Sr(e),n=n&&!i?pe(n):0;var l=e.length;return n<0&&(n=qe(l+n,0)),ga(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&hr(e,t,n)>-1}var Nm=ve(function(e,t,n){var i=-1,l=typeof t=="function",d=vt(e)?D(e.length):[];return On(e,function(m){d[++i]=l?xt(t,m,n):$r(m,t,n)}),d}),Om=ta(function(e,t,n){fn(e,n,t)});function ua(e,t){var n=ue(e)?Re:rl;return n(e,ae(t,3))}function Bm(e,t,n,i){return e==null?[]:(ue(t)||(t=t==null?[]:[t]),n=i?a:n,ue(n)||(n=n==null?[]:[n]),sl(e,t,n))}var Tm=ta(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function Am(e,t,n){var i=ue(e)?Ga:Ts,l=arguments.length<3;return i(e,ae(t,4),n,l,On)}function Rm(e,t,n){var i=ue(e)?jp:Ts,l=arguments.length<3;return i(e,ae(t,4),n,l,Qs)}function Mm(e,t){var n=ue(e)?Cn:Js;return n(e,da(ae(t,3)))}function Im(e){var t=ue(e)?Ys:Dh;return t(e)}function Pm(e,t,n){(n?pt(e,t,n):t===a)?t=1:t=pe(t);var i=ue(e)?ih:Nh;return i(e,t)}function Lm(e){var t=ue(e)?ah:Bh;return t(e)}function Fm(e){if(e==null)return 0;if(vt(e))return ga(e)?mr(e):e.length;var t=ot(e);return t==bt||t==ht?e.size:co(e).length}function Vm(e,t,n){var i=ue(e)?ja:Th;return n&&pt(e,t,n)&&(t=a),i(e,ae(t,3))}var Um=ve(function(e,t){if(e==null)return[];var n=t.length;return n>1&&pt(e,t[0],t[1])?t=[]:n>2&&pt(t[0],t[1],t[2])&&(t=[t[0]]),sl(e,tt(t,1),[])}),fa=bd||function(){return Qe.Date.now()};function zm(e,t){if(typeof t!="function")throw new It(R);return e=pe(e),function(){if(--e<1)return t.apply(this,arguments)}}function tc(e,t,n){return t=n?a:t,t=e&&t==null?e.length:t,pn(e,re,a,a,a,a,t)}function nc(e,t){var n;if(typeof t!="function")throw new It(R);return e=pe(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=a),n}}var Mo=ve(function(e,t,n){var i=M;if(n.length){var l=Dn(n,Er(Mo));i|=q}return pn(e,i,t,n,l)}),rc=ve(function(e,t,n){var i=M|C;if(n.length){var l=Dn(n,Er(rc));i|=q}return pn(t,i,e,n,l)});function ic(e,t,n){t=n?a:t;var i=pn(e,te,a,a,a,a,a,t);return i.placeholder=ic.placeholder,i}function ac(e,t,n){t=n?a:t;var i=pn(e,$,a,a,a,a,a,t);return i.placeholder=ac.placeholder,i}function oc(e,t,n){var i,l,d,m,b,E,I=0,P=!1,W=!1,Q=!0;if(typeof e!="function")throw new It(R);t=Ut(t)||0,Pe(n)&&(P=!!n.leading,W="maxWait"in n,d=W?qe(Ut(n.maxWait)||0,t):d,Q="trailing"in n?!!n.trailing:Q);function ne(je){var Xt=i,vn=l;return i=l=a,I=je,m=e.apply(vn,Xt),m}function oe(je){return I=je,b=ii(be,t),P?ne(je):m}function ge(je){var Xt=je-E,vn=je-I,Cc=t-Xt;return W?at(Cc,d-vn):Cc}function se(je){var Xt=je-E,vn=je-I;return E===a||Xt>=t||Xt<0||W&&vn>=d}function be(){var je=fa();if(se(je))return ke(je);b=ii(be,ge(je))}function ke(je){return b=a,Q&&i?ne(je):(i=l=a,m)}function Dt(){b!==a&&ml(b),I=0,i=E=l=b=a}function dt(){return b===a?m:ke(fa())}function Nt(){var je=fa(),Xt=se(je);if(i=arguments,l=this,E=je,Xt){if(b===a)return oe(E);if(W)return ml(b),b=ii(be,t),ne(E)}return b===a&&(b=ii(be,t)),m}return Nt.cancel=Dt,Nt.flush=dt,Nt}var Wm=ve(function(e,t){return Zs(e,1,t)}),Hm=ve(function(e,t,n){return Zs(e,Ut(t)||0,n)});function Gm(e){return pn(e,ie)}function pa(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new It(R);var n=function(){var i=arguments,l=t?t.apply(this,i):i[0],d=n.cache;if(d.has(l))return d.get(l);var m=e.apply(this,i);return n.cache=d.set(l,m)||d,m};return n.cache=new(pa.Cache||un),n}pa.Cache=un;function da(e){if(typeof e!="function")throw new It(R);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function jm(e){return nc(2,e)}var Ym=Ah(function(e,t){t=t.length==1&&ue(t[0])?Re(t[0],Et(ae())):Re(tt(t,1),Et(ae()));var n=t.length;return ve(function(i){for(var l=-1,d=at(i.length,n);++l<d;)i[l]=t[l].call(this,i[l]);return xt(e,this,i)})}),Io=ve(function(e,t){var n=Dn(t,Er(Io));return pn(e,q,a,t,n)}),sc=ve(function(e,t){var n=Dn(t,Er(sc));return pn(e,le,a,t,n)}),Xm=dn(function(e,t){return pn(e,Z,a,a,a,t)});function Km(e,t){if(typeof e!="function")throw new It(R);return t=t===a?t:pe(t),ve(e,t)}function Zm(e,t){if(typeof e!="function")throw new It(R);return t=t==null?0:qe(pe(t),0),ve(function(n){var i=n[t],l=An(n,0,t);return i&&Sn(l,i),xt(e,this,l)})}function Qm(e,t,n){var i=!0,l=!0;if(typeof e!="function")throw new It(R);return Pe(n)&&(i="leading"in n?!!n.leading:i,l="trailing"in n?!!n.trailing:l),oc(e,t,{leading:i,maxWait:t,trailing:l})}function Jm(e){return tc(e,1)}function qm(e,t){return Io(yo(t),e)}function $m(){if(!arguments.length)return[];var e=arguments[0];return ue(e)?e:[e]}function ev(e){return Lt(e,Y)}function tv(e,t){return t=typeof t=="function"?t:a,Lt(e,Y,t)}function nv(e){return Lt(e,z|Y)}function rv(e,t){return t=typeof t=="function"?t:a,Lt(e,z|Y,t)}function iv(e,t){return t==null||Ks(e,t,$e(t))}function Yt(e,t){return e===t||e!==e&&t!==t}var av=aa(oo),ov=aa(function(e,t){return e>=t}),nr=el(function(){return arguments}())?el:function(e){return Ue(e)&&Ne.call(e,"callee")&&!Us.call(e,"callee")},ue=D.isArray,sv=ws?Et(ws):gh;function vt(e){return e!=null&&ha(e.length)&&!gn(e)}function Ge(e){return Ue(e)&&vt(e)}function lv(e){return e===!0||e===!1||Ue(e)&&ft(e)==tn}var Rn=kd||Yo,cv=ks?Et(ks):mh;function uv(e){return Ue(e)&&e.nodeType===1&&!ai(e)}function fv(e){if(e==null)return!0;if(vt(e)&&(ue(e)||typeof e=="string"||typeof e.splice=="function"||Rn(e)||Cr(e)||nr(e)))return!e.length;var t=ot(e);if(t==bt||t==ht)return!e.size;if(ri(e))return!co(e).length;for(var n in e)if(Ne.call(e,n))return!1;return!0}function pv(e,t){return ei(e,t)}function dv(e,t,n){n=typeof n=="function"?n:a;var i=n?n(e,t):a;return i===a?ei(e,t,a,n):!!i}function Po(e){if(!Ue(e))return!1;var t=ft(e);return t==bn||t==Ar||typeof e.message=="string"&&typeof e.name=="string"&&!ai(e)}function hv(e){return typeof e=="number"&&Ws(e)}function gn(e){if(!Pe(e))return!1;var t=ft(e);return t==Fn||t==hi||t==di||t==mi}function lc(e){return typeof e=="number"&&e==pe(e)}function ha(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=me}function Pe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Ue(e){return e!=null&&typeof e=="object"}var cc=xs?Et(xs):_h;function gv(e,t){return e===t||lo(e,t,So(t))}function mv(e,t,n){return n=typeof n=="function"?n:a,lo(e,t,So(t),n)}function vv(e){return uc(e)&&e!=+e}function _v(e){if(tg(e))throw new ce(H);return tl(e)}function yv(e){return e===null}function bv(e){return e==null}function uc(e){return typeof e=="number"||Ue(e)&&ft(e)==Vn}function ai(e){if(!Ue(e)||ft(e)!=Ot)return!1;var t=zi(e);if(t===null)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Li.call(n)==md}var Lo=Es?Et(Es):yh;function wv(e){return lc(e)&&e>=-me&&e<=me}var fc=Cs?Et(Cs):bh;function ga(e){return typeof e=="string"||!ue(e)&&Ue(e)&&ft(e)==rn}function St(e){return typeof e=="symbol"||Ue(e)&&ft(e)==Un}var Cr=Ss?Et(Ss):wh;function kv(e){return e===a}function xv(e){return Ue(e)&&ot(e)==zn}function Ev(e){return Ue(e)&&ft(e)==xa}var Cv=aa(uo),Sv=aa(function(e,t){return e<=t});function pc(e){if(!e)return[];if(vt(e))return ga(e)?Gt(e):mt(e);if(Yr&&e[Yr])return id(e[Yr]());var t=ot(e),n=t==bt?Ja:t==ht?Mi:Sr;return n(e)}function mn(e){if(!e)return e===0?e:0;if(e=Ut(e),e===Oe||e===-Oe){var t=e<0?-1:1;return t*In}return e===e?e:0}function pe(e){var t=mn(e),n=t%1;return t===t?n?t-n:t:0}function dc(e){return e?qn(pe(e),0,ct):0}function Ut(e){if(typeof e=="number")return e;if(St(e))return lr;if(Pe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Pe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=As(e);var n=Ba.test(e);return n||bi.test(e)?Ti(e.slice(2),n?2:8):Ur.test(e)?lr:+e}function hc(e){return $t(e,_t(e))}function Dv(e){return e?qn(pe(e),-me,me):e===0?e:0}function De(e){return e==null?"":Ct(e)}var Nv=kr(function(e,t){if(ri(t)||vt(t)){$t(t,$e(t),e);return}for(var n in t)Ne.call(t,n)&&Jr(e,n,t[n])}),gc=kr(function(e,t){$t(t,_t(t),e)}),ma=kr(function(e,t,n,i){$t(t,_t(t),e,i)}),Ov=kr(function(e,t,n,i){$t(t,$e(t),e,i)}),Bv=dn(ro);function Tv(e,t){var n=wr(e);return t==null?n:Xs(n,t)}var Av=ve(function(e,t){e=Te(e);var n=-1,i=t.length,l=i>2?t[2]:a;for(l&&pt(t[0],t[1],l)&&(i=1);++n<i;)for(var d=t[n],m=_t(d),b=-1,E=m.length;++b<E;){var I=m[b],P=e[I];(P===a||Yt(P,_r[I])&&!Ne.call(e,I))&&(e[I]=d[I])}return e}),Rv=ve(function(e){return e.push(a,Al),xt(mc,a,e)});function Mv(e,t){return Ns(e,ae(t,3),qt)}function Iv(e,t){return Ns(e,ae(t,3),ao)}function Pv(e,t){return e==null?e:io(e,ae(t,3),_t)}function Lv(e,t){return e==null?e:qs(e,ae(t,3),_t)}function Fv(e,t){return e&&qt(e,ae(t,3))}function Vv(e,t){return e&&ao(e,ae(t,3))}function Uv(e){return e==null?[]:Ji(e,$e(e))}function zv(e){return e==null?[]:Ji(e,_t(e))}function Fo(e,t,n){var i=e==null?a:$n(e,t);return i===a?n:i}function Wv(e,t){return e!=null&&Il(e,t,fh)}function Vo(e,t){return e!=null&&Il(e,t,ph)}var Hv=Dl(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Fi.call(t)),e[t]=n},zo(yt)),Gv=Dl(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Fi.call(t)),Ne.call(e,t)?e[t].push(n):e[t]=[n]},ae),jv=ve($r);function $e(e){return vt(e)?js(e):co(e)}function _t(e){return vt(e)?js(e,!0):kh(e)}function Yv(e,t){var n={};return t=ae(t,3),qt(e,function(i,l,d){fn(n,t(i,l,d),i)}),n}function Xv(e,t){var n={};return t=ae(t,3),qt(e,function(i,l,d){fn(n,l,t(i,l,d))}),n}var Kv=kr(function(e,t,n){qi(e,t,n)}),mc=kr(function(e,t,n,i){qi(e,t,n,i)}),Zv=dn(function(e,t){var n={};if(e==null)return n;var i=!1;t=Re(t,function(d){return d=Tn(d,e),i||(i=d.length>1),d}),$t(e,Eo(e),n),i&&(n=Lt(n,z|ee|Y,Hh));for(var l=t.length;l--;)mo(n,t[l]);return n});function Qv(e,t){return vc(e,da(ae(t)))}var Jv=dn(function(e,t){return e==null?{}:Eh(e,t)});function vc(e,t){if(e==null)return{};var n=Re(Eo(e),function(i){return[i]});return t=ae(t),ll(e,n,function(i,l){return t(i,l[0])})}function qv(e,t,n){t=Tn(t,e);var i=-1,l=t.length;for(l||(l=1,e=a);++i<l;){var d=e==null?a:e[en(t[i])];d===a&&(i=l,d=n),e=gn(d)?d.call(e):d}return e}function $v(e,t,n){return e==null?e:ti(e,t,n)}function e_(e,t,n,i){return i=typeof i=="function"?i:a,e==null?e:ti(e,t,n,i)}var _c=Bl($e),yc=Bl(_t);function t_(e,t,n){var i=ue(e),l=i||Rn(e)||Cr(e);if(t=ae(t,4),n==null){var d=e&&e.constructor;l?n=i?new d:[]:Pe(e)?n=gn(d)?wr(zi(e)):{}:n={}}return(l?Mt:qt)(e,function(m,b,E){return t(n,m,b,E)}),n}function n_(e,t){return e==null?!0:mo(e,t)}function r_(e,t,n){return e==null?e:dl(e,t,yo(n))}function i_(e,t,n,i){return i=typeof i=="function"?i:a,e==null?e:dl(e,t,yo(n),i)}function Sr(e){return e==null?[]:Qa(e,$e(e))}function a_(e){return e==null?[]:Qa(e,_t(e))}function o_(e,t,n){return n===a&&(n=t,t=a),n!==a&&(n=Ut(n),n=n===n?n:0),t!==a&&(t=Ut(t),t=t===t?t:0),qn(Ut(e),t,n)}function s_(e,t,n){return t=mn(t),n===a?(n=t,t=0):n=mn(n),e=Ut(e),dh(e,t,n)}function l_(e,t,n){if(n&&typeof n!="boolean"&&pt(e,t,n)&&(t=n=a),n===a&&(typeof t=="boolean"?(n=t,t=a):typeof e=="boolean"&&(n=e,e=a)),e===a&&t===a?(e=0,t=1):(e=mn(e),t===a?(t=e,e=0):t=mn(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var l=Hs();return at(e+l*(t-e+Bi("1e-"+((l+"").length-1))),t)}return po(e,t)}var c_=xr(function(e,t,n){return t=t.toLowerCase(),e+(n?bc(t):t)});function bc(e){return Uo(De(e).toLowerCase())}function wc(e){return e=De(e),e&&e.replace(Ta,$p).replace(He,"")}function u_(e,t,n){e=De(e),t=Ct(t);var i=e.length;n=n===a?i:qn(pe(n),0,i);var l=n;return n-=t.length,n>=0&&e.slice(n,l)==t}function f_(e){return e=De(e),e&&Ca.test(e)?e.replace(Ie,ed):e}function p_(e){return e=De(e),e&&Na.test(e)?e.replace(Qt,"\\$&"):e}var d_=xr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),h_=xr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),g_=El("toLowerCase");function m_(e,t,n){e=De(e),t=pe(t);var i=t?mr(e):0;if(!t||i>=t)return e;var l=(t-i)/2;return ia(ji(l),n)+e+ia(Gi(l),n)}function v_(e,t,n){e=De(e),t=pe(t);var i=t?mr(e):0;return t&&i<t?e+ia(t-i,n):e}function __(e,t,n){e=De(e),t=pe(t);var i=t?mr(e):0;return t&&i<t?ia(t-i,n)+e:e}function y_(e,t,n){return n||t==null?t=0:t&&(t=+t),Sd(De(e).replace(Gn,""),t||0)}function b_(e,t,n){return(n?pt(e,t,n):t===a)?t=1:t=pe(t),ho(De(e),t)}function w_(){var e=arguments,t=De(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var k_=xr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function x_(e,t,n){return n&&typeof n!="number"&&pt(e,t,n)&&(t=n=a),n=n===a?ct:n>>>0,n?(e=De(e),e&&(typeof t=="string"||t!=null&&!Lo(t))&&(t=Ct(t),!t&&gr(e))?An(Gt(e),0,n):e.split(t,n)):[]}var E_=xr(function(e,t,n){return e+(n?" ":"")+Uo(t)});function C_(e,t,n){return e=De(e),n=n==null?0:qn(pe(n),0,e.length),t=Ct(t),e.slice(n,n+t.length)==t}function S_(e,t,n){var i=f.templateSettings;n&&pt(e,t,n)&&(t=a),e=De(e),t=ma({},t,i,Tl);var l=ma({},t.imports,i.imports,Tl),d=$e(l),m=Qa(l,d),b,E,I=0,P=t.interpolate||on,W="__p += '",Q=qa((t.escape||on).source+"|"+P.source+"|"+(P===Wt?En:on).source+"|"+(t.evaluate||on).source+"|$","g"),ne="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++At+"]")+`
`;e.replace(Q,function(se,be,ke,Dt,dt,Nt){return ke||(ke=Dt),W+=e.slice(I,Nt).replace(Aa,td),be&&(b=!0,W+=`' +
__e(`+be+`) +
'`),dt&&(E=!0,W+=`';
`+dt+`;
__p += '`),ke&&(W+=`' +
((__t = (`+ke+`)) == null ? '' : __t) +
'`),I=Nt+se.length,se}),W+=`';
`;var oe=Ne.call(t,"variable")&&t.variable;if(!oe)W=`with (obj) {
`+W+`
}
`;else if(wt.test(oe))throw new ce(L);W=(E?W.replace(kn,""):W).replace(rt,"$1").replace(Ea,"$1;"),W="function("+(oe||"obj")+`) {
`+(oe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+W+`return __p
}`;var ge=xc(function(){return Se(d,ne+"return "+W).apply(a,m)});if(ge.source=W,Po(ge))throw ge;return ge}function D_(e){return De(e).toLowerCase()}function N_(e){return De(e).toUpperCase()}function O_(e,t,n){if(e=De(e),e&&(n||t===a))return As(e);if(!e||!(t=Ct(t)))return e;var i=Gt(e),l=Gt(t),d=Rs(i,l),m=Ms(i,l)+1;return An(i,d,m).join("")}function B_(e,t,n){if(e=De(e),e&&(n||t===a))return e.slice(0,Ps(e)+1);if(!e||!(t=Ct(t)))return e;var i=Gt(e),l=Ms(i,Gt(t))+1;return An(i,0,l).join("")}function T_(e,t,n){if(e=De(e),e&&(n||t===a))return e.replace(Gn,"");if(!e||!(t=Ct(t)))return e;var i=Gt(e),l=Rs(i,Gt(t));return An(i,l).join("")}function A_(e,t){var n=fe,i=Me;if(Pe(t)){var l="separator"in t?t.separator:l;n="length"in t?pe(t.length):n,i="omission"in t?Ct(t.omission):i}e=De(e);var d=e.length;if(gr(e)){var m=Gt(e);d=m.length}if(n>=d)return e;var b=n-mr(i);if(b<1)return i;var E=m?An(m,0,b).join(""):e.slice(0,b);if(l===a)return E+i;if(m&&(b+=E.length-b),Lo(l)){if(e.slice(b).search(l)){var I,P=E;for(l.global||(l=qa(l.source,De(Vr.exec(l))+"g")),l.lastIndex=0;I=l.exec(P);)var W=I.index;E=E.slice(0,W===a?b:W)}}else if(e.indexOf(Ct(l),b)!=b){var Q=E.lastIndexOf(l);Q>-1&&(E=E.slice(0,Q))}return E+i}function R_(e){return e=De(e),e&&Ae.test(e)?e.replace(Lr,ld):e}var M_=xr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Uo=El("toUpperCase");function kc(e,t,n){return e=De(e),t=n?a:t,t===a?rd(e)?fd(e):Kp(e):e.match(t)||[]}var xc=ve(function(e,t){try{return xt(e,a,t)}catch(n){return Po(n)?n:new ce(n)}}),I_=dn(function(e,t){return Mt(t,function(n){n=en(n),fn(e,n,Mo(e[n],e))}),e});function P_(e){var t=e==null?0:e.length,n=ae();return e=t?Re(e,function(i){if(typeof i[1]!="function")throw new It(R);return[n(i[0]),i[1]]}):[],ve(function(i){for(var l=-1;++l<t;){var d=e[l];if(xt(d[0],this,i))return xt(d[1],this,i)}})}function L_(e){return lh(Lt(e,z))}function zo(e){return function(){return e}}function F_(e,t){return e==null||e!==e?t:e}var V_=Sl(),U_=Sl(!0);function yt(e){return e}function Wo(e){return nl(typeof e=="function"?e:Lt(e,z))}function z_(e){return il(Lt(e,z))}function W_(e,t){return al(e,Lt(t,z))}var H_=ve(function(e,t){return function(n){return $r(n,e,t)}}),G_=ve(function(e,t){return function(n){return $r(e,n,t)}});function Ho(e,t,n){var i=$e(t),l=Ji(t,i);n==null&&!(Pe(t)&&(l.length||!i.length))&&(n=t,t=e,e=this,l=Ji(t,$e(t)));var d=!(Pe(n)&&"chain"in n)||!!n.chain,m=gn(e);return Mt(l,function(b){var E=t[b];e[b]=E,m&&(e.prototype[b]=function(){var I=this.__chain__;if(d||I){var P=e(this.__wrapped__),W=P.__actions__=mt(this.__actions__);return W.push({func:E,args:arguments,thisArg:e}),P.__chain__=I,P}return E.apply(e,Sn([this.value()],arguments))})}),e}function j_(){return Qe._===this&&(Qe._=vd),this}function Go(){}function Y_(e){return e=pe(e),ve(function(t){return ol(t,e)})}var X_=wo(Re),K_=wo(Ds),Z_=wo(ja);function Ec(e){return No(e)?Ya(en(e)):Ch(e)}function Q_(e){return function(t){return e==null?a:$n(e,t)}}var J_=Nl(),q_=Nl(!0);function jo(){return[]}function Yo(){return!1}function $_(){return{}}function ey(){return""}function ty(){return!0}function ny(e,t){if(e=pe(e),e<1||e>me)return[];var n=ct,i=at(e,ct);t=ae(t),e-=ct;for(var l=Za(i,t);++n<e;)t(n);return l}function ry(e){return ue(e)?Re(e,en):St(e)?[e]:mt(Gl(De(e)))}function iy(e){var t=++gd;return De(e)+t}var ay=ra(function(e,t){return e+t},0),oy=ko("ceil"),sy=ra(function(e,t){return e/t},1),ly=ko("floor");function cy(e){return e&&e.length?Qi(e,yt,oo):a}function uy(e,t){return e&&e.length?Qi(e,ae(t,2),oo):a}function fy(e){return Bs(e,yt)}function py(e,t){return Bs(e,ae(t,2))}function dy(e){return e&&e.length?Qi(e,yt,uo):a}function hy(e,t){return e&&e.length?Qi(e,ae(t,2),uo):a}var gy=ra(function(e,t){return e*t},1),my=ko("round"),vy=ra(function(e,t){return e-t},0);function _y(e){return e&&e.length?Ka(e,yt):0}function yy(e,t){return e&&e.length?Ka(e,ae(t,2)):0}return f.after=zm,f.ary=tc,f.assign=Nv,f.assignIn=gc,f.assignInWith=ma,f.assignWith=Ov,f.at=Bv,f.before=nc,f.bind=Mo,f.bindAll=I_,f.bindKey=rc,f.castArray=$m,f.chain=ql,f.chunk=lg,f.compact=cg,f.concat=ug,f.cond=P_,f.conforms=L_,f.constant=zo,f.countBy=_m,f.create=Tv,f.curry=ic,f.curryRight=ac,f.debounce=oc,f.defaults=Av,f.defaultsDeep=Rv,f.defer=Wm,f.delay=Hm,f.difference=fg,f.differenceBy=pg,f.differenceWith=dg,f.drop=hg,f.dropRight=gg,f.dropRightWhile=mg,f.dropWhile=vg,f.fill=_g,f.filter=bm,f.flatMap=xm,f.flatMapDeep=Em,f.flatMapDepth=Cm,f.flatten=Kl,f.flattenDeep=yg,f.flattenDepth=bg,f.flip=Gm,f.flow=V_,f.flowRight=U_,f.fromPairs=wg,f.functions=Uv,f.functionsIn=zv,f.groupBy=Sm,f.initial=xg,f.intersection=Eg,f.intersectionBy=Cg,f.intersectionWith=Sg,f.invert=Hv,f.invertBy=Gv,f.invokeMap=Nm,f.iteratee=Wo,f.keyBy=Om,f.keys=$e,f.keysIn=_t,f.map=ua,f.mapKeys=Yv,f.mapValues=Xv,f.matches=z_,f.matchesProperty=W_,f.memoize=pa,f.merge=Kv,f.mergeWith=mc,f.method=H_,f.methodOf=G_,f.mixin=Ho,f.negate=da,f.nthArg=Y_,f.omit=Zv,f.omitBy=Qv,f.once=jm,f.orderBy=Bm,f.over=X_,f.overArgs=Ym,f.overEvery=K_,f.overSome=Z_,f.partial=Io,f.partialRight=sc,f.partition=Tm,f.pick=Jv,f.pickBy=vc,f.property=Ec,f.propertyOf=Q_,f.pull=Bg,f.pullAll=Ql,f.pullAllBy=Tg,f.pullAllWith=Ag,f.pullAt=Rg,f.range=J_,f.rangeRight=q_,f.rearg=Xm,f.reject=Mm,f.remove=Mg,f.rest=Km,f.reverse=Ao,f.sampleSize=Pm,f.set=$v,f.setWith=e_,f.shuffle=Lm,f.slice=Ig,f.sortBy=Um,f.sortedUniq=Wg,f.sortedUniqBy=Hg,f.split=x_,f.spread=Zm,f.tail=Gg,f.take=jg,f.takeRight=Yg,f.takeRightWhile=Xg,f.takeWhile=Kg,f.tap=cm,f.throttle=Qm,f.thru=ca,f.toArray=pc,f.toPairs=_c,f.toPairsIn=yc,f.toPath=ry,f.toPlainObject=hc,f.transform=t_,f.unary=Jm,f.union=Zg,f.unionBy=Qg,f.unionWith=Jg,f.uniq=qg,f.uniqBy=$g,f.uniqWith=em,f.unset=n_,f.unzip=Ro,f.unzipWith=Jl,f.update=r_,f.updateWith=i_,f.values=Sr,f.valuesIn=a_,f.without=tm,f.words=kc,f.wrap=qm,f.xor=nm,f.xorBy=rm,f.xorWith=im,f.zip=am,f.zipObject=om,f.zipObjectDeep=sm,f.zipWith=lm,f.entries=_c,f.entriesIn=yc,f.extend=gc,f.extendWith=ma,Ho(f,f),f.add=ay,f.attempt=xc,f.camelCase=c_,f.capitalize=bc,f.ceil=oy,f.clamp=o_,f.clone=ev,f.cloneDeep=nv,f.cloneDeepWith=rv,f.cloneWith=tv,f.conformsTo=iv,f.deburr=wc,f.defaultTo=F_,f.divide=sy,f.endsWith=u_,f.eq=Yt,f.escape=f_,f.escapeRegExp=p_,f.every=ym,f.find=wm,f.findIndex=Yl,f.findKey=Mv,f.findLast=km,f.findLastIndex=Xl,f.findLastKey=Iv,f.floor=ly,f.forEach=$l,f.forEachRight=ec,f.forIn=Pv,f.forInRight=Lv,f.forOwn=Fv,f.forOwnRight=Vv,f.get=Fo,f.gt=av,f.gte=ov,f.has=Wv,f.hasIn=Vo,f.head=Zl,f.identity=yt,f.includes=Dm,f.indexOf=kg,f.inRange=s_,f.invoke=jv,f.isArguments=nr,f.isArray=ue,f.isArrayBuffer=sv,f.isArrayLike=vt,f.isArrayLikeObject=Ge,f.isBoolean=lv,f.isBuffer=Rn,f.isDate=cv,f.isElement=uv,f.isEmpty=fv,f.isEqual=pv,f.isEqualWith=dv,f.isError=Po,f.isFinite=hv,f.isFunction=gn,f.isInteger=lc,f.isLength=ha,f.isMap=cc,f.isMatch=gv,f.isMatchWith=mv,f.isNaN=vv,f.isNative=_v,f.isNil=bv,f.isNull=yv,f.isNumber=uc,f.isObject=Pe,f.isObjectLike=Ue,f.isPlainObject=ai,f.isRegExp=Lo,f.isSafeInteger=wv,f.isSet=fc,f.isString=ga,f.isSymbol=St,f.isTypedArray=Cr,f.isUndefined=kv,f.isWeakMap=xv,f.isWeakSet=Ev,f.join=Dg,f.kebabCase=d_,f.last=Vt,f.lastIndexOf=Ng,f.lowerCase=h_,f.lowerFirst=g_,f.lt=Cv,f.lte=Sv,f.max=cy,f.maxBy=uy,f.mean=fy,f.meanBy=py,f.min=dy,f.minBy=hy,f.stubArray=jo,f.stubFalse=Yo,f.stubObject=$_,f.stubString=ey,f.stubTrue=ty,f.multiply=gy,f.nth=Og,f.noConflict=j_,f.noop=Go,f.now=fa,f.pad=m_,f.padEnd=v_,f.padStart=__,f.parseInt=y_,f.random=l_,f.reduce=Am,f.reduceRight=Rm,f.repeat=b_,f.replace=w_,f.result=qv,f.round=my,f.runInContext=x,f.sample=Im,f.size=Fm,f.snakeCase=k_,f.some=Vm,f.sortedIndex=Pg,f.sortedIndexBy=Lg,f.sortedIndexOf=Fg,f.sortedLastIndex=Vg,f.sortedLastIndexBy=Ug,f.sortedLastIndexOf=zg,f.startCase=E_,f.startsWith=C_,f.subtract=vy,f.sum=_y,f.sumBy=yy,f.template=S_,f.times=ny,f.toFinite=mn,f.toInteger=pe,f.toLength=dc,f.toLower=D_,f.toNumber=Ut,f.toSafeInteger=Dv,f.toString=De,f.toUpper=N_,f.trim=O_,f.trimEnd=B_,f.trimStart=T_,f.truncate=A_,f.unescape=R_,f.uniqueId=iy,f.upperCase=M_,f.upperFirst=Uo,f.each=$l,f.eachRight=ec,f.first=Zl,Ho(f,function(){var e={};return qt(f,function(t,n){Ne.call(f.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),f.VERSION=p,Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f}),Mt(["drop","take"],function(e,t){we.prototype[e]=function(n){n=n===a?1:qe(pe(n),0);var i=this.__filtered__&&!t?new we(this):this.clone();return i.__filtered__?i.__takeCount__=at(n,i.__takeCount__):i.__views__.push({size:at(n,ct),type:e+(i.__dir__<0?"Right":"")}),i},we.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Mt(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==ze||n==Kt;we.prototype[e]=function(l){var d=this.clone();return d.__iteratees__.push({iteratee:ae(l,3),type:n}),d.__filtered__=d.__filtered__||i,d}}),Mt(["head","last"],function(e,t){var n="take"+(t?"Right":"");we.prototype[e]=function(){return this[n](1).value()[0]}}),Mt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");we.prototype[e]=function(){return this.__filtered__?new we(this):this[n](1)}}),we.prototype.compact=function(){return this.filter(yt)},we.prototype.find=function(e){return this.filter(e).head()},we.prototype.findLast=function(e){return this.reverse().find(e)},we.prototype.invokeMap=ve(function(e,t){return typeof e=="function"?new we(this):this.map(function(n){return $r(n,e,t)})}),we.prototype.reject=function(e){return this.filter(da(ae(e)))},we.prototype.slice=function(e,t){e=pe(e);var n=this;return n.__filtered__&&(e>0||t<0)?new we(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==a&&(t=pe(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},we.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},we.prototype.toArray=function(){return this.take(ct)},qt(we.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),l=f[i?"take"+(t=="last"?"Right":""):t],d=i||/^find/.test(t);l&&(f.prototype[t]=function(){var m=this.__wrapped__,b=i?[1]:arguments,E=m instanceof we,I=b[0],P=E||ue(m),W=function(be){var ke=l.apply(f,Sn([be],b));return i&&Q?ke[0]:ke};P&&n&&typeof I=="function"&&I.length!=1&&(E=P=!1);var Q=this.__chain__,ne=!!this.__actions__.length,oe=d&&!Q,ge=E&&!ne;if(!d&&P){m=ge?m:new we(this);var se=e.apply(m,b);return se.__actions__.push({func:ca,args:[W],thisArg:a}),new Pt(se,Q)}return oe&&ge?e.apply(this,b):(se=this.thru(W),oe?i?se.value()[0]:se.value():se)})}),Mt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ii[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var l=arguments;if(i&&!this.__chain__){var d=this.value();return t.apply(ue(d)?d:[],l)}return this[n](function(m){return t.apply(ue(m)?m:[],l)})}}),qt(we.prototype,function(e,t){var n=f[t];if(n){var i=n.name+"";Ne.call(br,i)||(br[i]=[]),br[i].push({name:t,func:n})}}),br[na(a,C).name]=[{name:"wrapper",func:a}],we.prototype.clone=Rd,we.prototype.reverse=Md,we.prototype.value=Id,f.prototype.at=um,f.prototype.chain=fm,f.prototype.commit=pm,f.prototype.next=dm,f.prototype.plant=gm,f.prototype.reverse=mm,f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=vm,f.prototype.first=f.prototype.head,Yr&&(f.prototype[Yr]=hm),f},vr=pd();Kn?((Kn.exports=vr)._=vr,za._=vr):Qe._=vr}).call(ir)}(si,si.exports);var ar=si.exports;const Ac=$o(ar),ya=(o,h)=>{const a=o.__vccOpts||o;for(const[p,S]of h)a[p]=S;return a},Rc={props:{type:{type:String,required:!1},active:{type:Boolean,default:!1}}};function Mc(o,h,a,p,S,H){const R=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("button",{type:"button",class:r.normalizeClass(["rounded-lg cursor-pointer border h-9 min-w-9 px-2 flex items-center justify-center focus:outline-none focus:bg-gray-50 hover:bg-gray-50 dark:hover:bg-gray-700 dark:bg-gray-900",{"border-gray-200 dark:border-gray-700":!a.active,"border-primary-500 text-primary-500":a.active}])},[r.renderSlot(o.$slots,"default"),a.type?(r.openBlock(),r.createBlock(R,{key:0,type:a.type,width:"16",height:"16"},null,8,["type"])):r.createCommentVNode("",!0)],2)}const st=ya(Rc,[["render",Mc]]);let li;const Ic=new Uint8Array(16);function Pc(){if(!li&&(li=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!li))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return li(Ic)}const et=[];for(let o=0;o<256;++o)et.push((o+256).toString(16).slice(1));function Lc(o,h=0){return(et[o[h+0]]+et[o[h+1]]+et[o[h+2]]+et[o[h+3]]+"-"+et[o[h+4]]+et[o[h+5]]+"-"+et[o[h+6]]+et[o[h+7]]+"-"+et[o[h+8]]+et[o[h+9]]+"-"+et[o[h+10]]+et[o[h+11]]+et[o[h+12]]+et[o[h+13]]+et[o[h+14]]+et[o[h+15]]).toLowerCase()}const es={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Fc(o,h,a){if(es.randomUUID&&!h&&!o)return es.randomUUID();o=o||{};const p=o.random||(o.rng||Pc)();if(p[6]=p[6]&15|64,p[8]=p[8]&63|128,h){a=a||0;for(let S=0;S<16;++S)h[a+S]=p[S];return h}return Lc(p)}var ts={exports:{}};(function(o){(function(){var h=function(a){if(!(this instanceof h))return new h(a);if(this.version=1,this.support=typeof File<"u"&&typeof Blob<"u"&&typeof FileList<"u"&&(!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!!Blob.prototype.slice||!1),!this.support)return!1;var p=this;p.files=[],p.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",setChunkTypeFromFile:!1,maxFilesErrorCallback:function(_,N){var M=p.getOpt("maxFiles");alert("Please upload no more than "+M+" file"+(M===1?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(_,N){alert(_.fileName||_.name+" is too small, please upload files larger than "+S.formatSize(p.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(_,N){alert(_.fileName||_.name+" is too large, please upload files less than "+S.formatSize(p.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(_,N){alert(_.fileName||_.name+" has type not allowed, please upload files of type "+p.getOpt("fileType")+".")}},p.opts=a||{},p.getOpt=function(_){var N=this;if(_ instanceof Array){var M={};return S.each(_,function(C){M[C]=N.getOpt(C)}),M}if(N instanceof Y){if(typeof N.opts[_]<"u")return N.opts[_];N=N.fileObj}if(N instanceof ee){if(typeof N.opts[_]<"u")return N.opts[_];N=N.resumableObj}if(N instanceof h)return typeof N.opts[_]<"u"?N.opts[_]:N.defaults[_]},p.events=[],p.on=function(_,N){p.events.push(_.toLowerCase(),N)},p.fire=function(){for(var _=[],N=0;N<arguments.length;N++)_.push(arguments[N]);for(var M=_[0].toLowerCase(),N=0;N<=p.events.length;N+=2)p.events[N]==M&&p.events[N+1].apply(p,_.slice(1)),p.events[N]=="catchall"&&p.events[N+1].apply(null,_);M=="fileerror"&&p.fire("error",_[2],_[1]),M=="fileprogress"&&p.fire("progress")};var S={stopEvent:function(_){_.stopPropagation(),_.preventDefault()},each:function(_,N){if(typeof _.length<"u"){for(var M=0;M<_.length;M++)if(N(_[M])===!1)return}else for(M in _)if(N(M,_[M])===!1)return},generateUniqueIdentifier:function(_,N){var M=p.getOpt("generateUniqueIdentifier");if(typeof M=="function")return M(_,N);var C=_.webkitRelativePath||_.fileName||_.name,y=_.size;return y+"-"+C.replace(/[^0-9a-zA-Z_-]/img,"")},contains:function(_,N){var M=!1;return S.each(_,function(C){return C==N?(M=!0,!1):!0}),M},formatSize:function(_){return _<1024?_+" bytes":_<1024*1024?(_/1024).toFixed(0)+" KB":_<1024*1024*1024?(_/1024/1024).toFixed(1)+" MB":(_/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(_,N){var M=p.getOpt("target");if(_==="test"&&p.getOpt("testTarget")&&(M=p.getOpt("testTarget")==="/"?p.getOpt("target"):p.getOpt("testTarget")),typeof M=="function")return M(N);var C=M.indexOf("?")<0?"?":"&",y=N.join("&");return M+C+y}},H=function(_){S.stopEvent(_),_.dataTransfer&&_.dataTransfer.items?F(_.dataTransfer.items,_):_.dataTransfer&&_.dataTransfer.files&&F(_.dataTransfer.files,_)},R=function(_){_.preventDefault()};function L(_,N,M,C){var y;if(_.isFile)return _.file(function(te){te.relativePath=N+te.name,M.push(te),C()});if(_.isDirectory?y=_:_ instanceof File&&M.push(_),typeof _.webkitGetAsEntry=="function"&&(y=_.webkitGetAsEntry()),y&&y.isDirectory)return U(y,N+y.name+"/",M,C);typeof _.getAsFile=="function"&&(_=_.getAsFile(),_ instanceof File&&(_.relativePath=N+_.name,M.push(_))),C()}function K(_,N){if(!_||_.length===0)return N();_[0](function(){K(_.slice(1),N)})}function U(_,N,M,C){var y=_.createReader();y.readEntries(function(te){if(!te.length)return C();K(te.map(function($){return L.bind(null,$,N,M)}),C)})}function F(_,N){if(_.length){p.fire("beforeAdd");var M=[];K(Array.prototype.map.call(_,function(C){return L.bind(null,C,"",M)}),function(){M.length&&z(M,N)})}}var z=function(_,N){var M=0,C=p.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if(typeof C.maxFiles<"u"&&C.maxFiles<_.length+p.files.length)if(C.maxFiles===1&&p.files.length===1&&_.length===1)p.removeFile(p.files[0]);else return C.maxFilesErrorCallback(_,M++),!1;var y=[],te=[],$=_.length,q=function(){if(!--$){if(!y.length&&!te.length)return;window.setTimeout(function(){p.fire("filesAdded",y,te)},0)}};S.each(_,function(le){var re=le.name;if(C.fileType.length>0){var Z=!1;for(var ie in C.fileType){var fe="."+C.fileType[ie];if(re.toLowerCase().indexOf(fe.toLowerCase(),re.length-fe.length)!==-1){Z=!0;break}}if(!Z)return C.fileTypeErrorCallback(le,M++),!1}if(typeof C.minFileSize<"u"&&le.size<C.minFileSize)return C.minFileSizeErrorCallback(le,M++),!1;if(typeof C.maxFileSize<"u"&&le.size>C.maxFileSize)return C.maxFileSizeErrorCallback(le,M++),!1;function Me(Ze){p.getFromUniqueIdentifier(Ze)?te.push(le):function(){le.uniqueIdentifier=Ze;var ze=new ee(p,le,Ze);p.files.push(ze),y.push(ze),ze.container=typeof N<"u"?N.srcElement:null,window.setTimeout(function(){p.fire("fileAdded",ze,N)},0)}(),q()}var Ye=S.generateUniqueIdentifier(le,N);Ye&&typeof Ye.then=="function"?Ye.then(function(Ze){Me(Ze)},function(){q()}):Me(Ye)})};function ee(_,N,M){var C=this;C.opts={},C.getOpt=_.getOpt,C._prevProgress=0,C.resumableObj=_,C.file=N,C.fileName=N.fileName||N.name,C.size=N.size,C.relativePath=N.relativePath||N.webkitRelativePath||C.fileName,C.uniqueIdentifier=M,C._pause=!1,C.container="";var y=M!==void 0,te=function($,q){switch($){case"progress":C.resumableObj.fire("fileProgress",C,q);break;case"error":C.abort(),y=!0,C.chunks=[],C.resumableObj.fire("fileError",C,q);break;case"success":if(y)return;C.resumableObj.fire("fileProgress",C),C.isComplete()&&C.resumableObj.fire("fileSuccess",C,q);break;case"retry":C.resumableObj.fire("fileRetry",C);break}};return C.chunks=[],C.abort=function(){var $=0;S.each(C.chunks,function(q){q.status()=="uploading"&&(q.abort(),$++)}),$>0&&C.resumableObj.fire("fileProgress",C)},C.cancel=function(){var $=C.chunks;C.chunks=[],S.each($,function(q){q.status()=="uploading"&&(q.abort(),C.resumableObj.uploadNextChunk())}),C.resumableObj.removeFile(C),C.resumableObj.fire("fileProgress",C)},C.retry=function(){C.bootstrap();var $=!1;C.resumableObj.on("chunkingComplete",function(){$||C.resumableObj.upload(),$=!0})},C.bootstrap=function(){C.abort(),y=!1,C.chunks=[],C._prevProgress=0;for(var $=C.getOpt("forceChunkSize")?Math.ceil:Math.floor,q=Math.max($(C.file.size/C.getOpt("chunkSize")),1),le=0;le<q;le++)(function(re){window.setTimeout(function(){C.chunks.push(new Y(C.resumableObj,C,re,te)),C.resumableObj.fire("chunkingProgress",C,re/q)},0)})(le);window.setTimeout(function(){C.resumableObj.fire("chunkingComplete",C)},0)},C.progress=function(){if(y)return 1;var $=0,q=!1;return S.each(C.chunks,function(le){le.status()=="error"&&(q=!0),$+=le.progress(!0)}),$=q||$>.99999?1:$,$=Math.max(C._prevProgress,$),C._prevProgress=$,$},C.isUploading=function(){var $=!1;return S.each(C.chunks,function(q){if(q.status()=="uploading")return $=!0,!1}),$},C.isComplete=function(){var $=!1;return S.each(C.chunks,function(q){var le=q.status();if(le=="pending"||le=="uploading"||q.preprocessState===1)return $=!0,!1}),!$},C.pause=function($){typeof $>"u"?C._pause=!C._pause:C._pause=$},C.isPaused=function(){return C._pause},C.resumableObj.fire("chunkingStart",C),C.bootstrap(),this}function Y(_,N,M,C){var y=this;y.opts={},y.getOpt=_.getOpt,y.resumableObj=_,y.fileObj=N,y.fileObjSize=N.size,y.fileObjType=N.file.type,y.offset=M,y.callback=C,y.lastProgressCallback=new Date,y.tested=!1,y.retries=0,y.pendingRetry=!1,y.preprocessState=0;var te=y.getOpt("chunkSize");return y.loaded=0,y.startByte=y.offset*te,y.endByte=Math.min(y.fileObjSize,(y.offset+1)*te),y.fileObjSize-y.endByte<te&&!y.getOpt("forceChunkSize")&&(y.endByte=y.fileObjSize),y.xhr=null,y.test=function(){y.xhr=new XMLHttpRequest;var $=function(ie){y.tested=!0;var fe=y.status();fe=="success"?(y.callback(fe,y.message()),y.resumableObj.uploadNextChunk()):y.send()};y.xhr.addEventListener("load",$,!1),y.xhr.addEventListener("error",$,!1),y.xhr.addEventListener("timeout",$,!1);var q=[],le=y.getOpt("parameterNamespace"),re=y.getOpt("query");typeof re=="function"&&(re=re(y.fileObj,y)),S.each(re,function(ie,fe){q.push([encodeURIComponent(le+ie),encodeURIComponent(fe)].join("="))}),q=q.concat([["chunkNumberParameterName",y.offset+1],["chunkSizeParameterName",y.getOpt("chunkSize")],["currentChunkSizeParameterName",y.endByte-y.startByte],["totalSizeParameterName",y.fileObjSize],["typeParameterName",y.fileObjType],["identifierParameterName",y.fileObj.uniqueIdentifier],["fileNameParameterName",y.fileObj.fileName],["relativePathParameterName",y.fileObj.relativePath],["totalChunksParameterName",y.fileObj.chunks.length]].filter(function(ie){return y.getOpt(ie[0])}).map(function(ie){return[le+y.getOpt(ie[0]),encodeURIComponent(ie[1])].join("=")})),y.xhr.open(y.getOpt("testMethod"),S.getTarget("test",q)),y.xhr.timeout=y.getOpt("xhrTimeout"),y.xhr.withCredentials=y.getOpt("withCredentials");var Z=y.getOpt("headers");typeof Z=="function"&&(Z=Z(y.fileObj,y)),S.each(Z,function(ie,fe){y.xhr.setRequestHeader(ie,fe)}),y.xhr.send(null)},y.preprocessFinished=function(){y.preprocessState=2,y.send()},y.send=function(){var $=y.getOpt("preprocess");if(typeof $=="function")switch(y.preprocessState){case 0:y.preprocessState=1,$(y);return;case 1:return}if(y.getOpt("testChunks")&&!y.tested){y.test();return}y.xhr=new XMLHttpRequest,y.xhr.upload.addEventListener("progress",function(Oe){new Date-y.lastProgressCallback>y.getOpt("throttleProgressCallbacks")*1e3&&(y.callback("progress"),y.lastProgressCallback=new Date),y.loaded=Oe.loaded||0},!1),y.loaded=0,y.pendingRetry=!1,y.callback("progress");var q=function(Oe){var me=y.status();if(me=="success"||me=="error")y.callback(me,y.message()),y.resumableObj.uploadNextChunk();else{y.callback("retry",y.message()),y.abort(),y.retries++;var In=y.getOpt("chunkRetryInterval");In!==void 0?(y.pendingRetry=!0,setTimeout(y.send,In)):y.send()}};y.xhr.addEventListener("load",q,!1),y.xhr.addEventListener("error",q,!1),y.xhr.addEventListener("timeout",q,!1);var le=[["chunkNumberParameterName",y.offset+1],["chunkSizeParameterName",y.getOpt("chunkSize")],["currentChunkSizeParameterName",y.endByte-y.startByte],["totalSizeParameterName",y.fileObjSize],["typeParameterName",y.fileObjType],["identifierParameterName",y.fileObj.uniqueIdentifier],["fileNameParameterName",y.fileObj.fileName],["relativePathParameterName",y.fileObj.relativePath],["totalChunksParameterName",y.fileObj.chunks.length]].filter(function(Oe){return y.getOpt(Oe[0])}).reduce(function(Oe,me){return Oe[y.getOpt(me[0])]=me[1],Oe},{}),re=y.getOpt("query");typeof re=="function"&&(re=re(y.fileObj,y)),S.each(re,function(Oe,me){le[Oe]=me});var Z=y.fileObj.file.slice?"slice":y.fileObj.file.mozSlice?"mozSlice":y.fileObj.file.webkitSlice?"webkitSlice":"slice",ie=y.fileObj.file[Z](y.startByte,y.endByte,y.getOpt("setChunkTypeFromFile")?y.fileObj.file.type:""),fe=null,Me=[],Ye=y.getOpt("parameterNamespace");if(y.getOpt("method")==="octet")fe=ie,S.each(le,function(Oe,me){Me.push([encodeURIComponent(Ye+Oe),encodeURIComponent(me)].join("="))});else if(fe=new FormData,S.each(le,function(Oe,me){fe.append(Ye+Oe,me),Me.push([encodeURIComponent(Ye+Oe),encodeURIComponent(me)].join("="))}),y.getOpt("chunkFormat")=="blob")fe.append(Ye+y.getOpt("fileParameterName"),ie,y.fileObj.fileName);else if(y.getOpt("chunkFormat")=="base64"){var Ze=new FileReader;Ze.onload=function(Oe){fe.append(Ye+y.getOpt("fileParameterName"),Ze.result),y.xhr.send(fe)},Ze.readAsDataURL(ie)}var ze=S.getTarget("upload",Me),Fe=y.getOpt("uploadMethod");y.xhr.open(Fe,ze),y.getOpt("method")==="octet"&&y.xhr.setRequestHeader("Content-Type","application/octet-stream"),y.xhr.timeout=y.getOpt("xhrTimeout"),y.xhr.withCredentials=y.getOpt("withCredentials");var Kt=y.getOpt("headers");typeof Kt=="function"&&(Kt=Kt(y.fileObj,y)),S.each(Kt,function(Oe,me){y.xhr.setRequestHeader(Oe,me)}),y.getOpt("chunkFormat")=="blob"&&y.xhr.send(fe)},y.abort=function(){y.xhr&&y.xhr.abort(),y.xhr=null},y.status=function(){return y.pendingRetry?"uploading":y.xhr?y.xhr.readyState<4?"uploading":y.xhr.status==200||y.xhr.status==201?"success":S.contains(y.getOpt("permanentErrors"),y.xhr.status)||y.retries>=y.getOpt("maxChunkRetries")?"error":(y.abort(),"pending"):"pending"},y.message=function(){return y.xhr?y.xhr.responseText:""},y.progress=function($){typeof $>"u"&&($=!1);var q=$?(y.endByte-y.startByte)/y.fileObjSize:1;if(y.pendingRetry)return 0;(!y.xhr||!y.xhr.status)&&(q*=.95);var le=y.status();switch(le){case"success":case"error":return 1*q;case"pending":return 0*q;default:return y.loaded/(y.endByte-y.startByte)*q}},this}return p.uploadNextChunk=function(){var _=!1;if(p.getOpt("prioritizeFirstAndLastChunk")&&(S.each(p.files,function(M){if(M.chunks.length&&M.chunks[0].status()=="pending"&&M.chunks[0].preprocessState===0)return M.chunks[0].send(),_=!0,!1;if(M.chunks.length>1&&M.chunks[M.chunks.length-1].status()=="pending"&&M.chunks[M.chunks.length-1].preprocessState===0)return M.chunks[M.chunks.length-1].send(),_=!0,!1}),_)||(S.each(p.files,function(M){if(M.isPaused()===!1&&S.each(M.chunks,function(C){if(C.status()=="pending"&&C.preprocessState===0)return C.send(),_=!0,!1}),_)return!1}),_))return!0;var N=!1;return S.each(p.files,function(M){if(!M.isComplete())return N=!0,!1}),N||p.fire("complete"),!1},p.assignBrowse=function(_,N){typeof _.length>"u"&&(_=[_]),S.each(_,function(M){var C;M.tagName==="INPUT"&&M.type==="file"?C=M:(C=document.createElement("input"),C.setAttribute("type","file"),C.style.display="none",M.addEventListener("click",function(){C.style.opacity=0,C.style.display="block",C.focus(),C.click(),C.style.display="none"},!1),M.appendChild(C));var y=p.getOpt("maxFiles");typeof y>"u"||y!=1?C.setAttribute("multiple","multiple"):C.removeAttribute("multiple"),N?C.setAttribute("webkitdirectory","webkitdirectory"):C.removeAttribute("webkitdirectory");var te=p.getOpt("fileType");typeof te<"u"&&te.length>=1?C.setAttribute("accept",te.map(function($){return"."+$}).join(",")):C.removeAttribute("accept"),C.addEventListener("change",function($){z($.target.files,$);var q=p.getOpt("clearInput");q&&($.target.value="")},!1)})},p.assignDrop=function(_){typeof _.length>"u"&&(_=[_]),S.each(_,function(N){N.addEventListener("dragover",R,!1),N.addEventListener("dragenter",R,!1),N.addEventListener("drop",H,!1)})},p.unAssignDrop=function(_){typeof _.length>"u"&&(_=[_]),S.each(_,function(N){N.removeEventListener("dragover",R),N.removeEventListener("dragenter",R),N.removeEventListener("drop",H)})},p.isUploading=function(){var _=!1;return S.each(p.files,function(N){if(N.isUploading())return _=!0,!1}),_},p.upload=function(){if(!p.isUploading()){p.fire("uploadStart");for(var _=1;_<=p.getOpt("simultaneousUploads");_++)p.uploadNextChunk()}},p.pause=function(){S.each(p.files,function(_){_.abort()}),p.fire("pause")},p.cancel=function(){p.fire("beforeCancel");for(var _=p.files.length-1;_>=0;_--)p.files[_].cancel();p.fire("cancel")},p.progress=function(){var _=0,N=0;return S.each(p.files,function(M){_+=M.progress()*M.size,N+=M.size}),N>0?_/N:0},p.addFile=function(_,N){z([_],N)},p.addFiles=function(_,N){z(_,N)},p.removeFile=function(_){for(var N=p.files.length-1;N>=0;N--)p.files[N]===_&&p.files.splice(N,1)},p.getFromUniqueIdentifier=function(_){var N=!1;return S.each(p.files,function(M){M.uniqueIdentifier==_&&(N=M)}),N},p.getSize=function(){var _=0;return S.each(p.files,function(N){_+=N.size}),_},p.handleDropEvent=function(_){H(_)},p.handleChangeEvent=function(_){z(_.target.files,_),_.target.value=""},p.updateQuery=function(_){p.opts.query=_},this};o.exports=h})()})(ts);var Vc=ts.exports;const Uc=$o(Vc);function zc(){return document.head.querySelector('meta[name="csrf-token"]')?.content??!1}const Le={DETAIL:"detail",SELECTED:"selected",QUEUE:"queue",CREATE_FOLDER:"create-folder",CROP:"crop",DELETE:"delete",RENAME:"rename"},lt={FILES:"files",FILE:"file",FOLDER:"folder"};function Wc(o){return r.getCurrentScope()?(r.onScopeDispose(o),!0):!1}function ci(o){return typeof o=="function"?o():r.unref(o)}const ns=typeof window<"u",rs=()=>{},Hc=Gc();function Gc(){var o;return ns&&((o=window?.navigator)==null?void 0:o.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function jc(o,h){function a(...p){return new Promise((S,H)=>{Promise.resolve(o(()=>h.apply(this,p),{fn:h,thisArg:this,args:p})).then(S).catch(H)})}return a}const is=o=>o();function Yc(o=is){const h=r.ref(!0);function a(){h.value=!1}function p(){h.value=!0}const S=(...H)=>{h.value&&o(...H)};return{isActive:r.readonly(h),pause:a,resume:p,eventFilter:S}}var as=Object.getOwnPropertySymbols,Xc=Object.prototype.hasOwnProperty,Kc=Object.prototype.propertyIsEnumerable,Zc=(o,h)=>{var a={};for(var p in o)Xc.call(o,p)&&h.indexOf(p)<0&&(a[p]=o[p]);if(o!=null&&as)for(var p of as(o))h.indexOf(p)<0&&Kc.call(o,p)&&(a[p]=o[p]);return a};function Qc(o,h,a={}){const p=a,{eventFilter:S=is}=p,H=Zc(p,["eventFilter"]);return r.watch(o,jc(S,h),H)}var Jc=Object.defineProperty,qc=Object.defineProperties,$c=Object.getOwnPropertyDescriptors,ui=Object.getOwnPropertySymbols,os=Object.prototype.hasOwnProperty,ss=Object.prototype.propertyIsEnumerable,ls=(o,h,a)=>h in o?Jc(o,h,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[h]=a,eu=(o,h)=>{for(var a in h||(h={}))os.call(h,a)&&ls(o,a,h[a]);if(ui)for(var a of ui(h))ss.call(h,a)&&ls(o,a,h[a]);return o},tu=(o,h)=>qc(o,$c(h)),nu=(o,h)=>{var a={};for(var p in o)os.call(o,p)&&h.indexOf(p)<0&&(a[p]=o[p]);if(o!=null&&ui)for(var p of ui(o))h.indexOf(p)<0&&ss.call(o,p)&&(a[p]=o[p]);return a};function ru(o,h,a={}){const p=a,{eventFilter:S}=p,H=nu(p,["eventFilter"]),{eventFilter:R,pause:L,resume:K,isActive:U}=Yc(S);return{stop:Qc(o,h,tu(eu({},H),{eventFilter:R})),pause:L,resume:K,isActive:U}}function Or(o){var h;const a=ci(o);return(h=a?.$el)!=null?h:a}const or=ns?window:void 0;function sr(...o){let h,a,p,S;if(typeof o[0]=="string"||Array.isArray(o[0])?([a,p,S]=o,h=or):[h,a,p,S]=o,!h)return rs;Array.isArray(a)||(a=[a]),Array.isArray(p)||(p=[p]);const H=[],R=()=>{H.forEach(F=>F()),H.length=0},L=(F,z,ee,Y)=>(F.addEventListener(z,ee,Y),()=>F.removeEventListener(z,ee,Y)),K=r.watch(()=>[Or(h),ci(S)],([F,z])=>{R(),F&&H.push(...a.flatMap(ee=>p.map(Y=>L(F,ee,Y,z))))},{immediate:!0,flush:"post"}),U=()=>{K(),R()};return Wc(U),U}let cs=!1;function iu(o,h,a={}){const{window:p=or,ignore:S=[],capture:H=!0,detectIframe:R=!1}=a;if(!p)return;Hc&&!cs&&(cs=!0,Array.from(p.document.body.children).forEach(ee=>ee.addEventListener("click",rs)));let L=!0;const K=ee=>S.some(Y=>{if(typeof Y=="string")return Array.from(p.document.querySelectorAll(Y)).some(_=>_===ee.target||ee.composedPath().includes(_));{const _=Or(Y);return _&&(ee.target===_||ee.composedPath().includes(_))}}),F=[sr(p,"click",ee=>{const Y=Or(o);if(!(!Y||Y===ee.target||ee.composedPath().includes(Y))){if(ee.detail===0&&(L=!K(ee)),!L){L=!0;return}h(ee)}},{passive:!0,capture:H}),sr(p,"pointerdown",ee=>{const Y=Or(o);Y&&(L=!ee.composedPath().includes(Y)&&!K(ee))},{passive:!0}),R&&sr(p,"blur",ee=>{var Y;const _=Or(o);((Y=p.document.activeElement)==null?void 0:Y.tagName)==="IFRAME"&&!_?.contains(p.document.activeElement)&&h(ee)})].filter(Boolean);return()=>F.forEach(ee=>ee())}function au(o){return typeof o=="function"?o:typeof o=="string"?h=>h.key===o:Array.isArray(o)?h=>o.includes(h.key):()=>!0}function us(...o){let h,a,p={};o.length===3?(h=o[0],a=o[1],p=o[2]):o.length===2?typeof o[1]=="object"?(h=!0,a=o[0],p=o[1]):(h=o[0],a=o[1]):(h=!0,a=o[0]);const{target:S=or,eventName:H="keydown",passive:R=!1,dedupe:L=!1}=p,K=au(h);return sr(S,H,F=>{F.repeat&&ci(L)||K(F)&&a(F)},R)}const fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pi="__vueuse_ssr_handlers__",ou=su();function su(){return pi in fi||(fi[pi]=fi[pi]||{}),fi[pi]}function lu(o,h){return ou[o]||h}function cu(o){return o==null?"any":o instanceof Set?"set":o instanceof Map?"map":o instanceof Date?"date":typeof o=="boolean"?"boolean":typeof o=="string"?"string":typeof o=="object"?"object":Number.isNaN(o)?"any":"number"}var uu=Object.defineProperty,fs=Object.getOwnPropertySymbols,fu=Object.prototype.hasOwnProperty,pu=Object.prototype.propertyIsEnumerable,ps=(o,h,a)=>h in o?uu(o,h,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[h]=a,ds=(o,h)=>{for(var a in h||(h={}))fu.call(h,a)&&ps(o,a,h[a]);if(fs)for(var a of fs(h))pu.call(h,a)&&ps(o,a,h[a]);return o};const du={boolean:{read:o=>o==="true",write:o=>String(o)},object:{read:o=>JSON.parse(o),write:o=>JSON.stringify(o)},number:{read:o=>Number.parseFloat(o),write:o=>String(o)},any:{read:o=>o,write:o=>String(o)},string:{read:o=>o,write:o=>String(o)},map:{read:o=>new Map(JSON.parse(o)),write:o=>JSON.stringify(Array.from(o.entries()))},set:{read:o=>new Set(JSON.parse(o)),write:o=>JSON.stringify(Array.from(o))},date:{read:o=>new Date(o),write:o=>o.toISOString()}},hs="vueuse-storage";function hu(o,h,a,p={}){var S;const{flush:H="pre",deep:R=!0,listenToStorageChanges:L=!0,writeDefaults:K=!0,mergeDefaults:U=!1,shallow:F,window:z=or,eventFilter:ee,onError:Y=Z=>{console.error(Z)}}=p,_=(F?r.shallowRef:r.ref)(h);if(!a)try{a=lu("getDefaultStorage",()=>{var Z;return(Z=or)==null?void 0:Z.localStorage})()}catch(Z){Y(Z)}if(!a)return _;const N=ci(h),M=cu(N),C=(S=p.serializer)!=null?S:du[M],{pause:y,resume:te}=ru(_,()=>$(_.value),{flush:H,deep:R,eventFilter:ee});return z&&L&&(sr(z,"storage",re),sr(z,hs,le)),re(),_;function $(Z){try{if(Z==null)a.removeItem(o);else{const ie=C.write(Z),fe=a.getItem(o);fe!==ie&&(a.setItem(o,ie),z&&z.dispatchEvent(new CustomEvent(hs,{detail:{key:o,oldValue:fe,newValue:ie,storageArea:a}})))}}catch(ie){Y(ie)}}function q(Z){const ie=Z?Z.newValue:a.getItem(o);if(ie==null)return K&&N!==null&&a.setItem(o,C.write(N)),N;if(!Z&&U){const fe=C.read(ie);return typeof U=="function"?U(fe,N):M==="object"&&!Array.isArray(fe)?ds(ds({},N),fe):fe}else return typeof ie!="string"?ie:C.read(ie)}function le(Z){re(Z.detail)}function re(Z){if(!(Z&&Z.storageArea!==a)){if(Z&&Z.key==null){_.value=N;return}if(!(Z&&Z.key!==o)){y();try{_.value=q(Z)}catch(ie){Y(ie)}finally{Z?r.nextTick(te):te()}}}}}function gu(o,h,a={}){const{window:p=or}=a;return hu(o,h,p?.localStorage,a)}function ky(o){return o}const nt=Tc("nova-filemanager/browser",{state:()=>({loading:!1,isUploading:!1,isFetchingDisks:!1,selecting:!1,multiple:!0,showFolders:!0,showFiles:!0,page:1,perPage:10,path:"/",search:"",sort:"",disk:gu("pinia/nova-file-manager/browser/disk",""),period:"",selection:[],modals:[],queue:[],selectionConfirms:0,perPageOptions:ar.range(10,50,10),sorts:[{value:"",label:"Sort by"},{value:"date",label:"Date Asc"},{value:"date-desc",label:"Date Desc"},{value:"name",label:"Name Asc"},{value:"name-desc",label:"Name Desc"},{value:"size",label:"Size Asc"},{value:"size-desc",label:"Size Desc"}],disks:[],periods:[{value:"",label:"Filter by date"},{value:"24 hours",label:"24 hours"},{value:"7 days",label:"7 days"},{value:"1 month",label:"1 month"},{value:"6 months",label:"6 months"},{value:"1 year",label:"1 year"}],data:{},chunkSize:50*1024*1024}),actions:{async init(){ar.isEmpty(this.disks)&&await this.getDisks(),ar.isEmpty(this.data)&&await this.fetch()},confirmSelection(){this.selectionConfirms++},setPage(o){this.page=o,this.fetch()},setPerPage(o){this.perPage=o,this.page=1,this.fetch()},setPath(o){this.path=o,this.page=1,this.fetch()},setSearch(o){this.search=o,this.page=1,this.fetch()},setSort(o){this.sort=o,this.fetch()},setDisk(o){this.path="/",this.page=1,this.search="",this.disk=o,this.fetch()},setPeriod(o){this.period=o,this.page=1,this.fetch()},openModal(o,h=null){this.modals.push({id:Fc(),name:o,payload:h})},closeModal(o){this.modals=this.modals.filter(h=>h.id!==o)},closeModalsByName(o){this.modals=this.modals.filter(h=>h.name!==o)},closeModals(){this.modals=[]},select(o){if(ar.isEmpty(this.selection)){this.selection=[o];return}this.selection.push(o)},unselect(o){this.selection=this.selection?.filter(h=>h.id!==o.id)},setSelection(o){this.selection=o},clearSelection(){this.setSelection([])},toggleSelection(o){if(this.isSelected(o)){this.unselect(o);return}this.multiple||this.clearSelection(),this.select(o)},queueFile({file:o}){this.queue.push({id:o.name,ratio:0,status:null,file:o,isImage:o.type.includes("image")??!1})},clearQueue(){this.queue=[]},updateQueue({id:o,ratio:h=100,status:a=null}){this.queue=this.queue.map(S=>S.id===o?{...S,status:a,ratio:h}:S),this.queue.reduce((S,H)=>S&&H.ratio===100,!0)&&this.queue.length&&setTimeout(async()=>{this.closeModalsByName(Le.QUEUE),this.clearQueue(),this.isUploading=!1,await this.fetch()},1e3)},async deleteFolder(o){return Nova.request().post("/nova-vendor/nova-file-manager/folders/delete",{disk:this.disk,path:o}).then(h=>(this.selection=this.selection.filter(a=>a.path!==o),h)).catch(()=>Nova.error("Error. Please check your logs"))},async deleteFiles(o=[]){if(o.length!==0)return Nova.request().post("/nova-vendor/nova-file-manager/files/delete",{disk:this.disk,paths:o}).then(h=>(this.selection=this.selection.filter(a=>!o.includes(a.path)),h)).catch(()=>Nova.error("Error. Please check your logs"))},async unarchive(o){return this.loading=!0,Nova.request().post("/nova-vendor/nova-file-manager/files/unzip",{disk:this.disk,path:o}).then(h=>{this.loading=!1,this.closeModals(),this.fetch(),Nova.success(h.data.message||"ok")}).catch(h=>{this.loading=!1,Nova.error(h.response.data.message||"Something went wrong")})},async duplicate(o){return this.loading=!0,Nova.request().post("/nova-vendor/nova-file-manager/files/duplicate",{disk:this.disk,path:o}).then(h=>{this.loading=!1,this.closeModals(),this.fetch(),Nova.success(h.data.message||"ok")}).catch(h=>{this.loading=!1,Nova.error(h.response.data.message||"Something went wrong")})},upload(o){if(this.isUploading)return;this.modals.find(a=>a.name===Le.QUEUE)||this.openModal(Le.QUEUE),this.isUploading=!0;const h=new Uc({chunkSize:this.chunkSize,simultaneousUploads:1,maxChunkRetries:10,testChunks:!1,target:"/nova-vendor/nova-file-manager/files/upload",query:{path:this.path??"/",disk:this.disk},headers:{Accept:"application/json","X-CSRF-TOKEN":zc()}});o.forEach(a=>{h.addFile(a),this.queueFile({file:a})}),h.on("fileAdded",()=>h.upload()),h.on("fileSuccess",a=>{this.updateQueue({id:a.fileName,status:!0})}),h.on("fileProgress",a=>{this.updateQueue({id:a.fileName,ratio:Math.floor(a.progress(!1)*100)})}),h.on("error",(a,p)=>{console.log(a,p)}),h.on("fileError",(a,p)=>{this.updateQueue({id:a.fileName,status:!1}),window.Nova.error(JSON.parse(p).message)})},async getDisks(){return this.isFetchingDisks=!0,Nova.request().get("/nova-vendor/nova-file-manager/disks/available").then(o=>{this.disks=o.data,this.disk||(this.disk=this.disks[0])}).catch(()=>Nova.error("Error. Please check your logs")).finally(()=>this.isFetchingDisks=!1)},async fetch(){return this.loading=!0,Nova.request().get("/nova-vendor/nova-file-manager",{params:{page:this.page,perPage:this.perPage,path:this.path,search:this.search,sort:this.sort,disk:this.disk,period:this.period}}).then(o=>{this.page=o.data.pagination.current_page,this.disk=o.data.disk,this.data=o.data,this.loading=!1}).catch(()=>{this.loading=!1,Nova.error("Error. Please check your logs")})}},getters:{isSelected(){return o=>!!this.selection?.find(h=>h.id===o.id)},isProcessing(){return this.loading||this.isUploading||this.isFetchingDisks}}}),ba=r.defineComponent({__name:"Dropdown",setup(o){const h=r.ref(!1),a=r.ref();return iu(a,()=>h.value?h.value=!1:null),(p,S)=>(r.openBlock(),r.createElementBlock("div",{class:"relative",ref_key:"target",ref:a},[r.createElementVNode("div",{onClick:S[0]||(S[0]=r.withModifiers(()=>h.value=!h.value,["prevent","stop"]))},[r.renderSlot(p.$slots,"trigger")]),r.createElementVNode("div",{class:r.normalizeClass(["absolute p-1 mt-2 min-w-80 rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 z-20",{hidden:!h.value}]),style:{right:0,top:"100%"}},[r.renderSlot(p.$slots,"default")],2)],512))}}),xy="",Ey="",mu={class:"flex items-center px-6 py-4 space-x-2 border-b border-gray-200 dark:border-gray-700"},vu={class:"rounded-lg cursor-pointer h-9 min-w-9 px-2 flex items-center justify-center focus:outline-none bg-primary-500 hover:bg-primary-600 shadow text-white dark:text-gray-900 dark:ring-gray-600",for:"fileUpload"},_u=r.createElementVNode("div",{class:"flex-grow"},null,-1),yu={key:0,class:"flex items-center space-x-2"},bu={class:"p-2 space-y-2 w-60"},wu={class:"relative"},ku=["placeholder","aria-label"],xu={class:"text-gray-900 dark:text-gray-200 font-medium"},Eu={class:"text-gray-900 dark:text-gray-200 font-medium"},Cu={class:"text-gray-900 dark:text-gray-200 font-medium"},Su={__name:"BrowserToolbar",emits:["changeFile"],setup(o,{emit:h}){const a=nt(),p=r.ref(),S=Ac.debounce(R=>a.setSearch(R),300);function H(R){h("changeFile",R)}return(R,L)=>{const K=r.resolveComponent("Icon"),U=r.resolveComponent("SelectControl"),F=r.resolveDirective("tooltip");return r.openBlock(),r.createElementBlock("div",mu,[r.withDirectives((r.openBlock(),r.createElementBlock("label",vu,[r.createElementVNode("input",{ref_key:"fileUpload",ref:p,id:"fileUpload",type:"file",class:"sr-only",multiple:"",onChange:H},null,544),r.createVNode(K,{type:"upload",width:"16",height:"16"})])),[[F,R.__("Upload a file")]]),r.withDirectives(r.createVNode(st,{onClick:L[0]||(L[0]=r.withModifiers(z=>r.unref(a).openModal(r.unref(Le).CREATE_FOLDER),["prevent"])),type:"folder-add"},null,512),[[F,R.__("Create folder")]]),r.withDirectives(r.createVNode(st,{onClick:L[1]||(L[1]=r.withModifiers(z=>r.unref(a).fetch(),["prevent"])),type:"refresh"},null,512),[[F,R.__("Refresh")]]),r.createVNode(U,{options:r.unref(a).disks.map(z=>({label:z,value:z})),selected:r.unref(a).disk,onChange:L[2]||(L[2]=z=>r.unref(a).setDisk(z))},null,8,["options","selected"]),_u,r.unref(a).selection.length>0?(r.openBlock(),r.createElementBlock("div",yu,[r.withDirectives((r.openBlock(),r.createElementBlock("span",{onClick:L[3]||(L[3]=r.withModifiers(()=>r.unref(a).openModal(r.unref(Le).SELECTED),["prevent"])),class:"cursor-pointer hover:text-primary-500"},[r.createTextVNode(" Selected "+r.toDisplayString(r.unref(a).selection.length)+" files ",1)])),[[F,R.__("Open selected files modal")]]),r.withDirectives(r.createVNode(st,{class:"text-red-500",type:"trash",onClick:L[4]||(L[4]=r.withModifiers(()=>r.unref(a).openModal(r.unref(Le).DELETE,{type:r.unref(lt).FILES,[r.unref(lt).FILES]:r.unref(a).selection}),["prevent"]))},null,512),[[F,R.__("Delete selected files")]]),r.unref(a).selecting?r.withDirectives((r.openBlock(),r.createBlock(st,{key:0,class:"text-green-500",type:"check",onClick:L[5]||(L[5]=r.withModifiers(()=>r.unref(a).confirmSelection(),["prevent"]))},null,512)),[[F,R.__("Confirm selection")]]):r.createCommentVNode("",!0)])):r.createCommentVNode("",!0),r.createVNode(ba,null,{trigger:r.withCtx(()=>[r.withDirectives(r.createVNode(st,{type:"filter",active:!!(r.unref(a).search||r.unref(a).sort||r.unref(a).period)},null,8,["active"]),[[F,R.__("Filters")]])]),default:r.withCtx(()=>[r.createElementVNode("div",bu,[r.createElementVNode("div",wu,[r.createElementVNode("input",{ref:"input",type:"text",class:"w-full h-full form-control rounded-lg form-input form-input-bordered py-2",placeholder:R.__("Search"),"aria-label":R.__("Search"),spellcheck:"false",onInput:L[6]||(L[6]=z=>r.unref(S)(z.target.value))},null,40,ku)]),r.createElementVNode("p",xu,r.toDisplayString(R.__("Per page")),1),r.createVNode(U,{options:r.unref(a).perPageOptions.map(z=>({label:z,value:z})),selected:r.unref(a).perPage,onChange:L[7]||(L[7]=z=>r.unref(a).setPerPage(z))},null,8,["options","selected"]),r.createElementVNode("p",Eu,r.toDisplayString(R.__("Period")),1),r.unref(a).periods?(r.openBlock(),r.createBlock(U,{key:0,options:r.unref(a).periods,selected:r.unref(a).period,onChange:L[8]||(L[8]=z=>r.unref(a).setPeriod(z))},null,8,["options","selected"])):r.createCommentVNode("",!0),r.createElementVNode("p",Cu,r.toDisplayString(R.__("Sort by")),1),r.unref(a).sorts?(r.openBlock(),r.createBlock(U,{key:1,options:r.unref(a).sorts,selected:r.unref(a).sort,onChange:L[9]||(L[9]=z=>r.unref(a).setSort(z))},null,8,["options","selected"])):r.createCommentVNode("",!0)])]),_:1})])}}},Du={class:"flex items-center pt-4"},Nu={class:"flex text-sm"},Ou=["disabled","dusk","onClick"],Bu={class:"hidden md:flex items-center justify-center text-xs px-4 ml-auto"},Tu={__name:"BrowserPagination",setup(o){const h=nt(),a=r.computed(()=>h.data?.pagination);function p(H){h.setPage(H)}const S=r.computed(()=>a.total>0?`${a.from}-${a.to} of ${a.total}`:"");return(H,R)=>(r.openBlock(),r.createElementBlock("nav",Du,[r.createElementVNode("div",Nu,[r.createElementVNode("button",{class:r.normalizeClass(["hidden md:flex items-center justify-center rounded-lg border border-gray-200 dark:border-gray-700 text-xl h-9 min-w-9 px-2 focus:outline-none focus:bg-gray-50 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-500 mr-1",{disabled:a.value.current_page<=1}]),rel:"prev",dusk:"previous",onClick:R[0]||(R[0]=r.withModifiers(L=>p(a.value.current_page-1),["prevent"]))}," ‹ ",2),(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(a.value.links,L=>(r.openBlock(),r.createElementBlock(r.Fragment,{key:L.label},[!isNaN(L.label)||L.label==="..."?(r.openBlock(),r.createElementBlock("button",{key:0,class:r.normalizeClass(["rounded-lg mr-1 border border-gray-200 dark:border-gray-700 h-9 min-w-9 px-2 focus:outline-none focus:bg-gray-50 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-500",{"bg-gray-50 dark:bg-gray-700":L.active}]),disabled:L.label==="..."||L.active,dusk:`page:${L.label}`,onClick:r.withModifiers(K=>L.label==="..."||L.active?null:p(L.label),["prevent"])},r.toDisplayString(L.label),11,Ou)):r.createCommentVNode("",!0)],64))),128)),r.createElementVNode("button",{class:r.normalizeClass([{disabled:a.value.current_page>=a.value.last_page},"hidden md:flex items-center justify-center rounded-lg mr-1 border border-gray-200 dark:border-gray-700 text-xl h-9 min-w-9 px-2 focus:outline-none focus:bg-gray-50 hover:bg-gray-50 dark:hover:bg-gray-700"]),rel:"next",dusk:"next",onClick:R[1]||(R[1]=r.withModifiers(L=>p(a.value.current_page+1),["prevent"]))}," › ",2)]),r.createElementVNode("span",Bu,r.toDisplayString(S.value),1)]))}},Br={dir:"folder",dirBack:"folder-remove",audio:"music-note",image:"photograph",pdf:"document",text:"document-text",video:"video-camera",archive:"archive"};function wa(o,h,a="..."){return o.slice(0,h)+(h<o.length?a:"")}const Au={},Ru={class:"flex items-center cursor-pointer px-3 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800"};function Mu(o,h){return r.openBlock(),r.createElementBlock("div",Ru,[r.renderSlot(o.$slots,"default")])}const yn=ya(Au,[["render",Mu]]),Cy="",Iu=["onClick"],Pu={key:0,class:"absolute top-0 right-0 p-2 text-primary-500"},Lu=["src"],Fu={class:"w-full flex items-center mt-2"},Vu={class:"px-2 truncate text-gray-900 dark:text-gray-200 font-medium"},Uu={class:"cursor-pointer flex items-center justify-center w-7 h-7 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900"},zu={class:"w-full px-2 text-xs"},gs={__name:"BrowserFile",props:{file:{type:Object,required:!0},detailButton:{type:Boolean,default:!0}},setup(o){const h=o,a=nt(),p=r.computed(()=>a.isSelected(h.file));function S(){a.openModal(Le.DETAIL,h.file)}function H(){a.openModal(Le.CROP,h.file)}function R(){h.file.type==="archive"&&a.unarchive(h.file.path)}function L(){a.duplicate(h.file.path)}function K(){a.openModal(Le.RENAME,h.file)}function U(){a.openModal(Le.DELETE,{type:lt.FILE,[lt.FILE]:h.file})}function F(){a.toggleSelection(h.file),!a.multiple&&a.selecting&&p.value&&a.confirmSelection()}return(z,ee)=>{const Y=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("div",{ref:"card",class:"w-full h-full relative flex flex-col justify-center cursor-pointer",onClick:r.withModifiers(F,["prevent","stop"])},[r.createElementVNode("div",{class:r.normalizeClass(["relative aspect-square flex items-center p-2 justify-center w-full h-full overflow-hidden rounded-lg hover:opacity-75 dark:bg-gray-900 border-2",{"border-primary-500":p.value,"border-gray-200 dark:border-gray-700":!p.value}])},[p.value?(r.openBlock(),r.createElementBlock("div",Pu,[r.createVNode(Y,{type:"check-circle",width:"22",height:"22",solid:!0})])):r.createCommentVNode("",!0),o.file.type!="image"?(r.openBlock(),r.createBlock(Y,{key:1,class:"text-gray-500",type:r.unref(Br)[o.file.type]||r.unref(Br).text,width:"48",height:"48",solid:!0},null,8,["type"])):r.createCommentVNode("",!0),o.file.type=="image"?(r.openBlock(),r.createElementBlock("img",{key:2,src:o.file.url,class:"block w-full h-full",style:{"object-fit":"contain"}},null,8,Lu)):r.createCommentVNode("",!0)],2),r.createElementVNode("div",Fu,[r.createElementVNode("p",Vu,r.toDisplayString(r.unref(wa)(o.file.name,25)),1),r.createVNode(ba,{class:"ml-auto"},{trigger:r.withCtx(()=>[r.createElementVNode("div",Uu,[r.createVNode(Y,{type:"dots-vertical",width:"16",height:"16"})])]),default:r.withCtx(()=>[o.detailButton?(r.openBlock(),r.createBlock(yn,{key:0,onClick:r.withModifiers(S,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(Y,{type:"eye",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(z.__("Details")),1)]),_:1},8,["onClick"])):r.createCommentVNode("",!0),o.file.type==="image"?(r.openBlock(),r.createBlock(yn,{key:1,onClick:r.withModifiers(H,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(Y,{type:"camera",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(z.__("Crop")),1)]),_:1},8,["onClick"])):r.createCommentVNode("",!0),o.file.type==="archive"?(r.openBlock(),r.createBlock(yn,{key:2,onClick:r.withModifiers(R,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(Y,{type:"archive",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(z.__("Unarchive")),1)]),_:1},8,["onClick"])):r.createCommentVNode("",!0),r.createVNode(yn,{onClick:r.withModifiers(L,["prevent"])},{default:r.withCtx(()=>[r.createVNode(Y,{type:"duplicate",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(z.__("Duplicate")),1)]),_:1},8,["onClick"]),r.createVNode(yn,{onClick:r.withModifiers(K,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(Y,{type:"pencil",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(z.__("Rename")),1)]),_:1},8,["onClick"]),r.createVNode(yn,{class:"text-red-500",onClick:r.withModifiers(U,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(Y,{type:"trash",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(z.__("Delete")),1)]),_:1},8,["onClick"])]),_:1})]),r.createElementVNode("div",zu,r.toDisplayString(o.file.sizeReadable),1)],8,Iu)}}},Wu={class:"h-8 w-8 mr-1 flex items-center justify-center group-hover:opacity-75"},Hu={class:"truncate group-hover:opacity-75"},Gu={class:"cursor-pointer flex items-center justify-center w-7 h-7 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-800"},ju={__name:"BrowserFolder",props:{folder:{type:Object,required:!0}},setup(o){const h=o,a=nt();function p(){a.setPath(h.folder.path)}function S(){a.openModal(Le.RENAME,h.folder)}function H(){a.openModal(Le.DELETE,{type:lt.FOLDER,[lt.FOLDER]:h.folder})}return(R,L)=>{const K=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("div",{ref:"card",class:"relative flex p-1 items-center bg-gray-100 dark:bg-gray-900 rounded-lg cursor-pointer group",onClick:p},[r.createElementVNode("div",Wu,[r.createVNode(K,{type:r.unref(Br).dir,width:"16",height:"16"},null,8,["type"])]),r.createElementVNode("p",Hu,r.toDisplayString(r.unref(wa)(o.folder.name,25)),1),o.folder.id!=="parent"?(r.openBlock(),r.createBlock(ba,{key:0,class:"ml-auto"},{trigger:r.withCtx(()=>[r.createElementVNode("div",Gu,[r.createVNode(K,{type:"dots-vertical",width:"16",height:"16"})])]),default:r.withCtx(()=>[r.createVNode(yn,{onClick:r.withModifiers(S,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(K,{type:"pencil",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(R.__("Rename")),1)]),_:1},8,["onClick"]),r.createVNode(yn,{class:"text-red-500",onClick:r.withModifiers(H,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(K,{type:"trash",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(R.__("Delete")),1)]),_:1},8,["onClick"])]),_:1})):r.createCommentVNode("",!0)],512)}}},Yu={class:"text-center py-8"},Xu={class:"mt-2 text-sm font-medium text-gray-800 dark:text-gray-200"},Ku={class:"mt-1 text-sm text-gray-500"},Zu=r.defineComponent({__name:"Empty",props:{title:{},subtitle:{}},setup(o){return(h,a)=>{const p=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("div",Yu,[r.createVNode(p,{type:"folder",class:"h-16 w-16 mx-auto fill-current text-primary-500"}),r.createElementVNode("h3",Xu,r.toDisplayString(h.title??h.__("No files were found for your request")),1),r.createElementVNode("p",Ku,r.toDisplayString(h.subtitle??h.__("You can upload a new file or create a new folder")),1)])}}}),Qu={key:0,class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4"},Ju={key:0,class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},qu={__name:"BrowserContent",setup(o){const h=nt(),a=r.computed(()=>h.data?.files||[]),p=r.computed(()=>h.data?.folders||[]);return(S,H)=>{const R=r.resolveComponent("Icon"),L=r.resolveComponent("Heading");return r.openBlock(),r.createElementBlock(r.Fragment,null,[p.value.length>0?(r.openBlock(),r.createElementBlock(r.Fragment,{key:0},[r.createVNode(L,{level:"5",class:"cursor-pointer text-xs hover:opacity-75",onClick:H[0]||(H[0]=K=>r.unref(h).showFolders=!r.unref(h).showFolders)},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(S.__("Folders"))+" ",1),r.createVNode(R,{type:r.unref(h).showFolders?"chevron-down":"chevron-up",width:"13",height:"13"},null,8,["type"])]),_:1}),r.unref(h).showFolders?(r.openBlock(),r.createElementBlock("div",Qu,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(p.value,K=>(r.openBlock(),r.createBlock(ju,{key:K.id,ref_for:!0,ref:"folder_"+K.id,folder:K,"data-key":K.id},null,8,["folder","data-key"]))),128))])):r.createCommentVNode("",!0)],64)):r.createCommentVNode("",!0),a.value.length>0?(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[r.createVNode(L,{level:"5",class:"cursor-pointer text-xs hover:opacity-75",onClick:H[1]||(H[1]=K=>r.unref(h).showFiles=!r.unref(h).showFiles)},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(S.__("Files"))+" ",1),r.createVNode(R,{type:r.unref(h).showFiles?"chevron-down":"chevron-up",width:"13",height:"13"},null,8,["type"])]),_:1}),r.unref(h).showFiles?(r.openBlock(),r.createElementBlock("div",Ju,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(a.value,K=>(r.openBlock(),r.createBlock(gs,{key:K.id,ref_for:!0,ref:"file_"+K.id,file:K,"data-key":K.id},null,8,["file","data-key"]))),128))])):r.createCommentVNode("",!0)],64)):r.createCommentVNode("",!0),!a.value.length&&!p.value.length?(r.openBlock(),r.createBlock(Zu,{key:2})):r.createCommentVNode("",!0)],64)}}},Sy="",$u=["onClick"],ef={key:0,class:"absolute rounded-lg inset-0 bg-white/50 dark:bg-gray-800/50 flex items-center justify-center flex-grow z-50"},tf={class:"flex items-center px-6 py-4 space-x-2 border-b border-gray-200 dark:border-gray-700"},nf={key:0,class:"flex items-center px-6 py-4 space-x-2 border-t border-gray-200 dark:border-gray-700"},Mn={__name:"BaseModal",props:{full:{type:Boolean,default:!1},closeButton:{type:Boolean,default:!0},disableClose:{type:Boolean,default:!1},modal:{type:Object,required:!0},size:{type:String,default:"2xl"}},emits:["close"],setup(o,{emit:h}){const a=o,p=nt(),S=r.useSlots(),H=r.ref(null),R=()=>p.closeModal(a.modal.id);return(L,K)=>{const U=r.resolveComponent("Loader");return r.openBlock(),r.createElementBlock("div",{ref:"wrapper",class:r.normalizeClass(["inset-0 flex items-center justify-center",{"fixed z-50 bg-gray-800/10 backdrop-blur":!o.full,"absolute z-10":o.full}])},[!o.disableClose&&!o.full?(r.openBlock(),r.createElementBlock("div",{key:0,class:"absolute inset-0",onClick:r.withModifiers(R,["prevent"])},null,8,$u)):r.createCommentVNode("",!0),r.createElementVNode("div",{ref_key:"target",ref:H,class:r.normalizeClass(["relative bg-white w-full max-h-full dark:bg-gray-800 z-10 rounded-lg shadow-lg base-modal-inner",{"w-full max-w-full min-h-full":o.full,"max-w-2xl":!o.full}])},[r.createVNode(r.Transition,null,{default:r.withCtx(()=>[r.unref(p).loading?(r.openBlock(),r.createElementBlock("div",ef,[r.createVNode(U)])):r.createCommentVNode("",!0)]),_:1}),r.createElementVNode("div",tf,[o.closeButton&&!o.disableClose?(r.openBlock(),r.createBlock(st,{key:0,type:"chevron-left",onClick:r.withModifiers(R,["prevent","stop"])},null,8,["onClick"])):r.createCommentVNode("",!0),r.renderSlot(L.$slots,"header")]),r.renderSlot(L.$slots,"default"),r.unref(S).footer?(r.openBlock(),r.createElementBlock("div",nf,[r.renderSlot(L.$slots,"footer")])):r.createCommentVNode("",!0)],2)],2)}}},rf=["src"],af={key:1,ref:"audio",controls:""},of=["src","type"],sf={key:2,ref:"video",controls:"",crossorigin:"",playsinline:"",style:{width:"100%",height:"300px","object-fit":"contain"}},lf=["src","type"],cf={key:3,class:"w-full p-4"},uf=["textContent"],ff=["data"],pf=["src"],df=r.defineComponent({__name:"DetailView",props:{file:{type:Object,required:!0},class:{type:String,default:"",required:!1}},setup(o){return(h,a)=>{const p=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("div",{class:r.normalizeClass(["flex items-center justify-center h-80",o.class])},[o.file.type=="image"?(r.openBlock(),r.createElementBlock("img",{key:0,class:"h-full w-full",src:o.file.url,style:{"object-fit":"contain"}},null,8,rf)):o.file.type=="audio"?(r.openBlock(),r.createElementBlock("audio",af,[r.createElementVNode("source",{src:o.file.url,type:o.file.mime},null,8,of)],512)):o.file.type=="video"?(r.openBlock(),r.createElementBlock("video",sf,[r.createElementVNode("source",{src:o.file.url,type:o.file.mime},null,8,lf)],512)):o.file.type=="text"?(r.openBlock(),r.createElementBlock("pre",cf,[r.createElementVNode("code",{textContent:r.toDisplayString(o.file.meta.source)},null,8,uf)])):o.file.type=="pdf"?(r.openBlock(),r.createElementBlock("object",{key:4,data:o.file.url,type:"application/pdf",width:"100%",height:"300"},[r.createElementVNode("iframe",{src:o.file.url,width:"100%",height:"100%",style:{border:"none"}},`
                    <object class="no-preview" v-html="file.image"></object>
                `,8,pf)],8,ff)):(r.openBlock(),r.createBlock(p,{key:5,type:r.unref(Br)[o.file.type]||r.unref(Br).text,width:"64",height:"64"},null,8,["type"]))],2)}}}),Dy="",hf=r.createElementVNode("div",{class:"flex-grow"},null,-1),gf={class:"px-4 font-bold text-sm mt-2"},mf={class:"table table-fixed text-left w-full"},vf={key:0},_f={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900",style:{width:"115px"}},yf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900 break-word whitespace-normal line-4",style:{width:"100%"}},bf={key:1},wf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},kf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},xf={key:2},Ef={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},Cf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},Sf={key:0},Df={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},Nf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},Of={key:1},Bf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},Tf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},Af={key:4},Rf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},Mf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900 break-word whitespace-normal line-4"},If={key:5},Pf=r.createElementVNode("td",{class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},null,-1),Lf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900 break-word whitespace-normal line-4"},Ff=["href"],Vf={__name:"BrowserDetailModal",props:{modal:{type:Object,required:!0}},setup(o){const h=o,a=nt(),p=r.computed(()=>h.modal.payload),S=r.computed(()=>a.isSelected(p.value));function H(){a.toggleSelection(p.value),!a.multiple&&a.selecting&&S.value&&a.confirmSelection()}function R(){p.value.type==="archive"&&a.unarchive(p.value.path)}function L(){a.duplicate(p.value.path)}function K(F){var z=document.createElement("textarea");z.value=F,z.style.top="0",z.style.left="0",z.style.position="fixed",document.body.appendChild(z),z.focus(),z.select();let ee=null;try{var Y=document.execCommand("copy");ee=!!Y;var _=Y?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+_)}catch(N){ee=!1,console.error("Fallback: Oops, unable to copy",N)}return document.body.removeChild(z),ee}function U(){if(!navigator.clipboard){if(!K(p.value.url))return;Nova.success("Text copied to clipboard")}navigator.clipboard.writeText(p.value.url).then(()=>Nova.success("Text copied to clipboard"),F=>console.error("Async: Could not copy text: ",F))}return(F,z)=>{const ee=r.resolveComponent("Icon"),Y=r.resolveDirective("tooltip");return r.openBlock(),r.createBlock(Mn,{modal:o.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(F.__("Details")),1),hf,r.unref(a).selecting?r.withDirectives((r.openBlock(),r.createBlock(st,{key:0,class:"ml-3 text-green-500",active:S.value,type:"check",onClick:r.withModifiers(H,["prevent"])},null,8,["active","onClick"])),[[Y,F.__("Select")]]):r.createCommentVNode("",!0),p.value.type==="image"?r.withDirectives((r.openBlock(),r.createBlock(st,{key:1,type:"camera",onClick:z[0]||(z[0]=r.withModifiers(()=>r.unref(a).openModal(r.unref(Le).CROP,p.value),["prevent"]))},null,512)),[[Y,F.__("Crop")]]):r.createCommentVNode("",!0),p.value.type==="archive"?r.withDirectives((r.openBlock(),r.createBlock(st,{key:2,type:"archive",onClick:r.withModifiers(R,["prevent"])},null,8,["onClick"])),[[Y,F.__("Unarchive")]]):r.createCommentVNode("",!0),r.withDirectives(r.createVNode(st,{type:"duplicate",onClick:r.withModifiers(L,["prevent"])},null,8,["onClick"]),[[Y,F.__("Duplicate")]]),r.withDirectives(r.createVNode(st,{type:"pencil",onClick:z[1]||(z[1]=r.withModifiers(()=>r.unref(a).openModal(r.unref(Le).RENAME,p.value),["prevent"]))},null,512),[[Y,F.__("Rename")]]),r.withDirectives(r.createVNode(st,{class:"text-red-500",type:"trash",onClick:z[2]||(z[2]=r.withModifiers(()=>r.unref(a).openModal(r.unref(Le).DELETE,p.value),["prevent"]))},null,512),[[Y,F.__("Delete")]])]),default:r.withCtx(()=>[r.createElementVNode("div",gf,r.toDisplayString(p.value.name),1),r.createVNode(df,{class:"my-4",file:p.value},null,8,["file"]),r.createElementVNode("table",mf,[p.value.mime?(r.openBlock(),r.createElementBlock("tr",vf,[r.createElementVNode("td",_f,r.toDisplayString(F.__("Mime"))+": ",1),r.createElementVNode("td",yf,r.toDisplayString(p.value.mime),1)])):r.createCommentVNode("",!0),p.value.lastModifiedReadable?(r.openBlock(),r.createElementBlock("tr",bf,[r.createElementVNode("td",wf,r.toDisplayString(F.__("Midified At"))+": ",1),r.createElementVNode("td",kf,r.toDisplayString(p.value.lastModifiedReadable),1)])):r.createCommentVNode("",!0),p.value.sizeReadable?(r.openBlock(),r.createElementBlock("tr",xf,[r.createElementVNode("td",Ef,r.toDisplayString(F.__("Size"))+": ",1),r.createElementVNode("td",Cf,r.toDisplayString(p.value.sizeReadable),1)])):r.createCommentVNode("",!0),p.value.meta?(r.openBlock(),r.createElementBlock(r.Fragment,{key:3},[p.value.meta.width&&p.value.meta.height?(r.openBlock(),r.createElementBlock("tr",Sf,[r.createElementVNode("td",Df,r.toDisplayString(F.__("Dimensions"))+": ",1),r.createElementVNode("td",Nf,r.toDisplayString(p.value.meta.width)+"x"+r.toDisplayString(p.value.meta.height),1)])):r.createCommentVNode("",!0),p.value.meta.aspectRatio?(r.openBlock(),r.createElementBlock("tr",Of,[r.createElementVNode("td",Bf,r.toDisplayString(F.__("Aspect Ratio"))+": ",1),r.createElementVNode("td",Tf,r.toDisplayString(p.value.meta.aspectRatio),1)])):r.createCommentVNode("",!0)],64)):r.createCommentVNode("",!0),p.value.url?(r.openBlock(),r.createElementBlock("tr",Af,[r.createElementVNode("td",Rf,r.toDisplayString(F.__("Url"))+": ",1),r.createElementVNode("td",Mf,[r.createElementVNode("div",{class:"inline-flex items-start leading-4 cursor-pointer hover:opacity-50",onClick:U},[r.createVNode(ee,{width:"16",height:"16",type:"clipboard",class:"mr-2 flex-shrink-0"}),r.createElementVNode("span",null,r.toDisplayString(p.value.url),1)])])])):r.createCommentVNode("",!0),p.value.url?(r.openBlock(),r.createElementBlock("tr",If,[Pf,r.createElementVNode("td",Lf,[r.createElementVNode("a",{class:"flex justify-start hover:opacity-50",href:p.value.url,download:""},[r.createVNode(ee,{width:"16",height:"16",type:"download",class:"mr-2 flex-shrink-0"}),r.createTextVNode(" "+r.toDisplayString(F.__("Download")),1)],8,Ff)])])):r.createCommentVNode("",!0)])]),_:1},8,["modal"])}}},Uf={key:0,class:"bg-gray-50 dark:bg-gray-700 rounded-lg px-2 flex items-center text-xs h-8 w-full"},zf={key:0},Wf=[r.createElementVNode("span",{class:"px-2"},"/",-1)],Hf={href:"#"},Gf=["onClick"],jf=[r.createElementVNode("span",{class:"px-2"},"/",-1)],Yf={__name:"BrowserBreadcrumbs",emits:["goToPath"],setup(o,{emit:h}){const a=nt();function p(S){a.setPath(S)}return(S,H)=>{const R=r.resolveComponent("Icon");return r.unref(a).data?.breadcrumbs?.length>0?(r.openBlock(),r.createElementBlock("nav",Uf,[r.createElementVNode("div",{onClick:H[0]||(H[0]=L=>p("/")),class:"h-6 flex items-center cursor-pointer text-gray-400 dark:text-gray-600 hover:text-primary-500"},[r.createVNode(R,{type:"home",width:"16",height:"16"})]),r.unref(a).data.breadcrumbs.length>0?(r.openBlock(),r.createElementBlock("div",zf,Wf)):r.createCommentVNode("",!0),(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(r.unref(a).data.breadcrumbs,L=>(r.openBlock(),r.createElementBlock(r.Fragment,{key:L.id},[L.current?(r.openBlock(),r.createElementBlock("div",{key:L.id,class:"text-gray-800 dark:text-gray-200"},[r.createElementVNode("span",Hf,r.toDisplayString(L.name),1)])):(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[(r.openBlock(),r.createElementBlock("div",{key:L.id},[r.createElementVNode("span",{href:"#",class:"cursor-pointer text-gray-400 dark:text-gray-600 hover:text-primary-500",onClick:K=>p(L.path)},r.toDisplayString(L.name),9,Gf)])),(r.openBlock(),r.createElementBlock("div",{key:L.id+"_separator"},jf))],64))],64))),128))])):r.createCommentVNode("",!0)}}},Xf={class:"p-6"},Kf=["placeholder","onKeyup"],Zf={key:0,class:"mt-2 text-red-500"},Qf={class:"flex items-center mt-6"},Jf={__name:"CreateFolderModal",props:{modal:{type:Object,required:!0}},setup(o){const h=o,a=nt(),p=r.ref(),S=r.ref(),H=r.ref(!1);function R(){if(!p.value)return S.value="The folder name is required",!1;H.value=!0;const K=U=>{p.value=null,H.value=!1,!U.errors||U.errors.length<=0?(S.value=null,L(),Nova.success(U.message),a.fetch()):(S.value=U.message,Nova.error("Error: "+U.message))};return Nova.request().post("/nova-vendor/nova-file-manager/folders/create",{disk:a.disk,path:`${a.path}/${p.value}`}).then(U=>K(U.response&&U.response.data?U.response.data:U)).catch(U=>K(U.response&&U.response.data?U.response.data:U))}function L(){a.closeModal(h.modal.id),S.value=null,p.value=null}return(K,U)=>{const F=r.resolveComponent("CancelButton"),z=r.resolveComponent("LoadingButton");return r.openBlock(),r.createBlock(Mn,{modal:o.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(K.__("Create folder")),1)]),default:r.withCtx(()=>[r.createElementVNode("div",Xf,[r.withDirectives(r.createElementVNode("input",{type:"text",class:"w-full h-full form-control form-input form-input-bordered py-3",placeholder:K.__("Write a folder name"),"onUpdate:modelValue":U[0]||(U[0]=ee=>p.value=ee),autofocus:"",required:"",onKeyup:r.withKeys(R,["enter"])},null,40,Kf),[[r.vModelText,p.value]]),S.value?(r.openBlock(),r.createElementBlock("p",Zf,r.toDisplayString(S.value),1)):r.createCommentVNode("",!0),r.createElementVNode("div",Qf,[r.createVNode(F,{component:"button",type:"button",dusk:"cancel-action-button",class:"mr-3",onClick:r.withModifiers(L,["prevent"])},null,8,["onClick"]),r.createVNode(z,{ref:"confirmButton",type:"submit",dusk:"confirm-button",disabled:H.value,loading:H.value,onClick:r.withModifiers(R,["prevent"])},{default:r.withCtx(()=>[H.value?(r.openBlock(),r.createElementBlock(r.Fragment,{key:0},[r.createTextVNode(r.toDisplayString(K.__("Creating")),1)],64)):(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[r.createTextVNode(r.toDisplayString(K.__("Create")),1)],64))]),_:1},8,["disabled","loading","onClick"])])])]),_:1},8,["modal"])}}},qf={key:0,class:"p-6"},$f=["placeholder","value"],ep={key:1,class:"p-6"},tp={class:"flex w-full relative"},np=["placeholder","value"],rp={class:"flex items-center leading-normal bg-gray-50 dark:bg-gray-900 ml-3 rounded-lg px-3 whitespace-no-wrap text-grey-dark text-sm"},ip={key:0,class:"my-2 text-red-500"},ap={__name:"RenameModal",props:{modal:{type:Object,required:!0}},setup(o){const h=o,a=nt(),p=r.computed(()=>h.modal.payload),S=r.computed(()=>!p.value.type&&!p.value.lastModifiedAt),H=r.computed(()=>p.value.name.replace(/^.*[\\/]/,"")),R=r.computed(()=>{if(!S.value){var _=/(?:\.([^.]+))?$/;let N=_.exec(H.value);if(N)return N[0]}return""}),L=r.computed(()=>H.value.replace(R.value,"")),K=r.ref(),U=r.ref(),F=r.ref(!1);function z(){a.closeModal(h.modal.id),K.value=null}function ee(){const _=U.value.value;if(!_)return K.value="The name is required",!1;let N=S.value?_:_+R.value;if(!N)return K.value="The name is required",!1;const M=(p.value.path.substring(0,p.value.path.lastIndexOf("/"))+"/"+N).replace(/^\/+/,"");return Nova.request().post(`/nova-vendor/nova-file-manager/${S.value?"folders":"files"}/rename`,{disk:a.disk,oldPath:p.value.path,newPath:M}).then(C=>Y(C.response&&C.response.data?C.response.data:C)).catch(C=>Y(C.response&&C.response.data?C.response.data:C))}function Y(_){!_.errors||_.errors.length<=0?(K.value=null,Nova.success(_.message),a.unselect(h.modal.payload),a.closeModals(),a.fetch()):(K.value=_.message,Nova.error("Error: "+_.message))}return(_,N)=>{const M=r.resolveComponent("CancelButton"),C=r.resolveComponent("LoadingButton");return r.openBlock(),r.createBlock(Mn,{modal:o.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(_.__(S.value?"Rename folder":"Rename file")),1)]),footer:r.withCtx(()=>[r.createVNode(M,{component:"button",type:"button",dusk:"cancel-action-button",onClick:r.withModifiers(z,["prevent"])},null,8,["onClick"]),r.createVNode(C,{ref:"confirmButton",type:"submit",dusk:"confirm-button",disabled:F.value,loading:F.value,onClick:r.withModifiers(ee,["prevent"])},{default:r.withCtx(()=>[F.value?(r.openBlock(),r.createElementBlock(r.Fragment,{key:0},[r.createTextVNode(r.toDisplayString(_.__("Renaming")),1)],64)):(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[r.createTextVNode(r.toDisplayString(_.__("Rename")),1)],64))]),_:1},8,["disabled","loading","onClick"])]),default:r.withCtx(()=>[S.value?(r.openBlock(),r.createElementBlock("div",qf,[r.createElementVNode("input",{ref_key:"input",ref:U,type:"text",class:"w-full h-full form-control rounded-lg form-input form-input-bordered py-3",placeholder:H.value,value:H.value,autofocus:"",required:""},null,8,$f)])):(r.openBlock(),r.createElementBlock("div",ep,[r.createElementVNode("div",tp,[r.createElementVNode("input",{ref_key:"input",ref:U,type:"text",class:"w-full h-full form-control rounded-lg form-input form-input-bordered py-3",placeholder:L.value,value:L.value,autofocus:"",required:""},null,8,np),r.createElementVNode("span",rp,r.toDisplayString(R.value),1)]),K.value?(r.openBlock(),r.createElementBlock("p",ip,r.toDisplayString(K.value),1)):r.createCommentVNode("",!0)]))]),_:1},8,["modal"])}}},op={class:"p-6"},sp={class:"text-sm mt-2"},lp={class:"text-sm mt-2"},cp={class:"text-sm mt-2"},up={__name:"DeleteModal",props:{modal:{type:Object,required:!0}},setup(o){const h=o,a=nt(),p=r.ref(),S=r.ref(!1);function H(){a.closeModal(h.modal.id),p.value=null}async function R(){return S.value=!0,L().then(U=>K(U.response&&U.response.data?U.response.data:U)).catch(U=>K(U.response&&U.response.data?U.response.data:U))}async function L(){switch(h.modal.payload.type){case lt.FOLDER:return a.deleteFolder(h.modal.payload[lt.FOLDER].path);case lt.FILE:return a.deleteFiles([h.modal.payload[lt.FILE].path]);case lt.FILES:return a.deleteFiles(h.modal.payload[lt.FILES].map(U=>U.path))}}function K(U){S.value=!1,!U.errors||U.errors.length<=0?(p.value=null,H(),Nova.success(U.message),a.closeModals(),a.fetch()):(p.value=U.message,Nova.error("Error: "+U.message))}return(U,F)=>{const z=r.resolveComponent("CancelButton"),ee=r.resolveComponent("LoadingButton");return r.openBlock(),r.createBlock(Mn,{modal:o.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(U.__("Delete")),1)]),footer:r.withCtx(()=>[r.createVNode(z,{component:"button",type:"button",dusk:"cancel-action-button",onClick:r.withModifiers(H,["prevent"])},null,8,["onClick"]),r.createVNode(ee,{ref:"confirmButton",type:"submit",component:"DangerButton",dusk:"confirm-button",disabled:S.value,loading:S.value,onClick:r.withModifiers(R,["prevent"])},{default:r.withCtx(()=>[S.value?(r.openBlock(),r.createElementBlock(r.Fragment,{key:0},[r.createTextVNode(r.toDisplayString(U.__("Deleting")),1)],64)):(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[r.createTextVNode(r.toDisplayString(U.__("Delete")),1)],64))]),_:1},8,["disabled","loading","onClick"])]),default:r.withCtx(()=>[r.createElementVNode("div",op,[o.modal.payload.type===r.unref(lt).FOLDER?(r.openBlock(),r.createElementBlock(r.Fragment,{key:0},[r.createElementVNode("p",null,r.toDisplayString(U.__("Are you sure you want to remove this folder?")),1),r.createElementVNode("p",sp,r.toDisplayString(U.__("Remember: The folder and all his contents will be delete from your storage")),1)],64)):o.modal.payload.type===r.unref(lt).FILE?(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[r.createElementVNode("p",null,r.toDisplayString(U.__("Are you sure you want to remove this file?")),1),r.createElementVNode("p",lp,r.toDisplayString(U.__("Remember: The file will be delete from your storage")),1)],64)):o.modal.payload.type===r.unref(lt).FILES?(r.openBlock(),r.createElementBlock(r.Fragment,{key:2},[r.createElementVNode("p",null,r.toDisplayString(U.__("Are you sure you want to remove this files?")),1),r.createElementVNode("p",cp,r.toDisplayString(U.__("Remember: The files will be delete from your storage")),1)],64)):r.createCommentVNode("",!0)])]),_:1},8,["modal"])}}};var ms={},vs={exports:{}};/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */(function(o,h){(function(a,p){o.exports=p()})(ir,function(){function a(g,s){var u=Object.keys(g);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(g);s&&(c=c.filter(function(w){return Object.getOwnPropertyDescriptor(g,w).enumerable})),u.push.apply(u,c)}return u}function p(g){for(var s=1;s<arguments.length;s++){var u=arguments[s]!=null?arguments[s]:{};s%2?a(Object(u),!0).forEach(function(c){K(g,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(u)):a(Object(u)).forEach(function(c){Object.defineProperty(g,c,Object.getOwnPropertyDescriptor(u,c))})}return g}function S(g){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},S(g)}function H(g,s){if(!(g instanceof s))throw new TypeError("Cannot call a class as a function")}function R(g,s){for(var u=0;u<s.length;u++){var c=s[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,c.key,c)}}function L(g,s,u){return s&&R(g.prototype,s),u&&R(g,u),Object.defineProperty(g,"prototype",{writable:!1}),g}function K(g,s,u){return s in g?Object.defineProperty(g,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):g[s]=u,g}function U(g){return F(g)||z(g)||ee(g)||_()}function F(g){if(Array.isArray(g))return Y(g)}function z(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}function ee(g,s){if(g){if(typeof g=="string")return Y(g,s);var u=Object.prototype.toString.call(g).slice(8,-1);if(u==="Object"&&g.constructor&&(u=g.constructor.name),u==="Map"||u==="Set")return Array.from(g);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Y(g,s)}}function Y(g,s){(s==null||s>g.length)&&(s=g.length);for(var u=0,c=new Array(s);u<s;u++)c[u]=g[u];return c}function _(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N=typeof window<"u"&&typeof window.document<"u",M=N?window:{},C=N&&M.document.documentElement?"ontouchstart"in M.document.documentElement:!1,y=N?"PointerEvent"in M:!1,te="cropper",$="all",q="crop",le="move",re="zoom",Z="e",ie="w",fe="s",Me="n",Ye="ne",Ze="nw",ze="se",Fe="sw",Kt="".concat(te,"-crop"),Oe="".concat(te,"-disabled"),me="".concat(te,"-hidden"),In="".concat(te,"-hide"),lr="".concat(te,"-invisible"),ct="".concat(te,"-modal"),Tr="".concat(te,"-move"),Pn="".concat(te,"Action"),cr="".concat(te,"Preview"),Zt="crop",Ln="move",di="none",tn="crop",nn="cropend",Ar="cropmove",bn="cropstart",Fn="dblclick",hi=C?"touchstart":"mousedown",bt=C?"touchmove":"mousemove",Vn=C?"touchend touchcancel":"mouseup",gi=y?"pointerdown":hi,Ot=y?"pointermove":bt,Rr=y?"pointerup pointercancel":Vn,mi="ready",wn="resize",ht="wheel",rn="zoom",Un="image/jpeg",ka=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,zn=/^data:/,xa=/^data:image\/jpeg;base64,/,Wn=/^img|canvas$/i,an=200,ur=100,fr={viewMode:0,dragMode:Zt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:an,minContainerHeight:ur,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Mr='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Ir=Number.isNaN||M.isNaN;function de(g){return typeof g=="number"&&!Ir(g)}var pr=function(s){return s>0&&s<1/0};function Hn(g){return typeof g>"u"}function zt(g){return S(g)==="object"&&g!==null}var Pr=Object.prototype.hasOwnProperty;function kn(g){if(!zt(g))return!1;try{var s=g.constructor,u=s.prototype;return s&&u&&Pr.call(u,"isPrototypeOf")}catch{return!1}}function rt(g){return typeof g=="function"}var Ea=Array.prototype.slice;function Lr(g){return Array.from?Array.from(g):Ea.call(g)}function Ie(g,s){return g&&rt(s)&&(Array.isArray(g)||de(g.length)?Lr(g).forEach(function(u,c){s.call(g,u,c,g)}):zt(g)&&Object.keys(g).forEach(function(u){s.call(g,g[u],u,g)})),g}var Ae=Object.assign||function(s){for(var u=arguments.length,c=new Array(u>1?u-1:0),w=1;w<u;w++)c[w-1]=arguments[w];return zt(s)&&c.length>0&&c.forEach(function(v){zt(v)&&Object.keys(v).forEach(function(k){s[k]=v[k]})}),s},Ca=/\.\d*(?:0|9){12}\d*$/;function xn(g){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Ca.test(g)?Math.round(g*s)/s:g}var Sa=/^width|height|left|top|marginLeft|marginTop$/;function Wt(g,s){var u=g.style;Ie(s,function(c,w){Sa.test(w)&&de(c)&&(c="".concat(c,"px")),u[w]=c})}function Da(g,s){return g.classList?g.classList.contains(s):g.className.indexOf(s)>-1}function Xe(g,s){if(s){if(de(g.length)){Ie(g,function(c){Xe(c,s)});return}if(g.classList){g.classList.add(s);return}var u=g.className.trim();u?u.indexOf(s)<0&&(g.className="".concat(u," ").concat(s)):g.className=s}}function Bt(g,s){if(s){if(de(g.length)){Ie(g,function(u){Bt(u,s)});return}if(g.classList){g.classList.remove(s);return}g.className.indexOf(s)>=0&&(g.className=g.className.replace(s,""))}}function Qt(g,s,u){if(s){if(de(g.length)){Ie(g,function(c){Qt(c,s,u)});return}u?Xe(g,s):Bt(g,s)}}var Na=/([a-z\d])([A-Z])/g;function Gn(g){return g.replace(Na,"$1-$2").toLowerCase()}function Fr(g,s){return zt(g[s])?g[s]:g.dataset?g.dataset[s]:g.getAttribute("data-".concat(Gn(s)))}function jn(g,s,u){zt(u)?g[s]=u:g.dataset?g.dataset[s]=u:g.setAttribute("data-".concat(Gn(s)),u)}function Oa(g,s){if(zt(g[s]))try{delete g[s]}catch{g[s]=void 0}else if(g.dataset)try{delete g.dataset[s]}catch{g.dataset[s]=void 0}else g.removeAttribute("data-".concat(Gn(s)))}var vi=/\s\s*/,_i=function(){var g=!1;if(N){var s=!1,u=function(){},c=Object.defineProperty({},"once",{get:function(){return g=!0,s},set:function(v){s=v}});M.addEventListener("test",u,c),M.removeEventListener("test",u,c)}return g}();function wt(g,s,u){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},w=u;s.trim().split(vi).forEach(function(v){if(!_i){var k=g.listeners;k&&k[v]&&k[v][u]&&(w=k[v][u],delete k[v][u],Object.keys(k[v]).length===0&&delete k[v],Object.keys(k).length===0&&delete g.listeners)}g.removeEventListener(v,w,c)})}function gt(g,s,u){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},w=u;s.trim().split(vi).forEach(function(v){if(c.once&&!_i){var k=g.listeners,O=k===void 0?{}:k;w=function(){delete O[v][u],g.removeEventListener(v,w,c);for(var V=arguments.length,B=new Array(V),T=0;T<V;T++)B[T]=arguments[T];u.apply(g,B)},O[v]||(O[v]={}),O[v][u]&&g.removeEventListener(v,O[v][u],c),O[v][u]=w,g.listeners=O}g.addEventListener(v,w,c)})}function En(g,s,u){var c;return rt(Event)&&rt(CustomEvent)?c=new CustomEvent(s,{detail:u,bubbles:!0,cancelable:!0}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(s,!0,!0,u)),g.dispatchEvent(c)}function Vr(g){var s=g.getBoundingClientRect();return{left:s.left+(window.pageXOffset-document.documentElement.clientLeft),top:s.top+(window.pageYOffset-document.documentElement.clientTop)}}var Ur=M.location,Ba=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function yi(g){var s=g.match(Ba);return s!==null&&(s[1]!==Ur.protocol||s[2]!==Ur.hostname||s[3]!==Ur.port)}function bi(g){var s="timestamp=".concat(new Date().getTime());return g+(g.indexOf("?")===-1?"?":"&")+s}function Yn(g){var s=g.rotate,u=g.scaleX,c=g.scaleY,w=g.translateX,v=g.translateY,k=[];de(w)&&w!==0&&k.push("translateX(".concat(w,"px)")),de(v)&&v!==0&&k.push("translateY(".concat(v,"px)")),de(s)&&s!==0&&k.push("rotate(".concat(s,"deg)")),de(u)&&u!==1&&k.push("scaleX(".concat(u,")")),de(c)&&c!==1&&k.push("scaleY(".concat(c,")"));var O=k.length?k.join(" "):"none";return{WebkitTransform:O,msTransform:O,transform:O}}function Ta(g){var s=p({},g),u=0;return Ie(g,function(c,w){delete s[w],Ie(s,function(v){var k=Math.abs(c.startX-v.startX),O=Math.abs(c.startY-v.startY),j=Math.abs(c.endX-v.endX),V=Math.abs(c.endY-v.endY),B=Math.sqrt(k*k+O*O),T=Math.sqrt(j*j+V*V),G=(T-B)/B;Math.abs(G)>Math.abs(u)&&(u=G)})}),u}function on(g,s){var u=g.pageX,c=g.pageY,w={endX:u,endY:c};return s?w:p({startX:u,startY:c},w)}function Aa(g){var s=0,u=0,c=0;return Ie(g,function(w){var v=w.startX,k=w.startY;s+=v,u+=k,c+=1}),s/=c,u/=c,{pageX:s,pageY:u}}function kt(g){var s=g.aspectRatio,u=g.height,c=g.width,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",v=pr(c),k=pr(u);if(v&&k){var O=u*s;w==="contain"&&O>c||w==="cover"&&O<c?u=c/s:c=u*s}else v?u=c/s:k&&(c=u*s);return{width:c,height:u}}function Ra(g){var s=g.width,u=g.height,c=g.degree;if(c=Math.abs(c)%180,c===90)return{width:u,height:s};var w=c%90*Math.PI/180,v=Math.sin(w),k=Math.cos(w),O=s*k+u*v,j=s*v+u*k;return c>90?{width:j,height:O}:{width:O,height:j}}function Ma(g,s,u,c){var w=s.aspectRatio,v=s.naturalWidth,k=s.naturalHeight,O=s.rotate,j=O===void 0?0:O,V=s.scaleX,B=V===void 0?1:V,T=s.scaleY,G=T===void 0?1:T,ye=u.aspectRatio,_e=u.naturalWidth,Be=u.naturalHeight,Ee=c.fillColor,We=Ee===void 0?"transparent":Ee,Ke=c.imageSmoothingEnabled,Ve=Ke===void 0?!0:Ke,Tt=c.imageSmoothingQuality,ut=Tt===void 0?"low":Tt,X=c.maxWidth,Ce=X===void 0?1/0:X,He=c.maxHeight,it=He===void 0?1/0:He,Ht=c.minWidth,sn=Ht===void 0?0:Ht,ln=c.minHeight,Jt=ln===void 0?0:ln,At=document.createElement("canvas"),he=At.getContext("2d"),xe=kt({aspectRatio:ye,width:Ce,height:it}),dr=kt({aspectRatio:ye,width:sn,height:Jt},"cover"),Wr=Math.min(xe.width,Math.max(dr.width,_e)),Hr=Math.min(xe.height,Math.max(dr.height,Be)),Oi=kt({aspectRatio:w,width:Ce,height:it}),Bi=kt({aspectRatio:w,width:sn,height:Jt},"cover"),Ti=Math.min(Oi.width,Math.max(Bi.width,v)),Gr=Math.min(Oi.height,Math.max(Bi.height,k)),Ua=[-Ti/2,-Gr/2,Ti,Gr];return At.width=xn(Wr),At.height=xn(Hr),he.fillStyle=We,he.fillRect(0,0,Wr,Hr),he.save(),he.translate(Wr/2,Hr/2),he.rotate(j*Math.PI/180),he.scale(B,G),he.imageSmoothingEnabled=Ve,he.imageSmoothingQuality=ut,he.drawImage.apply(he,[g].concat(U(Ua.map(function(Qe){return Math.floor(xn(Qe))})))),he.restore(),At}var wi=String.fromCharCode;function ki(g,s,u){var c="";u+=s;for(var w=s;w<u;w+=1)c+=wi(g.getUint8(w));return c}var xi=/^data:.*,/;function Ei(g){var s=g.replace(xi,""),u=atob(s),c=new ArrayBuffer(u.length),w=new Uint8Array(c);return Ie(w,function(v,k){w[k]=u.charCodeAt(k)}),c}function Ia(g,s){for(var u=[],c=8192,w=new Uint8Array(g);w.length>0;)u.push(wi.apply(null,Lr(w.subarray(0,c)))),w=w.subarray(c);return"data:".concat(s,";base64,").concat(btoa(u.join("")))}function Pa(g){var s=new DataView(g),u;try{var c,w,v;if(s.getUint8(0)===255&&s.getUint8(1)===216)for(var k=s.byteLength,O=2;O+1<k;){if(s.getUint8(O)===255&&s.getUint8(O+1)===225){w=O;break}O+=1}if(w){var j=w+4,V=w+10;if(ki(s,j,4)==="Exif"){var B=s.getUint16(V);if(c=B===18761,(c||B===19789)&&s.getUint16(V+2,c)===42){var T=s.getUint32(V+4,c);T>=8&&(v=V+T)}}}if(v){var G=s.getUint16(v,c),ye,_e;for(_e=0;_e<G;_e+=1)if(ye=v+_e*12+2,s.getUint16(ye,c)===274){ye+=8,u=s.getUint16(ye,c),s.setUint16(ye,1,c);break}}}catch{u=1}return u}function La(g){var s=0,u=1,c=1;switch(g){case 2:u=-1;break;case 3:s=-180;break;case 4:c=-1;break;case 5:s=90,c=-1;break;case 6:s=90;break;case 7:s=90,u=-1;break;case 8:s=-90;break}return{rotate:s,scaleX:u,scaleY:c}}var Fa={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var s=this.element,u=this.options,c=this.container,w=this.cropper,v=Number(u.minContainerWidth),k=Number(u.minContainerHeight);Xe(w,me),Bt(s,me);var O={width:Math.max(c.offsetWidth,v>=0?v:an),height:Math.max(c.offsetHeight,k>=0?k:ur)};this.containerData=O,Wt(w,{width:O.width,height:O.height}),Xe(s,me),Bt(w,me)},initCanvas:function(){var s=this.containerData,u=this.imageData,c=this.options.viewMode,w=Math.abs(u.rotate)%180===90,v=w?u.naturalHeight:u.naturalWidth,k=w?u.naturalWidth:u.naturalHeight,O=v/k,j=s.width,V=s.height;s.height*O>s.width?c===3?j=s.height*O:V=s.width/O:c===3?V=s.width/O:j=s.height*O;var B={aspectRatio:O,naturalWidth:v,naturalHeight:k,width:j,height:V};this.canvasData=B,this.limited=c===1||c===2,this.limitCanvas(!0,!0),B.width=Math.min(Math.max(B.width,B.minWidth),B.maxWidth),B.height=Math.min(Math.max(B.height,B.minHeight),B.maxHeight),B.left=(s.width-B.width)/2,B.top=(s.height-B.height)/2,B.oldLeft=B.left,B.oldTop=B.top,this.initialCanvasData=Ae({},B)},limitCanvas:function(s,u){var c=this.options,w=this.containerData,v=this.canvasData,k=this.cropBoxData,O=c.viewMode,j=v.aspectRatio,V=this.cropped&&k;if(s){var B=Number(c.minCanvasWidth)||0,T=Number(c.minCanvasHeight)||0;O>1?(B=Math.max(B,w.width),T=Math.max(T,w.height),O===3&&(T*j>B?B=T*j:T=B/j)):O>0&&(B?B=Math.max(B,V?k.width:0):T?T=Math.max(T,V?k.height:0):V&&(B=k.width,T=k.height,T*j>B?B=T*j:T=B/j));var G=kt({aspectRatio:j,width:B,height:T});B=G.width,T=G.height,v.minWidth=B,v.minHeight=T,v.maxWidth=1/0,v.maxHeight=1/0}if(u)if(O>(V?0:1)){var ye=w.width-v.width,_e=w.height-v.height;v.minLeft=Math.min(0,ye),v.minTop=Math.min(0,_e),v.maxLeft=Math.max(0,ye),v.maxTop=Math.max(0,_e),V&&this.limited&&(v.minLeft=Math.min(k.left,k.left+(k.width-v.width)),v.minTop=Math.min(k.top,k.top+(k.height-v.height)),v.maxLeft=k.left,v.maxTop=k.top,O===2&&(v.width>=w.width&&(v.minLeft=Math.min(0,ye),v.maxLeft=Math.max(0,ye)),v.height>=w.height&&(v.minTop=Math.min(0,_e),v.maxTop=Math.max(0,_e))))}else v.minLeft=-v.width,v.minTop=-v.height,v.maxLeft=w.width,v.maxTop=w.height},renderCanvas:function(s,u){var c=this.canvasData,w=this.imageData;if(u){var v=Ra({width:w.naturalWidth*Math.abs(w.scaleX||1),height:w.naturalHeight*Math.abs(w.scaleY||1),degree:w.rotate||0}),k=v.width,O=v.height,j=c.width*(k/c.naturalWidth),V=c.height*(O/c.naturalHeight);c.left-=(j-c.width)/2,c.top-=(V-c.height)/2,c.width=j,c.height=V,c.aspectRatio=k/O,c.naturalWidth=k,c.naturalHeight=O,this.limitCanvas(!0,!1)}(c.width>c.maxWidth||c.width<c.minWidth)&&(c.left=c.oldLeft),(c.height>c.maxHeight||c.height<c.minHeight)&&(c.top=c.oldTop),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),this.limitCanvas(!1,!0),c.left=Math.min(Math.max(c.left,c.minLeft),c.maxLeft),c.top=Math.min(Math.max(c.top,c.minTop),c.maxTop),c.oldLeft=c.left,c.oldTop=c.top,Wt(this.canvas,Ae({width:c.width,height:c.height},Yn({translateX:c.left,translateY:c.top}))),this.renderImage(s),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(s){var u=this.canvasData,c=this.imageData,w=c.naturalWidth*(u.width/u.naturalWidth),v=c.naturalHeight*(u.height/u.naturalHeight);Ae(c,{width:w,height:v,left:(u.width-w)/2,top:(u.height-v)/2}),Wt(this.image,Ae({width:c.width,height:c.height},Yn(Ae({translateX:c.left,translateY:c.top},c)))),s&&this.output()},initCropBox:function(){var s=this.options,u=this.canvasData,c=s.aspectRatio||s.initialAspectRatio,w=Number(s.autoCropArea)||.8,v={width:u.width,height:u.height};c&&(u.height*c>u.width?v.height=v.width/c:v.width=v.height*c),this.cropBoxData=v,this.limitCropBox(!0,!0),v.width=Math.min(Math.max(v.width,v.minWidth),v.maxWidth),v.height=Math.min(Math.max(v.height,v.minHeight),v.maxHeight),v.width=Math.max(v.minWidth,v.width*w),v.height=Math.max(v.minHeight,v.height*w),v.left=u.left+(u.width-v.width)/2,v.top=u.top+(u.height-v.height)/2,v.oldLeft=v.left,v.oldTop=v.top,this.initialCropBoxData=Ae({},v)},limitCropBox:function(s,u){var c=this.options,w=this.containerData,v=this.canvasData,k=this.cropBoxData,O=this.limited,j=c.aspectRatio;if(s){var V=Number(c.minCropBoxWidth)||0,B=Number(c.minCropBoxHeight)||0,T=O?Math.min(w.width,v.width,v.width+v.left,w.width-v.left):w.width,G=O?Math.min(w.height,v.height,v.height+v.top,w.height-v.top):w.height;V=Math.min(V,w.width),B=Math.min(B,w.height),j&&(V&&B?B*j>V?B=V/j:V=B*j:V?B=V/j:B&&(V=B*j),G*j>T?G=T/j:T=G*j),k.minWidth=Math.min(V,T),k.minHeight=Math.min(B,G),k.maxWidth=T,k.maxHeight=G}u&&(O?(k.minLeft=Math.max(0,v.left),k.minTop=Math.max(0,v.top),k.maxLeft=Math.min(w.width,v.left+v.width)-k.width,k.maxTop=Math.min(w.height,v.top+v.height)-k.height):(k.minLeft=0,k.minTop=0,k.maxLeft=w.width-k.width,k.maxTop=w.height-k.height))},renderCropBox:function(){var s=this.options,u=this.containerData,c=this.cropBoxData;(c.width>c.maxWidth||c.width<c.minWidth)&&(c.left=c.oldLeft),(c.height>c.maxHeight||c.height<c.minHeight)&&(c.top=c.oldTop),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),this.limitCropBox(!1,!0),c.left=Math.min(Math.max(c.left,c.minLeft),c.maxLeft),c.top=Math.min(Math.max(c.top,c.minTop),c.maxTop),c.oldLeft=c.left,c.oldTop=c.top,s.movable&&s.cropBoxMovable&&jn(this.face,Pn,c.width>=u.width&&c.height>=u.height?le:$),Wt(this.cropBox,Ae({width:c.width,height:c.height},Yn({translateX:c.left,translateY:c.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),En(this.element,tn,this.getData())}},Ci={initPreview:function(){var s=this.element,u=this.crossOrigin,c=this.options.preview,w=u?this.crossOriginUrl:this.url,v=s.alt||"The image to preview",k=document.createElement("img");if(u&&(k.crossOrigin=u),k.src=w,k.alt=v,this.viewBox.appendChild(k),this.viewBoxImage=k,!!c){var O=c;typeof c=="string"?O=s.ownerDocument.querySelectorAll(c):c.querySelector&&(O=[c]),this.previews=O,Ie(O,function(j){var V=document.createElement("img");jn(j,cr,{width:j.offsetWidth,height:j.offsetHeight,html:j.innerHTML}),u&&(V.crossOrigin=u),V.src=w,V.alt=v,V.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',j.innerHTML="",j.appendChild(V)})}},resetPreview:function(){Ie(this.previews,function(s){var u=Fr(s,cr);Wt(s,{width:u.width,height:u.height}),s.innerHTML=u.html,Oa(s,cr)})},preview:function(){var s=this.imageData,u=this.canvasData,c=this.cropBoxData,w=c.width,v=c.height,k=s.width,O=s.height,j=c.left-u.left-s.left,V=c.top-u.top-s.top;!this.cropped||this.disabled||(Wt(this.viewBoxImage,Ae({width:k,height:O},Yn(Ae({translateX:-j,translateY:-V},s)))),Ie(this.previews,function(B){var T=Fr(B,cr),G=T.width,ye=T.height,_e=G,Be=ye,Ee=1;w&&(Ee=G/w,Be=v*Ee),v&&Be>ye&&(Ee=ye/v,_e=w*Ee,Be=ye),Wt(B,{width:_e,height:Be}),Wt(B.getElementsByTagName("img")[0],Ae({width:k*Ee,height:O*Ee},Yn(Ae({translateX:-j*Ee,translateY:-V*Ee},s))))}))}},Si={bind:function(){var s=this.element,u=this.options,c=this.cropper;rt(u.cropstart)&&gt(s,bn,u.cropstart),rt(u.cropmove)&&gt(s,Ar,u.cropmove),rt(u.cropend)&&gt(s,nn,u.cropend),rt(u.crop)&&gt(s,tn,u.crop),rt(u.zoom)&&gt(s,rn,u.zoom),gt(c,gi,this.onCropStart=this.cropStart.bind(this)),u.zoomable&&u.zoomOnWheel&&gt(c,ht,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),u.toggleDragModeOnDblclick&&gt(c,Fn,this.onDblclick=this.dblclick.bind(this)),gt(s.ownerDocument,Ot,this.onCropMove=this.cropMove.bind(this)),gt(s.ownerDocument,Rr,this.onCropEnd=this.cropEnd.bind(this)),u.responsive&&gt(window,wn,this.onResize=this.resize.bind(this))},unbind:function(){var s=this.element,u=this.options,c=this.cropper;rt(u.cropstart)&&wt(s,bn,u.cropstart),rt(u.cropmove)&&wt(s,Ar,u.cropmove),rt(u.cropend)&&wt(s,nn,u.cropend),rt(u.crop)&&wt(s,tn,u.crop),rt(u.zoom)&&wt(s,rn,u.zoom),wt(c,gi,this.onCropStart),u.zoomable&&u.zoomOnWheel&&wt(c,ht,this.onWheel,{passive:!1,capture:!0}),u.toggleDragModeOnDblclick&&wt(c,Fn,this.onDblclick),wt(s.ownerDocument,Ot,this.onCropMove),wt(s.ownerDocument,Rr,this.onCropEnd),u.responsive&&wt(window,wn,this.onResize)}},Di={resize:function(){if(!this.disabled){var s=this.options,u=this.container,c=this.containerData,w=u.offsetWidth/c.width,v=u.offsetHeight/c.height,k=Math.abs(w-1)>Math.abs(v-1)?w:v;if(k!==1){var O,j;s.restore&&(O=this.getCanvasData(),j=this.getCropBoxData()),this.render(),s.restore&&(this.setCanvasData(Ie(O,function(V,B){O[B]=V*k})),this.setCropBoxData(Ie(j,function(V,B){j[B]=V*k})))}}},dblclick:function(){this.disabled||this.options.dragMode===di||this.setDragMode(Da(this.dragBox,Kt)?Ln:Zt)},wheel:function(s){var u=this,c=Number(this.options.wheelZoomRatio)||.1,w=1;this.disabled||(s.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){u.wheeling=!1},50),s.deltaY?w=s.deltaY>0?1:-1:s.wheelDelta?w=-s.wheelDelta/120:s.detail&&(w=s.detail>0?1:-1),this.zoom(-w*c,s)))},cropStart:function(s){var u=s.buttons,c=s.button;if(!(this.disabled||(s.type==="mousedown"||s.type==="pointerdown"&&s.pointerType==="mouse")&&(de(u)&&u!==1||de(c)&&c!==0||s.ctrlKey))){var w=this.options,v=this.pointers,k;s.changedTouches?Ie(s.changedTouches,function(O){v[O.identifier]=on(O)}):v[s.pointerId||0]=on(s),Object.keys(v).length>1&&w.zoomable&&w.zoomOnTouch?k=re:k=Fr(s.target,Pn),ka.test(k)&&En(this.element,bn,{originalEvent:s,action:k})!==!1&&(s.preventDefault(),this.action=k,this.cropping=!1,k===q&&(this.cropping=!0,Xe(this.dragBox,ct)))}},cropMove:function(s){var u=this.action;if(!(this.disabled||!u)){var c=this.pointers;s.preventDefault(),En(this.element,Ar,{originalEvent:s,action:u})!==!1&&(s.changedTouches?Ie(s.changedTouches,function(w){Ae(c[w.identifier]||{},on(w,!0))}):Ae(c[s.pointerId||0]||{},on(s,!0)),this.change(s))}},cropEnd:function(s){if(!this.disabled){var u=this.action,c=this.pointers;s.changedTouches?Ie(s.changedTouches,function(w){delete c[w.identifier]}):delete c[s.pointerId||0],u&&(s.preventDefault(),Object.keys(c).length||(this.action=""),this.cropping&&(this.cropping=!1,Qt(this.dragBox,ct,this.cropped&&this.options.modal)),En(this.element,nn,{originalEvent:s,action:u}))}}},zr={change:function(s){var u=this.options,c=this.canvasData,w=this.containerData,v=this.cropBoxData,k=this.pointers,O=this.action,j=u.aspectRatio,V=v.left,B=v.top,T=v.width,G=v.height,ye=V+T,_e=B+G,Be=0,Ee=0,We=w.width,Ke=w.height,Ve=!0,Tt;!j&&s.shiftKey&&(j=T&&G?T/G:1),this.limited&&(Be=v.minLeft,Ee=v.minTop,We=Be+Math.min(w.width,c.width,c.left+c.width),Ke=Ee+Math.min(w.height,c.height,c.top+c.height));var ut=k[Object.keys(k)[0]],X={x:ut.endX-ut.startX,y:ut.endY-ut.startY},Ce=function(it){switch(it){case Z:ye+X.x>We&&(X.x=We-ye);break;case ie:V+X.x<Be&&(X.x=Be-V);break;case Me:B+X.y<Ee&&(X.y=Ee-B);break;case fe:_e+X.y>Ke&&(X.y=Ke-_e);break}};switch(O){case $:V+=X.x,B+=X.y;break;case Z:if(X.x>=0&&(ye>=We||j&&(B<=Ee||_e>=Ke))){Ve=!1;break}Ce(Z),T+=X.x,T<0&&(O=ie,T=-T,V-=T),j&&(G=T/j,B+=(v.height-G)/2);break;case Me:if(X.y<=0&&(B<=Ee||j&&(V<=Be||ye>=We))){Ve=!1;break}Ce(Me),G-=X.y,B+=X.y,G<0&&(O=fe,G=-G,B-=G),j&&(T=G*j,V+=(v.width-T)/2);break;case ie:if(X.x<=0&&(V<=Be||j&&(B<=Ee||_e>=Ke))){Ve=!1;break}Ce(ie),T-=X.x,V+=X.x,T<0&&(O=Z,T=-T,V-=T),j&&(G=T/j,B+=(v.height-G)/2);break;case fe:if(X.y>=0&&(_e>=Ke||j&&(V<=Be||ye>=We))){Ve=!1;break}Ce(fe),G+=X.y,G<0&&(O=Me,G=-G,B-=G),j&&(T=G*j,V+=(v.width-T)/2);break;case Ye:if(j){if(X.y<=0&&(B<=Ee||ye>=We)){Ve=!1;break}Ce(Me),G-=X.y,B+=X.y,T=G*j}else Ce(Me),Ce(Z),X.x>=0?ye<We?T+=X.x:X.y<=0&&B<=Ee&&(Ve=!1):T+=X.x,X.y<=0?B>Ee&&(G-=X.y,B+=X.y):(G-=X.y,B+=X.y);T<0&&G<0?(O=Fe,G=-G,T=-T,B-=G,V-=T):T<0?(O=Ze,T=-T,V-=T):G<0&&(O=ze,G=-G,B-=G);break;case Ze:if(j){if(X.y<=0&&(B<=Ee||V<=Be)){Ve=!1;break}Ce(Me),G-=X.y,B+=X.y,T=G*j,V+=v.width-T}else Ce(Me),Ce(ie),X.x<=0?V>Be?(T-=X.x,V+=X.x):X.y<=0&&B<=Ee&&(Ve=!1):(T-=X.x,V+=X.x),X.y<=0?B>Ee&&(G-=X.y,B+=X.y):(G-=X.y,B+=X.y);T<0&&G<0?(O=ze,G=-G,T=-T,B-=G,V-=T):T<0?(O=Ye,T=-T,V-=T):G<0&&(O=Fe,G=-G,B-=G);break;case Fe:if(j){if(X.x<=0&&(V<=Be||_e>=Ke)){Ve=!1;break}Ce(ie),T-=X.x,V+=X.x,G=T/j}else Ce(fe),Ce(ie),X.x<=0?V>Be?(T-=X.x,V+=X.x):X.y>=0&&_e>=Ke&&(Ve=!1):(T-=X.x,V+=X.x),X.y>=0?_e<Ke&&(G+=X.y):G+=X.y;T<0&&G<0?(O=Ye,G=-G,T=-T,B-=G,V-=T):T<0?(O=ze,T=-T,V-=T):G<0&&(O=Ze,G=-G,B-=G);break;case ze:if(j){if(X.x>=0&&(ye>=We||_e>=Ke)){Ve=!1;break}Ce(Z),T+=X.x,G=T/j}else Ce(fe),Ce(Z),X.x>=0?ye<We?T+=X.x:X.y>=0&&_e>=Ke&&(Ve=!1):T+=X.x,X.y>=0?_e<Ke&&(G+=X.y):G+=X.y;T<0&&G<0?(O=Ze,G=-G,T=-T,B-=G,V-=T):T<0?(O=Fe,T=-T,V-=T):G<0&&(O=Ye,G=-G,B-=G);break;case le:this.move(X.x,X.y),Ve=!1;break;case re:this.zoom(Ta(k),s),Ve=!1;break;case q:if(!X.x||!X.y){Ve=!1;break}Tt=Vr(this.cropper),V=ut.startX-Tt.left,B=ut.startY-Tt.top,T=v.minWidth,G=v.minHeight,X.x>0?O=X.y>0?ze:Ye:X.x<0&&(V-=T,O=X.y>0?Fe:Ze),X.y<0&&(B-=G),this.cropped||(Bt(this.cropBox,me),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Ve&&(v.width=T,v.height=G,v.left=V,v.top=B,this.action=O,this.renderCropBox()),Ie(k,function(He){He.startX=He.endX,He.startY=He.endY})}},Va={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Xe(this.dragBox,ct),Bt(this.cropBox,me),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ae({},this.initialImageData),this.canvasData=Ae({},this.initialCanvasData),this.cropBoxData=Ae({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ae(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Bt(this.dragBox,ct),Xe(this.cropBox,me)),this},replace:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&s&&(this.isImg&&(this.element.src=s),u?(this.url=s,this.image.src=s,this.ready&&(this.viewBoxImage.src=s,Ie(this.previews,function(c){c.getElementsByTagName("img")[0].src=s}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(s))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Bt(this.cropper,Oe)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Xe(this.cropper,Oe)),this},destroy:function(){var s=this.element;return s[te]?(s[te]=void 0,this.isImg&&this.replaced&&(s.src=this.originalUrl),this.uncreate(),this):this},move:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,c=this.canvasData,w=c.left,v=c.top;return this.moveTo(Hn(s)?s:w+Number(s),Hn(u)?u:v+Number(u))},moveTo:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,c=this.canvasData,w=!1;return s=Number(s),u=Number(u),this.ready&&!this.disabled&&this.options.movable&&(de(s)&&(c.left=s,w=!0),de(u)&&(c.top=u,w=!0),w&&this.renderCanvas(!0)),this},zoom:function(s,u){var c=this.canvasData;return s=Number(s),s<0?s=1/(1-s):s=1+s,this.zoomTo(c.width*s/c.naturalWidth,null,u)},zoomTo:function(s,u,c){var w=this.options,v=this.canvasData,k=v.width,O=v.height,j=v.naturalWidth,V=v.naturalHeight;if(s=Number(s),s>=0&&this.ready&&!this.disabled&&w.zoomable){var B=j*s,T=V*s;if(En(this.element,rn,{ratio:s,oldRatio:k/j,originalEvent:c})===!1)return this;if(c){var G=this.pointers,ye=Vr(this.cropper),_e=G&&Object.keys(G).length?Aa(G):{pageX:c.pageX,pageY:c.pageY};v.left-=(B-k)*((_e.pageX-ye.left-v.left)/k),v.top-=(T-O)*((_e.pageY-ye.top-v.top)/O)}else kn(u)&&de(u.x)&&de(u.y)?(v.left-=(B-k)*((u.x-v.left)/k),v.top-=(T-O)*((u.y-v.top)/O)):(v.left-=(B-k)/2,v.top-=(T-O)/2);v.width=B,v.height=T,this.renderCanvas(!0)}return this},rotate:function(s){return this.rotateTo((this.imageData.rotate||0)+Number(s))},rotateTo:function(s){return s=Number(s),de(s)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=s%360,this.renderCanvas(!0,!0)),this},scaleX:function(s){var u=this.imageData.scaleY;return this.scale(s,de(u)?u:1)},scaleY:function(s){var u=this.imageData.scaleX;return this.scale(de(u)?u:1,s)},scale:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,c=this.imageData,w=!1;return s=Number(s),u=Number(u),this.ready&&!this.disabled&&this.options.scalable&&(de(s)&&(c.scaleX=s,w=!0),de(u)&&(c.scaleY=u,w=!0),w&&this.renderCanvas(!0,!0)),this},getData:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,u=this.options,c=this.imageData,w=this.canvasData,v=this.cropBoxData,k;if(this.ready&&this.cropped){k={x:v.left-w.left,y:v.top-w.top,width:v.width,height:v.height};var O=c.width/c.naturalWidth;if(Ie(k,function(B,T){k[T]=B/O}),s){var j=Math.round(k.y+k.height),V=Math.round(k.x+k.width);k.x=Math.round(k.x),k.y=Math.round(k.y),k.width=V-k.x,k.height=j-k.y}}else k={x:0,y:0,width:0,height:0};return u.rotatable&&(k.rotate=c.rotate||0),u.scalable&&(k.scaleX=c.scaleX||1,k.scaleY=c.scaleY||1),k},setData:function(s){var u=this.options,c=this.imageData,w=this.canvasData,v={};if(this.ready&&!this.disabled&&kn(s)){var k=!1;u.rotatable&&de(s.rotate)&&s.rotate!==c.rotate&&(c.rotate=s.rotate,k=!0),u.scalable&&(de(s.scaleX)&&s.scaleX!==c.scaleX&&(c.scaleX=s.scaleX,k=!0),de(s.scaleY)&&s.scaleY!==c.scaleY&&(c.scaleY=s.scaleY,k=!0)),k&&this.renderCanvas(!0,!0);var O=c.width/c.naturalWidth;de(s.x)&&(v.left=s.x*O+w.left),de(s.y)&&(v.top=s.y*O+w.top),de(s.width)&&(v.width=s.width*O),de(s.height)&&(v.height=s.height*O),this.setCropBoxData(v)}return this},getContainerData:function(){return this.ready?Ae({},this.containerData):{}},getImageData:function(){return this.sized?Ae({},this.imageData):{}},getCanvasData:function(){var s=this.canvasData,u={};return this.ready&&Ie(["left","top","width","height","naturalWidth","naturalHeight"],function(c){u[c]=s[c]}),u},setCanvasData:function(s){var u=this.canvasData,c=u.aspectRatio;return this.ready&&!this.disabled&&kn(s)&&(de(s.left)&&(u.left=s.left),de(s.top)&&(u.top=s.top),de(s.width)?(u.width=s.width,u.height=s.width/c):de(s.height)&&(u.height=s.height,u.width=s.height*c),this.renderCanvas(!0)),this},getCropBoxData:function(){var s=this.cropBoxData,u;return this.ready&&this.cropped&&(u={left:s.left,top:s.top,width:s.width,height:s.height}),u||{}},setCropBoxData:function(s){var u=this.cropBoxData,c=this.options.aspectRatio,w,v;return this.ready&&this.cropped&&!this.disabled&&kn(s)&&(de(s.left)&&(u.left=s.left),de(s.top)&&(u.top=s.top),de(s.width)&&s.width!==u.width&&(w=!0,u.width=s.width),de(s.height)&&s.height!==u.height&&(v=!0,u.height=s.height),c&&(w?u.height=u.width/c:v&&(u.width=u.height*c)),this.renderCropBox()),this},getCroppedCanvas:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var u=this.canvasData,c=Ma(this.image,this.imageData,u,s);if(!this.cropped)return c;var w=this.getData(),v=w.x,k=w.y,O=w.width,j=w.height,V=c.width/Math.floor(u.naturalWidth);V!==1&&(v*=V,k*=V,O*=V,j*=V);var B=O/j,T=kt({aspectRatio:B,width:s.maxWidth||1/0,height:s.maxHeight||1/0}),G=kt({aspectRatio:B,width:s.minWidth||0,height:s.minHeight||0},"cover"),ye=kt({aspectRatio:B,width:s.width||(V!==1?c.width:O),height:s.height||(V!==1?c.height:j)}),_e=ye.width,Be=ye.height;_e=Math.min(T.width,Math.max(G.width,_e)),Be=Math.min(T.height,Math.max(G.height,Be));var Ee=document.createElement("canvas"),We=Ee.getContext("2d");Ee.width=xn(_e),Ee.height=xn(Be),We.fillStyle=s.fillColor||"transparent",We.fillRect(0,0,_e,Be);var Ke=s.imageSmoothingEnabled,Ve=Ke===void 0?!0:Ke,Tt=s.imageSmoothingQuality;We.imageSmoothingEnabled=Ve,Tt&&(We.imageSmoothingQuality=Tt);var ut=c.width,X=c.height,Ce=v,He=k,it,Ht,sn,ln,Jt,At;Ce<=-O||Ce>ut?(Ce=0,it=0,sn=0,Jt=0):Ce<=0?(sn=-Ce,Ce=0,it=Math.min(ut,O+Ce),Jt=it):Ce<=ut&&(sn=0,it=Math.min(O,ut-Ce),Jt=it),it<=0||He<=-j||He>X?(He=0,Ht=0,ln=0,At=0):He<=0?(ln=-He,He=0,Ht=Math.min(X,j+He),At=Ht):He<=X&&(ln=0,Ht=Math.min(j,X-He),At=Ht);var he=[Ce,He,it,Ht];if(Jt>0&&At>0){var xe=_e/O;he.push(sn*xe,ln*xe,Jt*xe,At*xe)}return We.drawImage.apply(We,[c].concat(U(he.map(function(dr){return Math.floor(xn(dr))})))),Ee},setAspectRatio:function(s){var u=this.options;return!this.disabled&&!Hn(s)&&(u.aspectRatio=Math.max(0,s)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(s){var u=this.options,c=this.dragBox,w=this.face;if(this.ready&&!this.disabled){var v=s===Zt,k=u.movable&&s===Ln;s=v||k?s:di,u.dragMode=s,jn(c,Pn,s),Qt(c,Kt,v),Qt(c,Tr,k),u.cropBoxMovable||(jn(w,Pn,s),Qt(w,Kt,v),Qt(w,Tr,k))}return this}},Ni=M.Cropper,Xn=function(){function g(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(H(this,g),!s||!Wn.test(s.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=s,this.options=Ae({},fr,kn(u)&&u),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return L(g,[{key:"init",value:function(){var u=this.element,c=u.tagName.toLowerCase(),w;if(!u[te]){if(u[te]=this,c==="img"){if(this.isImg=!0,w=u.getAttribute("src")||"",this.originalUrl=w,!w)return;w=u.src}else c==="canvas"&&window.HTMLCanvasElement&&(w=u.toDataURL());this.load(w)}}},{key:"load",value:function(u){var c=this;if(u){this.url=u,this.imageData={};var w=this.element,v=this.options;if(!v.rotatable&&!v.scalable&&(v.checkOrientation=!1),!v.checkOrientation||!window.ArrayBuffer){this.clone();return}if(zn.test(u)){xa.test(u)?this.read(Ei(u)):this.clone();return}var k=new XMLHttpRequest,O=this.clone.bind(this);this.reloading=!0,this.xhr=k,k.onabort=O,k.onerror=O,k.ontimeout=O,k.onprogress=function(){k.getResponseHeader("content-type")!==Un&&k.abort()},k.onload=function(){c.read(k.response)},k.onloadend=function(){c.reloading=!1,c.xhr=null},v.checkCrossOrigin&&yi(u)&&w.crossOrigin&&(u=bi(u)),k.open("GET",u,!0),k.responseType="arraybuffer",k.withCredentials=w.crossOrigin==="use-credentials",k.send()}}},{key:"read",value:function(u){var c=this.options,w=this.imageData,v=Pa(u),k=0,O=1,j=1;if(v>1){this.url=Ia(u,Un);var V=La(v);k=V.rotate,O=V.scaleX,j=V.scaleY}c.rotatable&&(w.rotate=k),c.scalable&&(w.scaleX=O,w.scaleY=j),this.clone()}},{key:"clone",value:function(){var u=this.element,c=this.url,w=u.crossOrigin,v=c;this.options.checkCrossOrigin&&yi(c)&&(w||(w="anonymous"),v=bi(c)),this.crossOrigin=w,this.crossOriginUrl=v;var k=document.createElement("img");w&&(k.crossOrigin=w),k.src=v||c,k.alt=u.alt||"The image to crop",this.image=k,k.onload=this.start.bind(this),k.onerror=this.stop.bind(this),Xe(k,In),u.parentNode.insertBefore(k,u.nextSibling)}},{key:"start",value:function(){var u=this,c=this.image;c.onload=null,c.onerror=null,this.sizing=!0;var w=M.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(M.navigator.userAgent),v=function(V,B){Ae(u.imageData,{naturalWidth:V,naturalHeight:B,aspectRatio:V/B}),u.initialImageData=Ae({},u.imageData),u.sizing=!1,u.sized=!0,u.build()};if(c.naturalWidth&&!w){v(c.naturalWidth,c.naturalHeight);return}var k=document.createElement("img"),O=document.body||document.documentElement;this.sizingImage=k,k.onload=function(){v(k.width,k.height),w||O.removeChild(k)},k.src=c.src,w||(k.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",O.appendChild(k))}},{key:"stop",value:function(){var u=this.image;u.onload=null,u.onerror=null,u.parentNode.removeChild(u),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var u=this.element,c=this.options,w=this.image,v=u.parentNode,k=document.createElement("div");k.innerHTML=Mr;var O=k.querySelector(".".concat(te,"-container")),j=O.querySelector(".".concat(te,"-canvas")),V=O.querySelector(".".concat(te,"-drag-box")),B=O.querySelector(".".concat(te,"-crop-box")),T=B.querySelector(".".concat(te,"-face"));this.container=v,this.cropper=O,this.canvas=j,this.dragBox=V,this.cropBox=B,this.viewBox=O.querySelector(".".concat(te,"-view-box")),this.face=T,j.appendChild(w),Xe(u,me),v.insertBefore(O,u.nextSibling),Bt(w,In),this.initPreview(),this.bind(),c.initialAspectRatio=Math.max(0,c.initialAspectRatio)||NaN,c.aspectRatio=Math.max(0,c.aspectRatio)||NaN,c.viewMode=Math.max(0,Math.min(3,Math.round(c.viewMode)))||0,Xe(B,me),c.guides||Xe(B.getElementsByClassName("".concat(te,"-dashed")),me),c.center||Xe(B.getElementsByClassName("".concat(te,"-center")),me),c.background&&Xe(O,"".concat(te,"-bg")),c.highlight||Xe(T,lr),c.cropBoxMovable&&(Xe(T,Tr),jn(T,Pn,$)),c.cropBoxResizable||(Xe(B.getElementsByClassName("".concat(te,"-line")),me),Xe(B.getElementsByClassName("".concat(te,"-point")),me)),this.render(),this.ready=!0,this.setDragMode(c.dragMode),c.autoCrop&&this.crop(),this.setData(c.data),rt(c.ready)&&gt(u,mi,c.ready,{once:!0}),En(u,mi)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var u=this.cropper.parentNode;u&&u.removeChild(this.cropper),Bt(this.element,me)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Ni,g}},{key:"setDefaults",value:function(u){Ae(fr,kn(u)&&u)}}]),g}();return Ae(Xn.prototype,Fa,Ci,Si,Di,zr,Va),Xn})})(vs);var fp=vs.exports;Object.defineProperty(ms,"__esModule",{value:!0});var _s=r,pp=fp,dp=hp(pp);function hp(o){return o&&o.__esModule?o:{default:o}}function gp(o,h){var a={};for(var p in o)h.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(o,p)&&(a[p]=o[p]);return a}var mp=typeof window>"u"?[String,Array]:[String,Array,Element,NodeList],vp=ms.default={render:function(){var h=this.crossorigin||void 0;return(0,_s.h)("div",{style:this.containerStyle},[(0,_s.h)("img",{ref:"img",src:this.src,alt:this.alt||"image",style:[{"max-width":"100%"},this.imgStyle],crossorigin:h})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,initialAspectRatio:Number,aspectRatio:Number,data:Object,preview:mp,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},crossorigin:{type:String},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var h=this.$options.props;h.containerStyle,h.src,h.alt,h.imgStyle;var a=gp(h,["containerStyle","src","alt","imgStyle"]),p={};for(var S in a)this[S]!==void 0&&(p[S]=this[S]);this.cropper=new dp.default(this.$refs.img,p)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(h){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.cropper.replace(h,a)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(h,a){return this.cropper.move(h,a)},moveTo:function(h){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;return this.cropper.moveTo(h,a)},relativeZoom:function(h,a){return this.cropper.zoom(h,a)},zoomTo:function(h,a){return this.cropper.zoomTo(h,a)},rotate:function(h){return this.cropper.rotate(h)},rotateTo:function(h){return this.cropper.rotateTo(h)},scaleX:function(h){return this.cropper.scaleX(h)},scaleY:function(h){return this.cropper.scaleY(h)},scale:function(h){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;return this.cropper.scale(h,a)},getData:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.cropper.getData(h)},setData:function(h){return this.cropper.setData(h)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(h){return this.cropper.setCanvasData(h)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(h){return this.cropper.setCropBoxData(h)},getCroppedCanvas:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.cropper.getCroppedCanvas(h)},setAspectRatio:function(h){return this.cropper.setAspectRatio(h)},setDragMode:function(h){return this.cropper.setDragMode(h)}}};const By="",_p=r.createElementVNode("div",{class:"flex-grow"},null,-1),yp={__name:"CropModal",props:{modal:{type:Object,required:!0}},setup(o){const h=o,a=nt(),p=r.ref(),S=r.ref(),H=r.computed(()=>({height:"100%",minHeight:"60vh"}));function R(){p.value?.getCroppedCanvas().toBlob(U=>{U&&(S.value=new File([U],K(h.modal.payload.name,"-"+Date.now()),{type:h.modal.payload.mime}),L(S.value))})}function L(U){a.closeModals(),a.upload([U])}function K(U,F){var z=U.lastIndexOf(".");return z==-1?U+F:U.substring(0,z)+F+U.substring(z)}return(U,F)=>{const z=r.resolveDirective("tooltip");return r.openBlock(),r.createBlock(Mn,{modal:o.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(U.__("Crop image")),1),_p,r.withDirectives(r.createVNode(st,{class:"text-green-500",type:"check",onClick:r.withModifiers(R,["prevent"])},null,8,["onClick"]),[[z,U.__("Confirm crop")]])]),default:r.withCtx(()=>[r.createVNode(r.unref(vp),{ref_key:"cropper",ref:p,containerStyle:H.value,src:o.modal.payload.url,alt:o.modal.payload.name},null,8,["containerStyle","src","alt"])]),_:1},8,["modal"])}}},bp={class:"p-6"},wp=r.createElementVNode("div",{class:"flex-grow"},null,-1),kp={__name:"BrowserSelectedModal",props:{modal:{type:Object,required:!0}},setup(o){const h=o,a=nt(),{selection:p}=qo(a);function S(){a.closeModal(h.modal.id)}function H(){a.clearSelection(),S()}function R(){a.confirmSelection(),S()}return r.watch(()=>a.selection,(L,K)=>{ar.isEmpty(L)&&S()}),(L,K)=>{const U=r.resolveDirective("tooltip");return r.openBlock(),r.createBlock(Mn,{full:!0,modal:o.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(L.__("Selected Files")),1),wp,r.withDirectives(r.createVNode(st,{type:"x",onClick:r.withModifiers(H,["prevent"])},null,8,["onClick"]),[[U,L.__("Clear selected files")]]),r.unref(a).selecting?r.withDirectives((r.openBlock(),r.createBlock(st,{key:0,class:"text-green-500",type:"check",onClick:r.withModifiers(R,["prevent"])},null,8,["onClick"])),[[U,L.__("Confirm selection")]]):r.createCommentVNode("",!0)]),default:r.withCtx(()=>[r.createElementVNode("div",bp,[r.createVNode(r.TransitionGroup,{name:"list",tag:"div",class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},{default:r.withCtx(()=>[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(r.unref(p),F=>(r.openBlock(),r.createBlock(gs,{key:F.id,ref_for:!0,ref:"file_"+F.id,file:F,"data-key":F.id},null,8,["file","data-key"]))),128))]),_:1})])]),_:1},8,["modal"])}}},Ty="",xp={},Ep={class:"absolute inset-0 z-50 flex items-center justify-center bg-white dark:bg-gray-800 rounded-lg w-full h-full border-2 border-primary-500"},Cp=r.createElementVNode("span",{class:"pointer-events-none"}," Drop your files here ",-1);function Sp(o,h){const a=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("div",Ep,[r.createVNode(a,{type:"upload",class:"pointer-events-none text-primary-500 animate-bounce mr-4",width:"48",height:"48"}),Cp])}const Dp=ya(xp,[["render",Sp]]);async function Np(o){const h=F=>F.isDirectory,a=F=>F.isFile,p=(F,z="")=>new Promise((ee,Y)=>{a(F)&&F.file(_=>ee(new File([_],z+_.name,{type:_.type})),_=>Y(_))}),S=(F,z)=>new Promise((ee,Y)=>{F.readEntries(async _=>{let N=[];for(const M of _){const C=await R(M,z);C!==void 0&&(N=N.concat(C))}ee(N)},_=>Y(_))}),H=async(F,z)=>{if(!h(F))return[];const ee=F.createReader(),Y=z+F.name+"/";let _=[],N=[];do N=await S(ee,Y),_=_.concat(N);while(N.length>0);return _},R=async(F,z="")=>{if(F){if(F.isFile)return[await p(F,z)];if(F.isDirectory)return await H(F,z)}};let L=[];const K=[],U=o.length;for(let F=0;F<U;F++)K.push(o[F].webkitGetAsEntry());for(const F of K){const z=await R(F);z!==void 0&&(L=L.concat(z))}return L}function Op(o){return{id:o.name,name:o.name,extension:o.type.split("/")[1],mime:o.type,path:o.name,type:o.type.split("/")[0],url:URL.createObjectURL(o),size:Number(o.size.toString()),lastModified:Number(new Date(o.lastModified).toString())}}const Bp={class:"p-6 grid grid-cols-2 md:grid-cols-4 gap-4"},Tp={class:"flex-grow flex justify-center items-center flex-col p-4",style:{height:"160px"}},Ap={class:"mt-6 bg-gray-100 dark:bg-gray-700 shadow border-2 border-gray-100 dark:border-gray-700 rounded-lg h-6 w-[6rem]"},Rp={class:"w-full h-8 flex-shrink-0 text-center text-xs border-t border-gray-200 dark:border-gray-700 flex items-center justify-center"},Mp={class:"px-2 truncate"},Ip=r.defineComponent({__name:"QueueModal",props:{modal:{type:Object,required:!0}},setup(o){const h=nt(),a=r.computed(()=>h.queue.map(p=>(p.entity=Op(p.file),p)));return(p,S)=>{const H=r.resolveComponent("Icon");return r.openBlock(),r.createBlock(Mn,{full:!0,disableClose:!0,modal:o.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(p.__("Queue")),1)]),default:r.withCtx(()=>[r.createElementVNode("div",Bp,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(a.value,R=>(r.openBlock(),r.createElementBlock("div",{key:R.id,ref_for:!0,ref:"card",class:"w-full h-full relative flex flex-col justify-center rounded-lg overflow-hidden cursor-pointer dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700"},[r.createElementVNode("div",Tp,[R.status===null?(r.openBlock(),r.createBlock(H,{key:0,class:"w-10 h-10 animate-bounce text-primary-500",type:"upload",solid:!0})):R.status===!1?(r.openBlock(),r.createBlock(H,{key:1,class:"w-10 h-10 text-red-500",type:"exclamation-circle",solid:!0})):R.status===!0?(r.openBlock(),r.createBlock(H,{key:2,class:"w-10 h-10 text-green-500",type:"check-circle",solid:!0})):r.createCommentVNode("",!0),r.createElementVNode("div",Ap,[r.createElementVNode("div",{class:r.normalizeClass(["block w-full h-full rounded-lg",{"bg-primary-500":R.status===null,"bg-red-500":R.status===!1,"bg-green-500":R.status===!0}]),style:r.normalizeStyle({width:`${R.ratio}%`,transition:"all .3s linear"})},null,6)])]),r.createElementVNode("div",Rp,[r.createElementVNode("p",Mp,r.toDisplayString(r.unref(wa)(R.entity?.name||"",25)),1)])],512))),128))])]),_:1},8,["modal"])}}}),Pp=["onDrop"],Lp={key:0,class:"absolute rounded-lg inset-0 bg-white/50 dark:bg-gray-800/50 flex items-center justify-center flex-grow z-50"},Fp={class:"flex-grow py-4 px-6 space-y-4"},ys=r.defineComponent({__name:"Browser",props:{selecting:{type:Boolean,default:()=>!1},multiple:{type:Boolean,default:()=>!0}},emits:["confirmSelect"],setup(o,{emit:h}){const a=o,p=nt(),{selectionConfirms:S}=qo(p);r.onMounted(()=>{p.init(),p.selecting=a.selecting,p.multiple=a.multiple}),us("Escape",F=>{p.modals.length>0&&!p.isProcessing&&(F.preventDefault(),F.stopPropagation(),p.modals.pop())}),r.watch(S,()=>{h("confirmSelect",p.selection),p.clearSelection(),p.closeModals()});const H=r.ref(!1),R=r.ref(),L=async F=>{try{R.value=F.dataTransfer?await Np(F.dataTransfer?.items):[]}catch{H.value=!1}},K=F=>R.value=F.target.files??[],U=()=>{H.value=!1,R.value?.length&&(R.value instanceof FileList&&p.upload(Array.from(R.value)),R.value instanceof Array&&p.upload(R.value))};return r.watch(R,()=>U()),(F,z)=>{const ee=r.resolveComponent("Loader");return r.openBlock(),r.createElementBlock("div",{class:r.normalizeClass(["relative h-full nova-file-manager",{"pointer-events-none":r.unref(p).isProcessing}]),onDragover:z[0]||(z[0]=r.withModifiers(Y=>H.value=!0,["prevent","stop"])),onDragleave:z[1]||(z[1]=r.withModifiers(Y=>H.value=!1,["prevent","stop"])),onDrop:r.withModifiers(L,["prevent","stop"])},[r.createVNode(r.Transition,null,{default:r.withCtx(()=>[r.unref(p).loading&&r.unref(p).modals.length===0?(r.openBlock(),r.createElementBlock("div",Lp,[r.createVNode(ee)])):r.createCommentVNode("",!0)]),_:1}),r.createVNode(r.Transition,null,{default:r.withCtx(()=>[H.value?(r.openBlock(),r.createBlock(Dp,{key:0})):r.createCommentVNode("",!0)]),_:1}),r.createVNode(Su,{onChangeFile:K}),r.createElementVNode("div",Fp,[r.unref(p).data?.breadcrumbs?.length>0?(r.openBlock(),r.createBlock(Yf,{key:0})):r.createCommentVNode("",!0),r.createVNode(qu),r.unref(p).data?.pagination?.last_page>1?(r.openBlock(),r.createBlock(Tu,{key:1})):r.createCommentVNode("",!0)]),r.createVNode(r.TransitionGroup,{name:"list"},{default:r.withCtx(()=>[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(r.unref(p).modals,Y=>(r.openBlock(),r.createElementBlock(r.Fragment,{key:Y.id},[Y.name===r.unref(Le).CREATE_FOLDER?(r.openBlock(),r.createBlock(Jf,{key:0,modal:Y},null,8,["modal"])):Y.name===r.unref(Le).DETAIL?(r.openBlock(),r.createBlock(Vf,{key:1,modal:Y},null,8,["modal"])):Y.name===r.unref(Le).RENAME?(r.openBlock(),r.createBlock(ap,{key:2,modal:Y},null,8,["modal"])):Y.name===r.unref(Le).CROP?(r.openBlock(),r.createBlock(yp,{key:3,modal:Y},null,8,["modal"])):Y.name===r.unref(Le).DELETE?(r.openBlock(),r.createBlock(up,{key:4,modal:Y},null,8,["modal"])):Y.name===r.unref(Le).SELECTED?(r.openBlock(),r.createBlock(kp,{key:5,modal:Y},null,8,["modal"])):Y.name===r.unref(Le).QUEUE?(r.openBlock(),r.createBlock(Ip,{key:6,modal:Y},null,8,["modal"])):r.createCommentVNode("",!0)],64))),128))]),_:1})],42,Pp)}}}),Ay="",Vp={class:"nova-file-manager"},Up={key:0,class:"fixed bg-gray-800/10 backdrop-blur inset-0 z-50 p-2 overflow h-full max-h-full flex justify-center"},zp=["onClick"],Wp={class:"relative w-full bg-white dark:bg-gray-800 rounded-lg shadow h-full max-w-5xl max-h-full"};return{Browser:ys,BrowserModal:{__name:"BrowserModal",props:{state:{type:Boolean,required:!0},selecting:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1}},emits:["update:state","confirmSelect"],setup(o,{emit:h}){const a=nt();us("Escape",S=>{a.modals.length||(S.preventDefault(),S.stopPropagation(),p())});function p(){h("update:state",!1)}return(S,H)=>(r.openBlock(),r.createElementBlock("div",Vp,[r.createVNode(r.Transition,null,{default:r.withCtx(()=>[o.state?(r.openBlock(),r.createElementBlock("div",Up,[r.createElementVNode("div",{class:"absolute inset-0",onClick:r.withModifiers(p,["prevent"])},null,8,zp),r.createElementVNode("div",Wp,[r.createVNode(ys,{selecting:o.selecting,multiple:o.multiple,onConfirmSelect:H[0]||(H[0]=R=>h("confirmSelect",R))},null,8,["selecting","multiple"])])])):r.createCommentVNode("",!0)]),_:1})]))}},createPinia:()=>Sc()}});
